!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("React"),require("ReactDOM"),require("Redux"),require("ReactRedux"),require("Masonry"));else if("function"==typeof define&&define.amd)define(["React","ReactDOM","Redux","ReactRedux","Masonry"],t);else{var n="object"==typeof exports?t(require("React"),require("ReactDOM"),require("Redux"),require("ReactRedux"),require("Masonry")):t(e.React,e.ReactDOM,e.Redux,e.ReactRedux,e.Masonry);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(e,t,n,r,a){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EurekaMediaBrowser=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),d=(r(n(2)),r(n(3))),f=(n(5),n(6)),p=r(n(7)),m=n(23),h=r(n(17)),v=r(n(106)),g=r(n(107)),y=n(19),b=n(9);(0,m.addLocaleData)([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(v.default)));var _=t.EurekaMediaBrowser=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.getLanguage(e).toLowerCase().split(/[_-]+/)[0],i=Object.assign({},e,{});if(e.storagePrefix,!0){Object.assign({},{currentDirectory:function(){try{return localStorage.getItem(e.storagePrefix+"currentDirectory")||void 0}catch(e){return}}(),mode:function(){try{return localStorage.getItem(e.storagePrefix+"mode")||void 0}catch(e){return}}(),sort:function(){try{return localStorage.getItem(e.storagePrefix+"sort")||void 0}catch(e){return}}(),treeHidden:function(){try{return!JSON.parse(localStorage.getItem(e.storagePrefix+"view")).sourceTreeOpen}catch(e){return}}()},e);var l=function(){try{return JSON.parse(localStorage.getItem(e.storagePrefix+"source"))||void 0}catch(e){return}}(),s=function(){try{return JSON.parse(localStorage.getItem(e.storagePrefix+"content"))||void 0}catch(e){return}}();if(l&&(void 0!==l.sources&&b.dispatch(y.fetchMediaSourcesSuccess(l.sources)),void 0!==l.currentSource&&b.dispatch(y.updateSource(l.currentSource.toString()))),s&&b.dispatch(y.updateContent(s)),!h.default.serverSideRendering)try{window.addEventListener("touchstart",function(){b.dispatch(y.upateView({isTouch:!0}))})}catch(e){}}b.dispatch(y.updateConfig(i));var c=function(){try{return e.endpoints.i18n}catch(e){return d.default.join(b.getState().config.assetsBasePath,"./js/i18n/locales/")}}();return function(){if(h.default.serverSideRendering)return!1;try{return!(!e.lang||"en"==r||void 0!==n.state.i18n[e.lang]||void 0!==n.state.i18n[r])}catch(t){return"en"!==e.lang}}()&&fetch(""+c+r+".json").then(function(e){e.json().then(function(e){n.state;n.setState({i18n:e})})}),b.subscribe(function(){var e=b.getState();if(console.log(e),e.config.useLocalStorage)try{localStorage.setItem(e.config.storagePrefix+"currentDirectory",e.content.cd),localStorage.setItem(e.config.storagePrefix+"directory",JSON.stringify(e.directory)),localStorage.setItem(e.config.storagePrefix+"currentSource",e.source.currentSource),localStorage.setItem(e.config.storagePrefix+"source",JSON.stringify(e.source)),localStorage.setItem(e.config.storagePrefix+"content",JSON.stringify(Object.assign({},e.content,{chosenMediaItemsInverted:void 0,chosenMediaItems:void 0}))),localStorage.setItem(e.config.storagePrefix+"tree",JSON.stringify(e.tree)),localStorage.setItem(e.config.storagePrefix+"view",JSON.stringify(Object.assign({},e.view,{selectionInverted:!1})))}catch(e){}}),n}return i(t,e),s(t,[{key:"getLanguage",value:function(e){try{return e.lang?e.lang:document.documentElement.lang||navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage}catch(e){return"en-US"}}},{key:"componentWillMount",value:function(){this.EurekaController=(0,f.connect)(function(e,t){return{content:e.content,view:e.view,tree:e.tree,source:e.source,directory:e.directory,fetched:e.fetched,config:e.config,notifications:e.notifications}})((0,m.injectIntl)(p.default))}},{key:"render",value:function(){var e=this,n=this.props,r=(this.state,this.getLanguage(n)),a=r.toLowerCase().split(/[_-]+/)[0],o=function(){return h.default.serverSideRendering?n.messages:"en"==a?g.default[a]||g.default[r]||g.default.en:function(){try{return e.state.i18n}catch(e){return g.default}}()||g.default}(),i=function(){try{return e.state.i18n?n.lang:t.defaultProps.lang}catch(e){return t.defaultProps.lang}}();return u.default.createElement(f.Provider,{store:b},u.default.createElement(m.IntlProvider,l({},n,{locale:r,messages:o}),u.default.createElement(this.EurekaController,l({},n,{lang:i}))))}}]),t}(c.PureComponent);_.defaultProps={i18n:"assets/js/i18n/locales/",lang:"en-US"},t.default=_},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return a.exec(e).slice(1)};t.resolve=function(){for(var t="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var i=o>=0?arguments[o]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,a="/"===i.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!a).join("/"),(a?"/":"")+t||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===i(e,-1);return(e=n(r(e.split("/"),function(e){return!!e}),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=r(e.split("/")),o=r(n.split("/")),i=Math.min(a.length,o.length),l=i,s=0;s<i;s++)if(a[s]!==o[s]){l=s;break}for(var c=[],s=l;s<a.length;s++)c.push("..");return(c=c.concat(o.slice(l))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(4))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function i(){h&&p&&(h=!1,p.length?m=p.concat(m):v=-1,m.length&&l())}function l(){if(!h){var e=a(i);h=!0;for(var t=m.length;t;){for(p=m,m=[];++v<t;)p&&p[v].run();v=-1,t=m.length}p=null,h=!1,o(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var u,d,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var p,m=[],h=!1,v=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new s(e,t)),1!==m.length||h||a(l)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),d=r(n(8)),f=r(n(53)),p=r(n(54)),m=r(n(57)),h=r(n(58)),v=r(n(59)),g=r(n(60)),y=r(n(64)),b=r(n(92)),_=r(n(93)),w=r(n(94)),E=r(n(95)),M=r(n(96)),C=r(n(97)),O=r(n(98)),S=r(n(102)),D=r(n(103)),k=(r(n(55)),r(n(104))),x=r(n(105)),T=r(n(70)),N=n(23),P=r(n(9)),I=r(n(19)),j=r(n(17)),A=r(n(56)),R=n(3),L=n(69),F=n(61),U=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return B.call(n),n.state={modalOpen:!1,currentModal:void 0,renamingItem:void 0,notifications:[],stickyNotifications:!0},n.decoratedActions=e.decoratedActions?Object.assign({},I.default,e.decoratedActions):I.default,n}return i(t,e),s(t,[{key:"componentWillUnmount",value:function(){this.removeKeyboardListeners()}},{key:"componentWillUpdate",value:function(e,t){try{var n=e.notifications.filter(function(e){return!e.archived});if(this.state.stickyNotifications===n[0].sticky)return;this.setState({stickyNotifications:n[0].sticky})}catch(e){}}},{key:"assignKeyboardListeners",value:function(){T.default.bind(["ctrl+;"],this.toggleSourceTreeOpen),T.default.bind(["ctrl+alt+1","ctrl+alt+2","ctrl+alt+3","ctrl+alt+4"],this.handleKeyboardChangeView),T.default.bind(["alt+0","alt+1","alt+2","alt+3","alt+4","alt+5","alt+6","alt+7","alt+8","alt+9"],this.handleKeyboardChangeSource),T.default.bind(["ctrl+u"],this.handleKeyboardUpload),T.default.bind(["ctrl+n"],this.handleKeyboardCreateDirectory),T.default.bind(["ctrl+f"],this.handleKeyboardFilter),T.default.bind(["alt+up"],this.handleKeyboardSortAscending),T.default.bind(["alt+down"],this.handleKeyboardSortDescending),T.default.bind(["alt+n"],this.handleKeyboardSortName),T.default.bind(["alt+d"],this.handleKeyboardSortDimensions),T.default.bind(["alt+f"],this.handleKeyboardSortFileSize),T.default.bind(["alt+e"],this.handleKeyboardSortEditedOn),T.default.bind(["alt+s"],this.handleKeyboardChooseSingle),T.default.bind(["alt+m"],this.handleKeyboardChooseMultiple),T.default.bind(["alt+i"],this.handleKeyboardToggleInvertSelection),T.default.bind(["alt+z"],this.handleKeyboardDeselect),this.props.config.handlers&&this.props.config.handlers.createFile&&T.default.bind(["ctrl+shift+n"],this.handleKeyboardCreateFile)}},{key:"removeKeyboardListeners",value:function(){T.default.unbind(["ctrl+;"],this.toggleSourceTreeOpen),T.default.unbind(["ctrl+alt+1","ctrl+alt+2","ctrl+alt+3","ctrl+alt+4"],this.handleKeyboardChangeView),T.default.unbind(["alt+0","alt+1","alt+2","alt+3","alt+4","alt+5","alt+6","alt+7","alt+8","alt+9"],this.handleKeyboardChangeSource),T.default.unbind(["ctrl+u"],this.handleKeyboardUpload),T.default.unbind(["ctrl+n"],this.handleKeyboardCreateDirectory),T.default.unbind(["ctrl+f"],this.handleKeyboardFilter),T.default.unbind(["alt+up"],this.handleKeyboardSortAscending),T.default.unbind(["alt+down"],this.handleKeyboardSortDescending),T.default.unbind(["alt+n"],this.handleKeyboardSortName),T.default.unbind(["alt+d"],this.handleKeyboardSortDimensions),T.default.unbind(["alt+f"],this.handleKeyboardSortFileSize),T.default.unbind(["alt+e"],this.handleKeyboardSortEditedOn),T.default.unbind(["alt+s"],this.handleKeyboardChooseSingle),T.default.unbind(["alt+m"],this.handleKeyboardChooseMultiple),T.default.unbind(["alt+i"],this.handleKeyboardToggleInvertSelection),T.default.unbind(["alt+z"],this.handleKeyboardDeselect),this.props.config.handlers&&this.props.config.handlers.createFile&&T.default.unbind(["ctrl+shift+n"],this.handleKeyboardCreateFile)}},{key:"getEurekaRoot",value:function(){try{return event.target.closest(".eureka-root")}catch(e){return document.querySelector(".eureka-root")}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=this.decoratedActions,r=t.intl,a=r.formatMessage;r.formatPlural;this.assignKeyboardListeners(),P.default.dispatch(n.fetchMediaSources(t.config.headers)).then(function(){P.default.dispatch(n.updateSourceTree(e.props.source.sources[0].id),t.config.headers).then(function(t){var r=e.props;P.default.dispatch(n.updateContent({cd:r.content.cd})),P.default.dispatch(n.fetchDirectoryContents(r.source.currentSource,{path:r.content.cd},r.config.headers)),void 0!==r.view.intervals.fetchDirectoryContents&&r.view.intervals.fetchDirectoryContents>0&&setInterval(function(){P.default.getState();var t=e.props;P.default.dispatch(n.updateContent({cd:t.content.cd})),P.default.dispatch(n.fetchDirectoryContents(t.source.currentSource,{path:t.content.cd},t.config.headers))},r.view.intervals.fetchDirectoryContents),void 0!==r.view.intervals.updateSourceTree&&r.view.intervals.updateSourceTree>0&&setInterval(function(){console.log("updating source tree"),P.default.dispatch(n.updateSourceTree(r.source.currentSource,r.config.headers))},r.view.intervals.updateSourceTree)}),(t.config.alwaysWelcome||t.config.welcome&&"false"!==localStorage.getItem(t.storagePrefix+"welcome"))&&function(){var e=a(A.default.welcomeToEureka);setTimeout(function(){P.default.dispatch(I.default.notify(e,void 0,t.config.learnMore,!1,!1)),localStorage.setItem(t.storagePrefix+"welcome","false")},420)}()}),document.body.addEventListener("keyup",function(t){switch(t.keyCode||t.charCode||0){case 27:e.setState({modalOpen:!1,currentModal:void 0})}})}},{key:"onCreateDirectory",value:function(){this.setState({modalOpen:!0,currentModal:"create_directory"})}},{key:"onModalCancel",value:function(e){P.default.dispatch(I.default.updateView({isCropping:!1}));try{e.preventDefault()}catch(e){}this.setState({modalOpen:!1,currentModal:void 0})}},{key:"onModalSubmit",value:function(e){var t=this,n=this.decoratedActions,r=this.props;switch(this.state.currentModal){case"create_directory":console.log(P.default.getState().content.cd,R.join(P.default.getState().content.cd,"foo")),P.default.dispatch(n.createDirectory(P.default.getState().source.currentSource,R.join(P.default.getState().content.cd,e))).then(function(){t.setState({modalOpen:!1,currentModal:void 0})}).then(function(){P.default.dispatch(n.fetchDirectoryContents(r.source.currentSource,{path:P.default.getState().content.cd},r.config.headers))});break;case"rename_item":console.log()}}},{key:"onRenameItemModalSubmit",value:function(e,t){var n=this,r=this.props;console.log("onRenameItemModalSubmit!!!",e,t);var a=this.decoratedActions,o=function(){try{return R.parse(t.path||t.cd).dir}catch(e){return console.log(e),L(t.path||t.cd).dir}}(),i=t.filename?a.renameItem:a.renameDirectory;P.default.dispatch(i(this.props.source.currentSource,t.path||t.cd,e,this.props.config.headers)).then(function(i){t.filename?(console.log("updating contents with result contents"),void 0!==i.contents&&P.default.dispatch(a.updateContent({contents:i.contents.filter(function(e){return e.filename})}))):(console.log(o),console.log("fetching, "+o),P.default.dispatch(a.fetchDirectoryContents(r.source.currentSource,{path:o},r.config.headers)).then(function(){console.log("all done",r.content.cd,t,e),r.content.cd===t.cd&&(console.log("they equal",R.join(o,e)),P.default.dispatch(a.updateContent({cd:R.join(o,e)})),P.default.dispatch(a.fetchDirectoryContents(r.source.currentSource,{path:R.join(o,e)},r.config.headers)),P.default.dispatch(a.updateSourceTree(r.source.currentSource,r.config.headers)))})),n.setState({renamingItem:void 0,modalOpen:!1,currentModal:void 0})})}},{key:"onCropItemModalSubmit",value:function(e){console.log("onCropItemModalSubmit",e)}},{key:"onRenameItem",value:function(e){console.log("onRenameItem",e),this.setState({renamingItem:e,modalOpen:!0,currentModal:"rename_item"})}},{key:"onCropItem",value:function(e){this.setState({renamingItem:e,modalOpen:!0,currentModal:"crop_item"})}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,r=this.props.intl,a=r.formatMessage,o=(r.formatDate,a(A.default.directory)),i=a(A.default.renameItem,{item:n.renamingItem?" "+n.renamingItem.filename:""}),s=(a(A.default.cropItem,{item:" "}),a(A.default.croppingItem,{item:function(){try{return t.view.focusedMediaItem.filename}catch(e){return}}()})),c=function(){if(n.modalOpen)switch(n.currentModal){case"create_directory":return u.default.createElement(M.default,l({onCancel:e.onModalCancel.bind(e),onSubmit:e.onModalSubmit.bind(e),title:o},t),u.default.createElement(C.default,t));case"rename_item":return u.default.createElement(M.default,l({onCancel:e.onModalCancel.bind(e),onSubmit:e.onRenameItemModalSubmit.bind(e),title:i},t),u.default.createElement(S.default,l({},t,{item:n.renamingItem})));case"crop_item":return u.default.createElement(M.default,l({className:"eureka__greedy eureka__crop-modal",showSpinner:t.view.isCropping,onCancel:e.onModalCancel.bind(e),onSubmit:e.onCropItemModalSubmit.bind(e),title:s},t),u.default.createElement(O.default,l({},t,{item:t.view.focusedMediaItem})));default:return}}(),T=t.config.allowUploads&&t.config.doDragNDrop?u.default.createElement(E.default,t):void 0,R=j.default.serverSideRendering?void 0:u.default.createElement("div",{hidden:!t.view.sourceTreeOpen,"aria-hidden":!t.view.sourceTreeOpen,id:"eureka__pathbrowser",className:"eureka__pathbrowser"},u.default.createElement(d.default,t),u.default.createElement(b.default,l({},t,{onCreateDirectory:this.onCreateDirectory.bind(this),onRenameItem:this.onRenameItem.bind(this)})),T,u.default.createElement(p.default,l({onCreateDirectory:this.onCreateDirectory.bind(this)},t))),L=t.view.sourceTreeOpen?void 0:u.default.createElement(f.default,t),U=!t.view.sourceTreeOpen&&t.config.allowUploads?u.default.createElement(_.default,t):void 0,B=t.view.focusedMediaItem?u.default.createElement(w.default,t):void 0,V=this.props.notifications?this.props.notifications.filter(function(e){return!e.archived}):[],z=function(){try{return V[0]}catch(e){return}}(),H=z?u.default.createElement(k.default,l({key:z.id,onDismiss:this.handleNotificationDismissed},z,t)):void 0,K=function(){try{if(t.config.callbacks.choose)return!0}catch(e){return!1}}(),W=j.default.serverSideRendering?void 0:u.default.createElement(m.default,t),Y=j.default.serverSideRendering?void 0:u.default.createElement(g.default,t),G=K?u.default.createElement(h.default,l({ariaHidden:n.modalOpen},t)):void 0,q=t.view.enlargeFocusedRows?" eureka__enlarge-focused-rows":"",X=t.view.chooseMultiple?" eureka__choose-multiple":"",$=j.default.serverSideRendering?void 0:u.default.createElement(v.default,t),Z=j.default.serverSideRendering?" eureka__server-side":"",J=t.config.allowChooseMultiple&&!j.default.serverSideRendering?u.default.createElement(x.default,{config:t.config,view:t.view,content:t.content,storagePrefix:t.storagePrefix}):void 0,Q=j.default.serverSideRendering?void 0:u.default.createElement(D.default,l({},t,{sort:t.view.sort})),ee=u.default.createElement("div",{"aria-hidden":n.modalOpen,className:F({"eureka__browse-content":!0,eureka__uploading:t.view.isUploading})},R,u.default.createElement("div",{className:"eureka__stage"},u.default.createElement("div",{className:"eureka__stage__filter-view"},u.default.createElement("header",null,u.default.createElement("h2",null,u.default.createElement("span",{className:"visually-hidden"},u.default.createElement(N.FormattedMessage,{id:"media.browse",defaultMessage:"Browse"})," "),u.default.createElement(N.FormattedMessage,{id:"media.contents",defaultMessage:"Media Content"})),J,$),u.default.createElement("div",{role:"menubar",className:"eureka__tree-toggle"},W,L,Q,U,Y)),u.default.createElement("div",{className:"eureka__table-wrapper"},u.default.createElement(y.default,l({view:t.view},t,{decoratedActions:t.decoratedActions,source:t.source,content:t.content,config:t.config,onCropItem:this.onCropItem.bind(this),onRenameItem:this.onRenameItem.bind(this),onSubmit:this.onRenameItemModalSubmit.bind(this)})))));return j.default.serverSideRendering?u.default.createElement("form",{lang:t.lang||void 0,method:"POST",action:t.config.basePath,encType:"multipart/form-data",className:"eureka eureka__view-mode__"+t.view.mode+q+Z},ee,B,G,c):u.default.createElement("div",{onPaste:function(e){if(e.clipboardData){var n=e.clipboardData.items;if(!n||e.target.matches("input")||e.target.matches("textarea"))return;for(var r=0;r<n.length;r++)if(-1!==n[r].type.indexOf("image")){var a=n[r].getAsFile(),o=new FormData,i=t.decoratedActions?Object.assign({},I.default,t.decoratedActions):I.default;o.append("eureka__uploadFiles",a,"paste-image."+(new Date).getTime()+".png"),P.default.dispatch(i.uploadFiles(t.source.currentSource,t.content.cd,o,t.config.headers))}}},lang:t.lang||void 0,className:"eureka eureka__view-mode__"+t.view.mode+X+q+Z},u.default.createElement("div",{className:F({"eureka__sticky-bar":this.state.stickyNotifications}),"aria-live":"assertive","aria-relevant":"additions","aria-atomic":"true",onClick:function(e){e.currentTarget.querySelector("button").click()}},H),ee,B,G,c)}}]),t}(c.Component),B=function(){var e=this;this.handleKeyboardFilter=function(t){var n=e.getEurekaRoot();try{n.querySelector('input[name="eureka__filter"]').focus()}catch(e){}},this.handleKeyboardSortAscending=function(e){e.preventDefault(),P.default.dispatch(I.default.updateView({sort:{dir:j.default.ASCENDING}}))},this.handleNotificationDismissed=function(e){P.default.dispatch(I.default.archiveNotification(e))},this.handleKeyboardSortDescending=function(e){e.preventDefault(),P.default.dispatch(I.default.updateView({sort:{dir:j.default.DESCENDING}}))},this.handleKeyboardSortName=function(e){P.default.dispatch(I.default.updateView({sort:{by:"filename"}}))},this.handleKeyboardSortDimensions=function(e){P.default.dispatch(I.default.updateView({sort:{by:"dimensions"}}))},this.handleKeyboardSortFileSize=function(e){P.default.dispatch(I.default.updateView({sort:{by:"fileSize"}}))},this.handleKeyboardSortEditedOn=function(e){P.default.dispatch(I.default.updateView({sort:{by:"editedOn"}}))},this.handleKeyboardChooseSingle=function(e){P.default.dispatch(I.default.updateView({chooseMultiple:!1}))},this.handleKeyboardChooseMultiple=function(e){P.default.dispatch(I.default.updateView({chooseMultiple:!0}))},this.handleKeyboardToggleInvertSelection=function(t){e.props.view.chooseMultiple&&P.default.dispatch(I.default.updateView({selectionInverted:!e.props.view.selectionInverted}))},this.handleKeyboardDeselect=function(e){console.log("handleKeyboardDeselect"),P.default.dispatch(I.default.deselectAll())},this.toggleSourceTreeOpen=function(t){P.default.dispatch(e.decoratedActions.updateView({sourceTreeOpen:!e.props.view.sourceTreeOpen}))},this.handleKeyboardCreateDirectory=function(t){e.onCreateDirectory()},this.handleKeyboardCreateFile=function(t){try{var n=e.props.config.handlers.createFile(e.props.source.currentSource,e.props.content.cd);n.onClick?n.onClick(e.props.source.currentSource,e.props.content.cd):window.open(n.href)}catch(e){}},this.handleKeyboardUpload=function(t){var n=e.getEurekaRoot();try{n.querySelector(".eureka__drop-area-zone").click()}catch(e){n.querySelector('input[name="eureka__uploadFiles"]').click()}},this.handleKeyboardChangeSource=function(t){var n=e.props,r=P.default.getState(),a=e.decoratedActions,o=void 0;r.source.sources.map(function(e){("Digit"+e.id).toLowerCase()==t.code.toLowerCase()&&(o=e)}),o&&(n.dispatch(a.updateSource(o.id)),n.dispatch(a.updateSourceTree(o.id,n.config.headers)))},this.handleKeyboardChangeView=function(t){switch(t.key){case"1":P.default.dispatch(e.decoratedActions.updateView({mode:"table"}));break;case"2":P.default.dispatch(e.decoratedActions.updateView({mode:"thumb"}));break;case"3":P.default.dispatch(e.decoratedActions.updateView({mode:"grid"}));break;case"4":P.default.dispatch(e.decoratedActions.updateView({mode:"list"}))}}};t.default=U},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),o=(r(n(9)),r(n(19))),i=n(23),l=function(e){var t=e.decoratedActions?Object.assign({},o.default,e.decoratedActions):o.default,n=e.source.sources.map(function(e,t){return a.default.createElement("option",{key:e.name+"__"+(void 0===e.id?t:e.id),value:void 0===e.id?t:e.id},e.name)});return a.default.createElement("div",{className:"eureka__media-source-selector",role:"complementary"},a.default.createElement("h2",null,a.default.createElement("label",{htmlFor:"media-source-selector__select"},a.default.createElement("span",{className:"visually-hidden"},a.default.createElement(i.FormattedMessage,{id:"choose",defaultMessage:"Choose"})," ",a.default.createElement(i.FormattedMessage,{id:"grammar.a",defaultMessage:"a"})," "),a.default.createElement(i.FormattedMessage,{id:"media.source",defaultMessage:"Media Source"}))),a.default.createElement("select",{value:e.source.currentSource,id:"media-source-selector__select",onChange:function(n){e.dispatch(t.updateSource(n.target.value)),e.dispatch(t.updateSourceTree(n.target.value,e.config.headers))}},n))};t.default=l},function(e,t,n){"use strict";var r=n(5),a=r.createStore,o=r.applyMiddleware,i=n(10).default,l=a(n(11).EurekaReducer,o(i));e.exports=l},function(e,t){"use strict";function n(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"==typeof a?a(n,r,e):t(a)}}}}t.__esModule=!0;var r=n();r.withExtraArgument=n,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?e.filter(function(e){return!t.includes(e)}):t}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=r(n(12)),c=r(n(17)),u=r(n(18)),d=n(19),f=n(5).combineReducers,p=n(3),m=n(22),h={basePath:"/",allowChoose:!0,allowUploads:!0,allowDownload:!0,treeHidden:!0,useLocalStorage:!0,storagePrefix:"eureka__",allowRename:!0,allowDelete:!0,confirmBeforeDelete:!1,allowDownloadMultiple:!0,locales:"en-US",allowChooseMultiple:!0,allowInvertSelection:!0,mediaSource:void 0,currentDirectory:"/",allowMasonry:!0,welcome:!0,alwaysWelcome:!1,autoSubmitForms:!0,allowCrop:!c.default.serverSideRendering,zoomOnWheel:!1,learnMore:"https://github.com/jpdevries/eureka",uid:"0",iconSVG:"./img/icons."+m.version+".min.svg",assetsBasePath:"./assets/",doDragNDrop:!0,emphasisFocusedMediaItem:!0,headers:{"Powered-By":"Eureka by Markup.tips"},intervals:{searchBarPlaceholder:6e4,fetchDirectoryContents:18e3,updateSourceTree:!1},callbacks:{close:void 0,choose:void 0},handlers:{createFile:void 0}},v=void 0,g=function(e,t){switch(e=e||h,t.type){case d.UPDATE_CONFIG:return Object.assign({},e,t.config)}return e},y=!1,b=Object.assign({},{cd:"/",chosenMediaItems:[],chosenMediaItemsInverted:[],contents:[]},function(){try{return Object.assign({},JSON.parse(localStorage.getItem("eureka__content")),{chosenMediaItems:[]})}catch(e){return{}}}()),_=function(e,t){function n(e){try{return e.map(function(e){var t=new Date(e.editedOn);return Object.assign({},e,{localString:t.toLocaleString(),localStringVerbose:t.toLocaleString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),fileSizeHumanReadable:(0,u.default)(e.fileSize,{round:0}),editedOnTwoDigit:new Date(e.editedOn).toLocaleString(void 0,{year:"2-digit",month:"2-digit",day:"2-digit"}),editedOnLongTimeZone:new Date(e.editedOn).toLocaleString(void 0,{weekday:"long",year:"numeric",month:"long",day:"2-digit",timeZoneName:"long"})})})}catch(t){return e}}var r=e=e||b,a=void 0,o=function(){switch(t.type){case d.UPDATE_CONFIG:if(t.config.currentDirectory)return{v:Object.assign({},e,{cd:t.config.currentDirectory})};break;case d.UPDATE_VIEW:try{y===t.view.selectionInverted&&e.contents.chosenMediaItems.length===e.contents.chosenMediaItemsInverted.length||(r=(0,s.default)(e,{$merge:{chosenMediaItemsInverted:i(e.contents,e.chosenMediaItems,t.view.selectionInverted)}}))}catch(e){console.log(e)}return y=t.view.selectionInverted,{v:r};case d.INVERT_SELECTION:return{v:r};case d.ADD_MEDIA_ITEM_TO_CHOSEN_ITEMS:return e.chosenMediaItems.includes(t.item)?{v:r}:(a=(0,s.default)(r.chosenMediaItems,{$push:[t.item]}),{v:(0,s.default)(r,{$merge:{chosenMediaItems:a,chosenMediaItemsInverted:i(r.contents,(0,s.default)(r.chosenMediaItems,{$push:[t.item]}),t.inverted)}})});case d.REMOVE_MEDIA_ITEM_FROM_CHOSEN_ITEMS:return e.chosenMediaItems.includes(t.item)?(a=r.chosenMediaItems.filter(function(e){return e!==t.item}),{v:(0,s.default)(r,{$merge:{chosenMediaItems:a,chosenMediaItemsInverted:i(r.contents,a,t.inverted)}})}):{v:r};case d.DESELECT_ALL:return{v:(0,s.default)(r,{$merge:{chosenMediaItems:[],chosenMediaItemsInverted:[]}})};case d.UPDATE_CONTENT:var o=n(t.content);return r=Object.assign({},e,o),t.content.cd&&t.content.cd!==e.cd&&(r=Object.assign({},r,{chosenMediaItems:[],chosenMediaItemsInverted:[]})),t.content.chosenMediaItems&&void 0!==e.view&&(r=(0,s.default)(e,{$merge:{chosenMediaItemsInverted:i(e.contents,e.chosenMediaItems,e.view.selectionInverted)}})),{v:r};case d.FETCH_DIRECTORY_CONTENTS_SUCCESS:return{v:Object.assign({},r,{contents:n(t.contents.filter(function(e){return e.filename}))})};case d.DELETE_MEDIA_ITEMS_SUCCESS:console.log(d.DELETE_MEDIA_ITEMS_SUCCESS);var l=t.formData,c=function(){try{return l.getAll("delete_file[]")}catch(e){return t.chosenMediaItems.map(function(e){return e.filename})}}();a=r.chosenMediaItems.filter(function(e){return!c.includes(e.filename)});var u=n(t.contents.filter(function(e){return e.filename})),f=r.chosenMediaItemsInverted.filter(function(e){return!c.includes(e.filename)});return{v:Object.assign({},r,{contents:u,chosenMediaItems:a,chosenMediaItemsInverted:f})};case d.UPLOAD_FILES_SUCCESS:return{v:Object.assign({},r,{contents:n(t.contents.filter(function(e){return e.filename}))})};case d.DELETE_MEDIA_ITEM_SUCCESS:return{v:Object.assign({},r,{cd:e.cd===t.path?p.join(e.cd,".."):e.cd,contents:e.contents.filter(function(e){return e.path!==t.path})})}}}();return"object"===(void 0===o?"undefined":l(o))?o.v:e},w=function(){try{var e=JSON.parse(localStorage.getItem("eureka__tree"));return Array.isArray(e)?e:[]}catch(e){return[]}}(),E="",M=!1,C=function(e,t){e=e||w,console.log("treeReducer",t);var n=function(){switch(t.type){case d.UPDATE_SOURCE_TREE_SUCCESS:console.log("UPDATE_SOURCE_TREE_SUCCESS!!!");var n=M?e.slice(0):[],r=function(e){for(var t=0;t<n.length;t++)if(n[t].cd===e.cd)return!0;return!1};console.log(".");console.log("..");var a=t.contents.map(function(e){return Object.assign({},e,{children:e.children?e.children:[]})});console.log("..."),a.map(function(e){r(e)||n.push(e)}),console.log("....");var i=t.contents;console.log("actionContents",i);var l=function(e,t){console.log("recursivelyGetDirectoryChildren",e,t);for(var n=0;n<t.length;n++){var r=t[n];console.log(r)}return[]};console.log("---------"),console.log("loop it::::");var s=function e(t){return t.filter(function(e){return void 0!==e}).map(function(t){if(console.log(t,t.children),t.children){if(t)return t.children&&e(t.children),t}else if(console.log("the server didn't tell us if "+t.cd+" has children"),t&&t.cd){var r=l(t.cd,n);return r&&r.length?(console.log("gonna return some shit!",r),Object.assign({},t,{children:r})):t}})}(i);return console.log("---------"),console.log("actionContents",i),M=!0,{v:s};case d.UPDATE_CONTENT:t.content.cd&&(E=t.content.cd);break;case d.FETCH_DIRECTORY_CONTENTS_SUCCESS:var u=t.contents.filter(function(e){return e.foldername}).map(function(e){return{name:e.foldername,cd:e.directory,children:[]}});console.log("foldersToAdd",u);return{v:function e(t){return console.log(t),Array.isArray(t)?t.map(function(e){return Object.assign({},e,{children:e.children||[]})}).map(function(t){return Object.assign({},t,{children:t.cd===E?c.default.removeDuplicates([].concat(o(t.children),o(u)),"name"):e(t.children)})}):[]}(e)};case d.DELETE_MEDIA_ITEM_SUCCESS:var f=!0;return{v:function e(n){return n.map(function(n){return n.cd===t.path?void(f=!1):Object.assign({},n,{children:n.children&&f?e(n.children):n.children})}).filter(Boolean)}(e)}}}();return"object"===(void 0===n?"undefined":l(n))?n.v:e},O=Object.assign({},{focusedMediaItem:void 0,filter:void 0,mode:"table",sourceTreeOpen:!1,enlargeFocusedRows:!1,locale:"en-US",chooseMultiple:!1,showAdvControls:!1,sort:{by:"filename",dir:c.default.ASCENDING},cropAspectRatio:NaN,rememberAspectRatio:!0,isTableScrolling:!1,selectionInverted:y,allowFullscreen:!0,isUploading:!1,isCropping:!1,isTouch:!1,fetchingContents:!1,intervals:{searchBarPlaceholder:!1,fetchDirectoryContents:!1,updateSourceTree:!1}},function(){try{var e=JSON.parse(localStorage.getItem("eureka__view"));return Object.assign({},e,{isUploading:!1,isTableScrolling:!1})}catch(e){return{}}}()),S=b.cd,D=function(e,t){switch(e=e||O,t.type){case d.FETCH_DIRECTORY_CONTENTS_SUCCESS:case d.FETCH_DIRECTORY_CONTENTS_ERROR:return Object.assign({},e,{fetchingContents:!1});case d.UPLOAD_FILES_SUCCESS:case d.UPLOAD_FILES_ERROR:return Object.assign({},e,{isUploading:!1});case d.UPDATE_VIEW:return Object.assign({},e,t.view);case d.UPDATE_CONTENT:if(t.content.cd&&t.content.cd!==S){var n=Object.assign({},e,{selectionInverted:!1});return S=t.content.cd,n}return e;case d.UPDATE_CONFIG:var r={};return t.config.intervals&&(r=Object.assign({},r,{intervals:t.config.intervals})),t.config.mode&&(r=Object.assign({},r,{mode:t.config.mode})),t.config.sort&&(r=Object.assign({},r,{sort:t.config.sort})),t.config.locale&&(r=Object.assign({},r,{locale:t.config.locale})),void 0!==t.config.enlargeFocusedRows&&(r=Object.assign({},r,{enlargeFocusedRows:t.config.enlargeFocusedRows})),void 0!==t.config.treeHidden&&(r=Object.assign({},r,{sourceTreeOpen:!t.config.treeHidden})),void 0!==t.config.allowFullscreen&&(r=Object.assign({},r,{allowFullscreen:t.config.allowFullscreen})),Object.assign({},e,r);case d.UPDATE_SOURCE_TREE_SUCCESS:return Object.assign({},e,{cd:"/"});case d.DELETE_MEDIA_ITEM_SUCCESS:try{if(e.focusedMediaItem.path===t.path)return Object.assign({},e,{focusedMediaItem:void 0})}catch(e){}}return e},k=Object.assign({},{currentSource:"0",sources:[]},function(){try{return JSON.parse(localStorage.getItem("eureka__source"))}catch(e){return{}}}()),x=function(e,t){switch(e=e||k,t.type){case d.FETCH_MEDIA_SOURCES_SUCCESS:return Object.assign({},e,{sources:t.sources});case d.UPDATE_SOURCE:return Object.assign({},e,{currentSource:t.source})}return e},T=function(){try{var e=JSON.parse("eureka__directory");if(!Array.isArray(e))throw new Error("eureka__directory is not an Array");return e}catch(e){return[{name:"Filesystem",id:"fileystem",directories:[]}]}}(),N={lastDirectoriesFetched:[]},P=[],I=f({content:_,view:D,tree:C,source:x,directory:function(e,t){e=e||T;var n=[],r=function(){switch(t.type){case d.UPDATE_SOURCE:v=t.source;break;case d.FETCH_MEDIA_SOURCES_SUCCESS:return void 0===v&&(v=t.sources[0].id),{v:t.sources.map(function(e){return Object.assign({},e,{directories:[]})})};case d.UPDATE_SOURCE_TREE_SUCCESS:n=t.contents.map(function(e){return Object.assign({},e,{children:e.children?e.children:[]})});var r=function e(t){try{t.children.map(function(t){n.push({name:t.name,cd:t.cd,children:t.children||[]}),t.children.length&&e(t)})}catch(e){}};return t.contents.map(function(e){r(e)}),n=c.default.removeDuplicates([].concat(o(n)),"cd"),{v:e.map(function(e){return Object.assign({},e,{directories:e.id==v?c.default.removeDuplicates([].concat(o(e.directories),o(n)),"cd"):e.directories})})};case d.FETCH_DIRECTORY_CONTENTS_SUCCESS:return n=t.contents.filter(function(e){return e.foldername}).map(function(e){return{name:e.foldername,cd:e.directory}}),{v:e.map(function(e){return Object.assign({},e,{directories:e.id==v?c.default.removeDuplicates([].concat(o(e.directories),o(n)),"name"):e.directories})})};case d.UPDATE_SOURCE:}}();return"object"===(void 0===r?"undefined":l(r))?r.v:e},fetched:function(e,t){switch(e=e||N,t.type){case d.FETCH_DIRECTORY_CONTENTS_SUCCESS:var n=t.contents.filter(function(e){return e.foldername}).map(function(e){return e.foldername});return Object.assign({},e,{lastDirectoriesFetched:n})}return e},config:g,notifications:function(e,t){var n=0;switch((e=e||P).map(function(e,r){e.id==t.id&&(n=r)}),t.type){case d.NOTIFICATION:var r=e;try{r=(0,s.default)(e,a({},0,{$apply:function(e){return(0,s.default)(e,{$merge:{dismissAfter:void 0,archived:!0}})}}))}catch(e){}return console.log("newState",r),(0,s.default)(r,{$push:[Object.assign({},t,{type:t.notificationType})]});case d.NOTIFICATION_DELETED:return e.filter(function(e){return e.id!==t.id});case d.NOTIFICATION_ARCHIVED:return(0,s.default)(e,a({},n,{$apply:function(e){return(0,s.default)(e,{$merge:{archived:!0}})}}))}return e}});t.EurekaReducer=I},function(e,t,n){e.exports=n(13)},function(e,t,n){(function(t){"use strict";function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?l(new e.constructor,e):e}function a(e,n,r){Array.isArray(e)||("production"!==t.env.NODE_ENV?s(!1,"update(): expected target of %s to be an array; got %s.",r,e):i("1",r,e));var a=n[r];Array.isArray(a)||("production"!==t.env.NODE_ENV?s(!1,"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",r,a):i("2",r,a))}function o(e,n){if("object"!=typeof n&&("production"!==t.env.NODE_ENV?s(!1,"update(): You provided a key path to update() that did not contain one of %s. Did you forget to include {%s: ...}?",v.join(", "),p):i("3",v.join(", "),p)),c.call(n,p))return 1!==Object.keys(n).length&&("production"!==t.env.NODE_ENV?s(!1,"Cannot have more than one key in an object with %s",p):i("4",p)),n[p];var y=r(e);if(c.call(n,m)){var b=n[m];b&&"object"==typeof b||("production"!==t.env.NODE_ENV?s(!1,"update(): %s expects a spec of type 'object'; got %s",m,b):i("5",m,b)),y&&"object"==typeof y||("production"!==t.env.NODE_ENV?s(!1,"update(): %s expects a target of type 'object'; got %s",m,y):i("6",m,y)),l(y,n[m])}c.call(n,u)&&(a(e,n,u),n[u].forEach(function(e){y.push(e)})),c.call(n,d)&&(a(e,n,d),n[d].forEach(function(e){y.unshift(e)})),c.call(n,f)&&(Array.isArray(e)||("production"!==t.env.NODE_ENV?s(!1,"Expected %s target to be an array; got %s",f,e):i("7",f,e)),Array.isArray(n[f])||("production"!==t.env.NODE_ENV?s(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",f,n[f]):i("8",f,n[f])),n[f].forEach(function(e){Array.isArray(e)||("production"!==t.env.NODE_ENV?s(!1,"update(): expected spec of %s to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",f,n[f]):i("8",f,n[f])),y.splice.apply(y,e)})),c.call(n,h)&&("function"!=typeof n[h]&&("production"!==t.env.NODE_ENV?s(!1,"update(): expected spec of %s to be a function; got %s.",h,n[h]):i("9",h,n[h])),y=n[h](y));for(var _ in n)g.hasOwnProperty(_)&&g[_]||(y[_]=o(e[_],n[_]));return y}var i=n(14),l=n(15),s=n(16),c={}.hasOwnProperty,u="$push",d="$unshift",f="$splice",p="$set",m="$merge",h="$apply",v=[u,d,f,p,m,h],g={};v.forEach(function(e){g[e]=!0}),e.exports=o}).call(t,n(4))},function(e,t){"use strict";function n(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var a=new Error(n);throw a.name="Invariant Violation",a.framesToPop=1,a}e.exports=n},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,l,s=n(e),c=1;c<arguments.length;c++){i=Object(arguments[c]);for(var u in i)a.call(i,u)&&(s[u]=i[u]);if(r){l=r(i);for(var d=0;d<l.length;d++)o.call(i,l[d])&&(s[l[d]]=i[l[d]])}}return s}},function(e,t,n){(function(t){"use strict";function n(e,t,n,a,o,i,l,s){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,o,i,l,s],d=0;(c=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}var r=function(e){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=n}).call(t,n(4))},function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e:Array.from(e)}function a(e,t){try{n=new URL(e,window.location.origin);return Object.keys(t).forEach(function(e){return n.searchParams.append(e,t[e])}),n}catch(a){var n,r=function(){console.log(a),n=e.indexOf("?")>-1?e.substr(0,e.indexOf("?"))+"?":e+"?";var r=[];return Object.keys(t).forEach(function(e){return r.push(e+"="+t[e])}),n+=r.join("&"),{v:n}}();if("object"===(void 0===r?"undefined":p(r)))return r.v}}function o(e){var t={time:(new Date).getTime(),target:e.currentTarget},n=t.target===g.target&&t.time-g.time<v;return g=t,n}function i(e,t){return e.filter(function(e,n,r){return r.map(function(e){return e[t]}).indexOf(e[t])===n})}function l(e){return(e="string"==typeof e?e:"").replace(/[^a-z0-9]/g,function(e){var t=e.charCodeAt(0);return 32==t?"-":t>=65&&t<=90?e.toLowerCase():"__"+("000"+t.toString(16)).slice(-4)})}function s(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=[];for(t=0,n=e.length;t<n;t+=r)a.push(e.substr(t,r));return a.map(function(e){return[e,m.default.createElement("wbr",null)]})}function c(e){switch(e){case".jpg":case".jpeg":case".gif":case".png":case".png8":case".png24":case".svg":case".bmp":case".tiff":return"file-image-o";case".pdf":return"file-pdf-o";case".zip":case".tar":return"file-archive-o";case".ppt":case".pot":case".pps":return"file-powerpoint-o";case".doc":case".dot":case".wbk":case".docx":case".docm":case".dotx":case".dotm":case".docb":return"file-word-o";case".xls":case".xlt":case".xlm":case".xlsx":case".xlsm":case".xltx":case".xltm":case".xlsb":case".xla":case".xlam":case".xll":case".xlw":return"file-excel-o";case".txt":case".rtf":return"file-text-o";case".js":case".json":case".html":case".htm":case".css":case".scss":return"file-code-o";case".mp3":case".wav":case".ogg":case".flac":return"file-audio-o";case".webm":case".wbm":case".mp4":case".mov":return"file-video-o";default:return"file-image-o"}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"||",n=r(e.split(t));return[n[0],n.slice(1).join("||")]}function d(e,t,n){if(t[e.sort.by]===n[e.sort.by])return 0;var r=void 0;switch(e.sort.by){case"dimensions":try{r=t.dimensions[0]*t.dimensions[1]>n.dimensions[0]*n.dimensions[1]?1:-1}catch(e){console.log(e)}break;case"editedOn":r=new Date(t.editedOn).getTime()>new Date(n.editedOn).getTime()?1:-1;break;default:r=t[e.sort.by]>n[e.sort.by]?1:-1}return e.sort.dir===h?r:0-r}function f(e,t){console.log("runPrefixMethod");for(var n,r,a=["webkit","moz","ms","o",""],o=0;o<a.length&&!e[n];){if(n=t,""==a[o]&&(n=n.substr(0,1).toLowerCase()+n.substr(1)),n=a[o]+n,"undefined"!=(r=p(e[n])))return a=[a[o]],"function"==r?e[n]():e[n];o++}}var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),h="ascending",v=300,g={time:0,target:null};t.contentSort=d,t.serverSideRendering=function(){try{return!(void 0!==document)}catch(e){return!0}}(),t.parseMediaSourceOutOfCombinedPath=u,t.getIconByExtension=c,t.makeURL=a,t.removeDuplicates=i,t.ASCENDING=h,t.DESCENDING="descending",t.cssSafe=l,t.isDblTouchTap=o,t.wordBreaksEvery=s,t.runPrefixMethod=f,t.DANGEROUS="dangerous"},function(e,t,n){(function(t){"use strict";!function(t){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=0,l=void 0,s=void 0,c=void 0,u=void 0,d=void 0,f=void 0,p=void 0,m=void 0,h=void 0,v=void 0,g=void 0,y=void 0,b=void 0,_=void 0;if(isNaN(e))throw new Error("Invalid arguments");return c=!0===t.bits,g=!0===t.unix,s=t.base||2,v=void 0!==t.round?t.round:g?1:2,y=void 0!==t.spacer?t.spacer:g?"":" ",_=t.symbols||t.suffixes||{},b=2===s?t.standard||"jedec":"jedec",h=t.output||"string",d=!0===t.fullform,f=t.fullforms instanceof Array?t.fullforms:[],l=void 0!==t.exponent?t.exponent:-1,m=Number(e),p=m<0,u=s>2?1e3:1024,p&&(m=-m),(-1===l||isNaN(l))&&(l=Math.floor(Math.log(m)/Math.log(u)))<0&&(l=0),l>8&&(l=8),0===m?(n[0]=0,n[1]=g?"":a[b][c?"bits":"bytes"][l]):(i=m/(2===s?Math.pow(2,10*l):Math.pow(1e3,l)),c&&(i*=8)>=u&&l<8&&(i/=u,l++),n[0]=Number(i.toFixed(l>0?v:0)),n[1]=10===s&&1===l?c?"kb":"kB":a[b][c?"bits":"bytes"][l],g&&(n[1]="jedec"===b?n[1].charAt(0):l>0?n[1].replace(/B$/,""):n[1],r.test(n[1])&&(n[0]=Math.floor(n[0]),n[1]=""))),p&&(n[0]=-n[0]),n[1]=_[n[1]]||n[1],"array"===h?n:"exponent"===h?l:"object"===h?{value:n[0],suffix:n[1],symbol:n[1]}:(d&&(n[1]=f[l]?f[l]:o[b][l]+(c?"bit":"byte")+(1===n[0]?"":"s")),n.join(y))}var r=/^(b|B)$/,a={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},o={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]};n.partial=function(e){return function(t){return n(t,e)}},e.exports=n}("undefined"!=typeof window&&window)}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(17));n(20);var a=function(e){return{type:"add_item_success",item:e}},o=function(e){return{type:"add_item_error",task:e}},i=function(e){return{type:"update_view",view:e}},l=function(){return{type:"deselect_all"}},s=function(){return{type:"invert_selection"}},c=function(e){return{type:"update_source",source:e}},u=function(e){return{type:"add_media_item_to_chosen_items",item:e,inverted:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},d=function(e){return{type:"remove_media_item_from_chosen_items",item:e,inverted:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},f=function(e){return{type:"update_content",content:e}},p=function(e){return{type:"update_config",config:e}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return fetch("/assets/components/eureka/media/sources/"+e,{method:"GET",headers:Object.assign({},{Accept:"application/json","Content-Type":"application/json"},t)}).then(function(e){if(e.state<200||e.state>=300){var t=new Error(e.statusText);throw t.response=e,t}return e}).then(function(e){return e.json()}).then(function(e){return n(h(e))}).catch(function(e){return n(v(e))})}},h=function(e){return{type:"update_source_tree_success",contents:e}},v=function(e){return{type:"update_source_tree_error",error:e}},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a){return fetch(r.default.makeURL("/assets/components/eureka/media/sources/"+e,t),{method:"GET",headers:Object.assign({},{Accept:"application/json","Content-Type":"application/json"},n)}).then(function(e){if(e.state<200||e.state>=300){var t=new Error(e.statusText);throw console.log(t),t.response=e,t}return e}).then(function(e){return e.json()}).then(function(n){return a(y(n,e,t))}).catch(function(e){return a(b(e))})}},y=function(e,t,n){return{type:"fetch_directory_contents_success",contents:e,source:t,params:n}};t.fetchDirectoryContentsSuccess=y;var b=function(e){return{type:"fetch_directory_contents_error",error:e}};t.fetchDirectoryContentsError=b;var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return fetch("/assets/components/eureka/media/sources",{method:"GET",headers:Object.assign({},{Accept:"application/json","Content-Type":"application/json"},e)}).then(function(e){if(e.state<200||e.state>=300){var t=new Error(e.statusText);throw t.response=e,t}return e}).then(function(e){return e.json()}).then(function(e){return t(w(e))}).catch(function(e){return t(E(e))})}},w=function(e){return{type:"fetch_media_sources_success",sources:e}},E=function(e){return{type:"fetch_media_sources_error",error:e}},M=function(e,t){return{type:"delete_media_item_success",source:e,path:t}};t.DELETE_MEDIA_ITEM_SUCCESS="delete_media_item_success",t.deleteMediaItemSuccess=M,t.UPDATE_CONFIG="update_config",t.updateConfig=p;var C=function(e){return{type:"delete_media_item_error",error:e}},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a){return fetch(r.default.makeURL("/assets/components/eureka/media/sources/"+e,{path:t}),{method:"DELETE",credentials:"include",headers:Object.assign({},{Accept:"application/json","Content-Type":"application/json"},n)}).then(function(e){if(e.state<200||e.state>=300){var t=new Error(e.statusText);throw t.response=e,t}return e}).then(function(e){return e.json()}).then(function(e){if(!1===e)throw new Error("Unable to delete directory "+t);return e}).then(function(n){return a(M(e,t))}).catch(function(e){return a(C(e))})}},S=function(e,t){return{type:"delete_media_items_success",contents:e,formData:t,chosenMediaItems:arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0}};t.DELETE_MEDIA_ITEMS_SUCCESS="delete_media_items_success",t.deleteMediaItemsSuccess=S;var D=function(e,t){return{type:"delete_media_items_error",source:e,path:t}};t.DELETE_MEDIA_ITEMS_ERROR="delete_media_items_error",t.deleteMediaItemsError=D;var k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return console.log("deleteMediaItems"),function(a){return fetch("/assets/components/eureka/media/sources/"+e,{method:"DELETE",body:t,credentials:"include",headers:Object.assign({},{Accept:"application/json"},n)}).then(function(e){if(e.state<200||e.state>=300){var t=new Error(e.statusText);throw t.response=e,t}return e}).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){return a(S(e,t,r))}).catch(function(e){return a(D(e))})}};t.deleteMediaItems=k;var x=function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return console.log("notify",e),{type:"notification",message:e,id:(new Date).getTime(),archived:o,notificationType:t,learnMore:n,dismissAfter:r,sticky:a}};t.NOTIFICATION="notification",t.notify=x;var T=function(e){return{type:"notification_dismissed",id:e}};t.NOTIFICATION_DELETED="notification_dismissed",t.deleteNotification=T;var N=function(e){return{type:"notification_archived",id:e}};t.NOTIFICATION_ARCHIVED="notification_archived",t.archiveNotification=N;var P=function(e){return{type:"upload_files_success",contents:e}};t.UPLOAD_FILES_SUCCESS="upload_files_success",t.uploadFilesSuccess=P;var I=function(e){return{type:"upload_files_error",error:e}};t.UPLOAD_FILES_ERROR="upload_files_error",t.uploadFilesError=I;var j=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(o){return fetch(r.default.makeURL("/assets/components/eureka/media/sources/"+e,{path:t}),{method:"POST",body:n,headers:Object.assign({},{},a)}).then(function(e){if(e.state<200||e.state>=300){var t=new Error(e.statusText);throw t.response=e,t}return e}).then(function(e){return e.json()}).then(function(e){return o(P(e))}).catch(function(e){return o(I(e))})}},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a){return fetch(r.default.makeURL("/assets/components/eureka/media/sources/"+e,{path:t}),{method:"PUT",headers:Object.assign({},{Accept:"application/json","Content-Type":"application/json"},n)}).then(function(e){if(e.state<200||e.state>=300){var t=new Error(e.statusText);throw t.response=e,t}return e}).then(function(e){return e.json()}).then(function(n){if(!n){var r=new Error("unable to create "+t+" for media source "+e);throw r.response=!1,r}}).then(function(e){return a(R(e))}).catch(function(e){return a(L(e))})}},R=function(e){return{type:"create_directory_success",success:e}};t.CREATE_DIRECTORY_SUCCESS="create_directory_success",t.createDirectorySuccess=R;var L=function(e){return{type:"create_directory_error",error:e}};t.CREATE_DIRECTORY_ERROR="create_directory_error",t.createDirectoryError=L,t.createDirectory=A,t.uploadFiles=j,t.ADD_ITEM_SUCCESS="add_item_success",t.addItemSuccess=a,t.ADD_ITEM_ERROR="add_item_error",t.addItemError=o,t.UPDATE_VIEW="update_view",t.updateView=i,t.UPDATE_SOURCE="update_source",t.updateSource=c,t.updateSourceTree=m,t.UPDATE_SOURCE_TREE_SUCCESS="update_source_tree_success",t.updateSourceTreeSuccess=h,t.UPDATE_SOURCE_TREE_ERROR="update_source_tree_error",t.updateSourceTreeError=v,t.UPDATE_CONTENT="update_content",t.updateContent=f,t.FETCH_DIRECTORY_CONTENTS_SUCCESS="fetch_directory_contents_success",t.FETCH_DIRECTORY_CONTENTS_ERROR="fetch_directory_contents_error",t.fetchDirectoryContents=g,t.fetchMediaSources=_,t.FETCH_MEDIA_SOURCES_SUCCESS="fetch_media_sources_success",t.fetchMediaSourcesSuccess=w,t.FETCH_MEDIA_SOURCES_ERROR="fetch_media_sources_error",t.fetchMediaSourcesError=E,t.DELETE_MEDIA_ITEM_ERROR="delete_media_item_error",t.deleteMediaItemError=C,t.deleteMediaItem=O;var F=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(o){return fetch(r.default.makeURL("/assets/components/eureka/media/sources/"+e,{path:t,name:n}),{method:"PUT",headers:Object.assign({},{Accept:"application/json","Content-Type":"application/json"},a)}).then(function(e){if(e.state<200||e.state>=300){var t=new Error(e.statusText);throw t.response=e,t}return e}).then(function(e){return e.json()}).then(function(n){if(!n){var r=new Error("unable to create "+t+" for media source "+e);throw r.response=!1,r}}).then(function(r){return o(U(r,e,t,n))}).catch(function(e){return o(B(e))})}},U=function(e,t,n,r){return{type:"rename_directory_success",success:e,source:t,dirPath:n,name:r}},B=function(e){return{type:"rename_directory_error",error:e}};t.RENAME_DIRECTORY_SUCCESS="rename_directory_success",t.renameDirectorySuccess=U,t.RENAME_DIRECTORY_ERROR="rename_directory_error",t.renameDirectoryError=B,t.renameDirectory=F;var V=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(o){return fetch(r.default.makeURL("/assets/components/eureka/media/sources/"+e,{path:t,name:n}),{method:"PUT",headers:Object.assign({},{Accept:"application/json","Content-Type":"application/json"},a)}).then(function(e){if(e.state<200||e.state>=300){var t=new Error(e.statusText);throw t.response=e,t}return e}).then(function(e){return e.json()}).then(function(n){if(!n){var r=new Error("unable to create "+t+" for media source "+e);throw r.response=!1,r}return n}).then(function(e){return o(z(e))}).catch(function(e){return o(H(e))})}},z=function(e){return{type:"rename_item_success",contents:e}},H=function(e){return{type:"rename_item_error",error:e}};t.RENAME_ITEM_SUCCESS="rename_item_success",t.renameItemSuccess=z,t.RENAME_ITEM_ERROR="rename_item_error",t.renameItemError=H,t.renameItem=V,t.addMediaItemToChosenItems=u,t.ADD_MEDIA_ITEM_TO_CHOSEN_ITEMS="add_media_item_to_chosen_items",t.removeMediaItemFromChosenItems=d,t.REMOVE_MEDIA_ITEM_FROM_CHOSEN_ITEMS="remove_media_item_from_chosen_items",t.invertSelection=s,t.INVERT_SELECTION="invert_selection",t.deselectAll=l,t.DESELECT_ALL="deselect_all"},function(e,t,n){n(21),e.exports=self.fetch.bind(self)},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function i(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function l(e){var t=new FileReader,n=i(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=i(t);return t.readAsText(e),n}function c(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function u(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&b(e))this._bodyArrayBuffer=u(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return w.indexOf(t)>-1?t:e}function p(e,t){var n=(t=t||{}).body;if(e instanceof p){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new a(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function m(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}}),t}function h(e){var t=new a;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();t.append(r,a)}}),t}function v(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};a.prototype.append=function(e,r){e=t(e),r=n(r);var a=this.map[e];this.map[e]=a?a+","+r:r},a.prototype.delete=function(e){delete this.map[t(e)]},a.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},a.prototype.set=function(e,r){this.map[t(e)]=n(r)},a.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),r(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),r(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),r(e)},g.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},d.call(p.prototype),d.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];v.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=a,e.Request=p,e.Response=v,e.fetch=function(e,t){return new Promise(function(n,r){var a=new p(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:h(o.getAllResponseHeaders()||"")};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;n(new v(t,e))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(a.method,a.url,!0),"include"===a.credentials&&(o.withCredentials=!0),"responseType"in o&&g.blob&&(o.responseType="blob"),a.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),o.send(void 0===a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t){e.exports={name:"eureka-browser",description:"Eureka is a progressively enhanced Media Browser Component.",version:"0.0.126",license:"BSD-3-Clause",author:{name:"JP de Vries",email:"mail@devries.jp",url:"https://devries.jp/"},proxy:"http://localhost:3001/",main:"dist/main.js",config:{port:"3000"},keywords:["react","redux","media","browse","eureka","MODX","a11y","data","table"],homepage:"https://eureka.markup.tips",bugs:{url:"https://github.com/jpdevries/eureka/issues",email:"eureka@devries.jp"},repository:{type:"git",url:"https://github.com/jpdevries/eureka.git"},files:["bower.json","yarn.lock","build/assets/css/eureka.*","build/assets/img/","build/assets/js/","build/static/","dist/","i18n/","src/"],devDependencies:{autoprefixer:"^7.1.2",concurrently:"^3.5.0","css-loader":"^0.28.4",cssnano:"^3.10.0",eslint:"^4.2.0","eslint-plugin-jsx-a11y":"^6.0.2","grunt-bower-task":"^0.4.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-cssmin":"^2.2.0","grunt-contrib-uglify":"^3.0.1","grunt-contrib-watch":"^1.0.0","grunt-growl":"^0.1.5","grunt-modernizr":"^1.0.2","grunt-postcss":"^0.8.0","grunt-sass":"^2.0.0","grunt-string-replace":"^1.3.1","grunt-svgmin":"^4.0.0","grunt-svgo":"^0.1.0","grunt-svgstore":"^1.0.0","grunt-webpack":"^3.0.2","json-loader":"^0.5.4","lazyload-script":"^1.0.0","postcss-custom-properties":"^6.0.1","postcss-focus-ring":"^1.0.0","react-scripts":"^1.0.0","react-tap-event-plugin":"^2.0.1","react-test-renderer":"^15.4.2","style-loader":"^0.18.0","webpack-dev-server":"^2.5.1","webpack-visualizer-plugin":"^0.1.11"},dependencies:{"babel-plugin-react-intl":"^2.3.1","babel-preset-es2015":"^6.24.1","babel-preset-react":"^6.24.1","babel-preset-stage-0":"^6.24.1",classnames:"^2.2.5","css-safe":"^0.1.0",filesize:"^3.5.10","html-entities":"^1.2.0","isomorphic-fetch":"^2.2.1",mousetrap:"^1.6.1","path-parse":"^1.0.5",pixrem:"^4.0.1",react:"^15.6.1","react-addons-update":"^15.6.0","react-cropperjs":"^1.2.5","react-dom":"^15.6.1","react-dropzone":"^3.10.0","react-intl":"^2.3.0","react-masonry-component":"^5.0.7","react-redux":"^5.0.5","react-worker-dom":"^2.0.0-alpha.6",redux:"^3.7.1","redux-thunk":"^2.2.0"},scripts:{start:"react-scripts start",build:"yarn i18n && react-scripts build",test:"react-scripts test --env=jsdom",eject:"react-scripts eject",babel:"babel ./src -d ./dist",i18n:"cd ./i18n && node build.js && cd ../",pretag:"grunt bump && grunt clean:buildcss && grunt clean:themecss && yarn i18n && grunt buildcss && yarn build && rm -rf public/assets/css && grunt clean:buildjs && grunt build && yarn babel",pretagsay:'yarn pretag && say "Eureka Prepared for Tagging"'}}},function(e,t,n){(function(e){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(Array.isArray(e)?e:[e]).forEach(function(e){e&&e.locale&&(T.__addLocaleData(e),N.__addLocaleData(e))})}function o(e){for(var t=(e||"").split("-");t.length>0;){if(i(t.join("-")))return!0;t.pop()}return!1}function i(e){var t=e&&e.toLowerCase();return!(!T.__localeData__[t]||!N.__localeData__[t])}function l(e){return(""+e).replace(he,function(e){return me[e]})}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce(function(t,r){return e.hasOwnProperty(r)?t[r]=e[r]:n.hasOwnProperty(r)&&(t[r]=n[r]),t},{})}function c(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intl;A(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function u(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":F(e))||null===e||"object"!==(void 0===t?"undefined":F(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),o=0;o<n.length;o++)if(!a(n[o])||e[n[o]]!==t[n[o]])return!1;return!0}function d(e,t,n){var r=e.props,a=e.state,o=e.context,i=void 0===o?{}:o,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=i.intl,d=void 0===c?{}:c,f=l.intl,p=void 0===f?{}:f;return!u(t,r)||!u(n,a)||!(p===d||u(s(p,pe),s(d,pe)))}function f(e){return e.displayName||e.name||"Component"}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.intlPropName,r=void 0===n?"intl":n,a=t.withRef,o=void 0!==a&&a,i=function(t){function n(e,t){U(this,n);var r=W(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return c(t),r}return H(n,t),B(n,[{key:"getWrappedInstance",value:function(){return A(o,"[React Intl] To access the wrapped instance, the `{withRef: true}` option must be set when calling: `injectIntl()`"),this.refs.wrappedInstance}},{key:"render",value:function(){return j.createElement(e,z({},this.props,V({},r,this.context.intl),{ref:o?"wrappedInstance":null}))}}]),n}(I.Component);return i.displayName="InjectIntl("+f(e)+")",i.contextTypes={intl:le},i.WrappedComponent=e,i}function m(e){return e}function h(e){return T.prototype._resolveLocale(e)}function v(e){return T.prototype._findPluralRuleFunction(e)}function g(e){var t=N.thresholds;t.second=e.second,t.minute=e.minute,t.hour=e.hour,t.day=e.day,t.month=e.month}function y(t,n,r){var a=t&&t[n]&&t[n][r];if(a)return a;"production"!==e.env.NODE_ENV&&console.error("[React Intl] No "+n+" format named: "+r)}function b(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.locale,i=t.formats,l=a.format,c=new Date(r),u=l&&y(i,"date",l),d=s(a,ge,u);try{return n.getDateTimeFormat(o,d).format(c)}catch(t){"production"!==e.env.NODE_ENV&&console.error("[React Intl] Error formatting date.\n"+t)}return String(c)}function _(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.locale,i=t.formats,l=a.format,c=new Date(r),u=l&&y(i,"time",l),d=s(a,ge,u);d.hour||d.minute||d.second||(d=z({},d,{hour:"numeric",minute:"numeric"}));try{return n.getDateTimeFormat(o,d).format(c)}catch(t){"production"!==e.env.NODE_ENV&&console.error("[React Intl] Error formatting time.\n"+t)}return String(c)}function w(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.locale,i=t.formats,l=a.format,c=new Date(r),u=new Date(a.now),d=l&&y(i,"relative",l),f=s(a,be,d),p=z({},N.thresholds);g(we);try{return n.getRelativeFormat(o,f).format(c,{now:isFinite(u)?u:n.now()})}catch(t){"production"!==e.env.NODE_ENV&&console.error("[React Intl] Error formatting relative time.\n"+t)}finally{g(p)}return String(c)}function E(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.locale,i=t.formats,l=a.format,c=l&&y(i,"number",l),u=s(a,ye,c);try{return n.getNumberFormat(o,u).format(r)}catch(t){"production"!==e.env.NODE_ENV&&console.error("[React Intl] Error formatting number.\n"+t)}return String(r)}function M(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.locale,i=s(a,_e);try{return n.getPluralFormat(o,i).format(r)}catch(t){"production"!==e.env.NODE_ENV&&console.error("[React Intl] Error formatting plural.\n"+t)}return"other"}function C(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t.locale,i=t.formats,l=t.messages,s=t.defaultLocale,c=t.defaultFormats,u=r.id,d=r.defaultMessage;A(u,"[React Intl] An `id` must be provided to format a message.");var f=l&&l[u];if(!(Object.keys(a).length>0)&&"production"===e.env.NODE_ENV)return f||d||u;var p=void 0;if(f)try{p=n.getMessageFormat(f,o,i).format(a)}catch(t){"production"!==e.env.NODE_ENV&&console.error('[React Intl] Error formatting message: "'+u+'" for locale: "'+o+'"'+(d?", using default message as fallback.":"")+"\n"+t)}else"production"!==e.env.NODE_ENV&&(!d||o&&o.toLowerCase()!==s.toLowerCase())&&console.error('[React Intl] Missing message: "'+u+'" for locale: "'+o+'"'+(d?", using default message as fallback.":""));if(!p&&d)try{p=n.getMessageFormat(d,s,c).format(a)}catch(t){"production"!==e.env.NODE_ENV&&console.error('[React Intl] Error formatting the default message for: "'+u+'"\n'+t)}return p||"production"!==e.env.NODE_ENV&&console.error('[React Intl] Cannot format message: "'+u+'", using message '+(f||d?"source":"id")+" as fallback."),p||f||d||u}function O(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return C(e,t,n,Object.keys(r).reduce(function(e,t){var n=r[t];return e[t]="string"==typeof n?l(n):n,e},{}))}function S(e){var t=Math.abs(e);return t<Te?"second":t<Ne?"minute":t<Pe?"hour":"day"}function D(e){switch(e){case"second":return xe;case"minute":return Te;case"hour":return Ne;case"day":return Pe;default:return Ie}}function k(e,t){if(e===t)return!0;var n=new Date(e).getTime(),r=new Date(t).getTime();return isFinite(n)&&isFinite(r)&&n===r}Object.defineProperty(t,"__esModule",{value:!0});var x=r(n(24)),T=r(n(25)),N=r(n(35)),P=r(n(42)),I=n(1),j=r(I),A=r(n(49)),R=r(n(50)),L={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1),i=a&&n[0].slice(-2);return t?1==o&&11!=i?"one":2==o&&12!=i?"two":3==o&&13!=i?"few":"other":1==e&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}},F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},B=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),V=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},K=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},W=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Y=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},G=P.bool,q=P.number,X=P.string,$=P.func,Z=P.object,J=P.oneOf,Q=P.shape,ee=P.any,te=J(["best fit","lookup"]),ne=J(["narrow","short","long"]),re=J(["numeric","2-digit"]),ae=$.isRequired,oe={locale:X,formats:Z,messages:Z,textComponent:ee,defaultLocale:X,defaultFormats:Z},ie={formatDate:ae,formatTime:ae,formatRelative:ae,formatNumber:ae,formatPlural:ae,formatMessage:ae,formatHTMLMessage:ae},le=Q(z({},oe,ie,{formatters:Z,now:ae})),se={id:X.isRequired,description:X,defaultMessage:X},ce={localeMatcher:te,formatMatcher:J(["basic","best fit"]),timeZone:X,hour12:G,weekday:ne,era:ne,year:re,month:J(["numeric","2-digit","narrow","short","long"]),day:re,hour:re,minute:re,second:re,timeZoneName:J(["short","long"])},ue={localeMatcher:te,style:J(["decimal","currency","percent"]),currency:X,currencyDisplay:J(["symbol","code","name"]),useGrouping:G,minimumIntegerDigits:q,minimumFractionDigits:q,maximumFractionDigits:q,minimumSignificantDigits:q,maximumSignificantDigits:q},de={style:J(["best fit","numeric"]),units:J(["second","minute","hour","day","month","year"])},fe={style:J(["cardinal","ordinal"])},pe=Object.keys(oe),me={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},he=/[&><"']/g,ve=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(this,e);var r="ordinal"===n.style,a=v(h(t));this.format=function(e){return a(e,r)}},ge=Object.keys(ce),ye=Object.keys(ue),be=Object.keys(de),_e=Object.keys(fe),we={second:60,minute:60,hour:24,day:30,month:12},Ee=Object.freeze({formatDate:b,formatTime:_,formatRelative:w,formatNumber:E,formatPlural:M,formatMessage:C,formatHTMLMessage:O}),Me=Object.keys(oe),Ce=Object.keys(ie),Oe={formats:{},messages:{},textComponent:"span",defaultLocale:"en",defaultFormats:{}},Se=function(t){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};U(this,n);var r=W(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));A("undefined"!=typeof Intl,"[React Intl] The `Intl` APIs must be available in the runtime, and do not appear to be built-in. An `Intl` polyfill should be loaded.\nSee: http://formatjs.io/guides/runtime-environments/");var a=t.intl,o=void 0;o=isFinite(e.initialNow)?Number(e.initialNow):a?a.now():Date.now();var i=(a||{}).formatters,l=void 0===i?{getDateTimeFormat:R(Intl.DateTimeFormat),getNumberFormat:R(Intl.NumberFormat),getMessageFormat:R(T),getRelativeFormat:R(N),getPluralFormat:R(ve)}:i;return r.state=z({},l,{now:function(){return r._didDisplay?Date.now():o}}),r}return H(n,t),B(n,[{key:"getConfig",value:function(){var t=this.context.intl,n=s(this.props,Me,t);for(var r in Oe)void 0===n[r]&&(n[r]=Oe[r]);if(!o(n.locale)){var a=n,i=a.locale,l=a.defaultLocale,c=a.defaultFormats;"production"!==e.env.NODE_ENV&&console.error('[React Intl] Missing locale data for locale: "'+i+'". Using default locale: "'+l+'" as fallback.'),n=z({},n,{locale:l,formats:c,messages:Oe.messages})}return n}},{key:"getBoundFormatFns",value:function(e,t){return Ce.reduce(function(n,r){return n[r]=Ee[r].bind(null,e,t),n},{})}},{key:"getChildContext",value:function(){var e=this.getConfig(),t=this.getBoundFormatFns(e,this.state),n=this.state,r=n.now,a=K(n,["now"]);return{intl:z({},e,t,{formatters:a,now:r})}}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,[this].concat(t))}},{key:"componentDidMount",value:function(){this._didDisplay=!0}},{key:"render",value:function(){return I.Children.only(this.props.children)}}]),n}(I.Component);Se.displayName="IntlProvider",Se.contextTypes={intl:le},Se.childContextTypes={intl:le.isRequired},"production"!==e.env.NODE_ENV&&(Se.propTypes=z({},oe,{children:P.element.isRequired,initialNow:P.any}));var De=function(e){function t(e,n){U(this,t);var r=W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return c(n),r}return H(t,e),B(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatDate,n=e.textComponent,r=this.props,a=r.value,o=r.children,i=t(a,this.props);return"function"==typeof o?o(i):j.createElement(n,null,i)}}]),t}(I.Component);De.displayName="FormattedDate",De.contextTypes={intl:le},"production"!==e.env.NODE_ENV&&(De.propTypes=z({},ce,{value:P.any.isRequired,format:P.string,children:P.func}));var ke=function(e){function t(e,n){U(this,t);var r=W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return c(n),r}return H(t,e),B(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatTime,n=e.textComponent,r=this.props,a=r.value,o=r.children,i=t(a,this.props);return"function"==typeof o?o(i):j.createElement(n,null,i)}}]),t}(I.Component);ke.displayName="FormattedTime",ke.contextTypes={intl:le},"production"!==e.env.NODE_ENV&&(ke.propTypes=z({},ce,{value:P.any.isRequired,format:P.string,children:P.func}));var xe=1e3,Te=6e4,Ne=36e5,Pe=864e5,Ie=2147483647,je=function(e){function t(e,n){U(this,t);var r=W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));c(n);var a=isFinite(e.initialNow)?Number(e.initialNow):n.intl.now();return r.state={now:a},r}return H(t,e),B(t,[{key:"scheduleNextUpdate",value:function(e,t){var n=this;clearTimeout(this._timer);var r=e.value,a=e.units,o=e.updateInterval,i=new Date(r).getTime();if(o&&isFinite(i)){var l=i-t.now,s=D(a||S(l)),c=Math.abs(l%s),u=l<0?Math.max(o,s-c):Math.max(o,c);this._timer=setTimeout(function(){n.setState({now:n.context.intl.now()})},u)}}},{key:"componentDidMount",value:function(){this.scheduleNextUpdate(this.props,this.state)}},{key:"componentWillReceiveProps",value:function(e){k(e.value,this.props.value)||this.setState({now:this.context.intl.now()})}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,[this].concat(t))}},{key:"componentWillUpdate",value:function(e,t){this.scheduleNextUpdate(e,t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer)}},{key:"render",value:function(){var e=this.context.intl,t=e.formatRelative,n=e.textComponent,r=this.props,a=r.value,o=r.children,i=t(a,z({},this.props,this.state));return"function"==typeof o?o(i):j.createElement(n,null,i)}}]),t}(I.Component);je.displayName="FormattedRelative",je.contextTypes={intl:le},je.defaultProps={updateInterval:1e4},"production"!==e.env.NODE_ENV&&(je.propTypes=z({},de,{value:P.any.isRequired,format:P.string,updateInterval:P.number,initialNow:P.any,children:P.func}));var Ae=function(e){function t(e,n){U(this,t);var r=W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return c(n),r}return H(t,e),B(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatNumber,n=e.textComponent,r=this.props,a=r.value,o=r.children,i=t(a,this.props);return"function"==typeof o?o(i):j.createElement(n,null,i)}}]),t}(I.Component);Ae.displayName="FormattedNumber",Ae.contextTypes={intl:le},"production"!==e.env.NODE_ENV&&(Ae.propTypes=z({},ue,{value:P.any.isRequired,format:P.string,children:P.func}));var Re=function(e){function t(e,n){U(this,t);var r=W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return c(n),r}return H(t,e),B(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatPlural,n=e.textComponent,r=this.props,a=r.value,o=r.other,i=r.children,l=t(a,this.props),s=this.props[l]||o;return"function"==typeof i?i(s):j.createElement(n,null,s)}}]),t}(I.Component);Re.displayName="FormattedPlural",Re.contextTypes={intl:le},Re.defaultProps={style:"cardinal"},"production"!==e.env.NODE_ENV&&(Re.propTypes=z({},fe,{value:P.any.isRequired,other:P.node.isRequired,zero:P.node,one:P.node,two:P.node,few:P.node,many:P.node,children:P.func}));var Le=function(e){function t(e,n){U(this,t);var r=W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return c(n),r}return H(t,e),B(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values;if(!u(e.values,t))return!0;for(var n=z({},e,{values:t}),r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return d.apply(void 0,[this,n].concat(a))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatMessage,n=e.textComponent,r=this.props,a=r.id,o=r.description,i=r.defaultMessage,l=r.values,s=r.tagName,c=void 0===s?n:s,u=r.children,d=void 0,f=void 0,p=void 0;if(l&&Object.keys(l).length>0){var m=Math.floor(1099511627776*Math.random()).toString(16),h=function(){var e=0;return function(){return"ELEMENT-"+m+"-"+(e+=1)}}();d="@__"+m+"__@",f={},p={},Object.keys(l).forEach(function(e){var t=l[e];if(I.isValidElement(t)){var n=h();f[e]=d+n+d,p[n]=t}else f[e]=t})}var v=t({id:a,description:o,defaultMessage:i},f||l),g=void 0;return g=p&&Object.keys(p).length>0?v.split(d).filter(function(e){return!!e}).map(function(e){return p[e]||e}):[v],"function"==typeof u?u.apply(void 0,Y(g)):I.createElement.apply(void 0,[c,null].concat(Y(g)))}}]),t}(I.Component);Le.displayName="FormattedMessage",Le.contextTypes={intl:le},Le.defaultProps={values:{}},"production"!==e.env.NODE_ENV&&(Le.propTypes=z({},se,{values:P.object,tagName:P.string,children:P.func}));var Fe=function(e){function t(e,n){U(this,t);var r=W(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return c(n),r}return H(t,e),B(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values;if(!u(e.values,t))return!0;for(var n=z({},e,{values:t}),r=arguments.length,a=Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return d.apply(void 0,[this,n].concat(a))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatHTMLMessage,n=e.textComponent,r=this.props,a=r.id,o=r.description,i=r.defaultMessage,l=r.values,s=r.tagName,c=void 0===s?n:s,u=r.children,d=t({id:a,description:o,defaultMessage:i},l);if("function"==typeof u)return u(d);var f={__html:d};return j.createElement(c,{dangerouslySetInnerHTML:f})}}]),t}(I.Component);Fe.displayName="FormattedHTMLMessage",Fe.contextTypes={intl:le},Fe.defaultProps={values:{}},"production"!==e.env.NODE_ENV&&(Fe.propTypes=z({},se,{values:P.object,tagName:P.string,children:P.func})),a(L),a(x),t.addLocaleData=a,t.intlShape=le,t.injectIntl=p,t.defineMessages=m,t.IntlProvider=Se,t.FormattedDate=De,t.FormattedTime=ke,t.FormattedRelative=je,t.FormattedNumber=Ae,t.FormattedPlural=Re,t.FormattedMessage=Le,t.FormattedHTMLMessage=Fe}).call(t,n(4))},function(e,t){},function(e,t,n){"use strict";var r=n(26).default;n(34),(t=e.exports=r).default=t},function(e,t,n){"use strict";var r=n(27),a=n(33);r.default.__addLocaleData(a.default),r.default.defaultLocale="en",t.default=r.default},function(e,t,n){"use strict";function r(e,t,n){var a="string"==typeof e?r.__parse(e):e;if(!a||"messageFormatPattern"!==a.type)throw new TypeError("A message must be provided as a String or AST.");n=this._mergeFormats(r.formats,n),o.defineProperty(this,"_locale",{value:this._resolveLocale(t)});var i=this._findPluralRuleFunction(this._locale),l=this._compilePattern(a,t,n,i),s=this;this.format=function(e){return s._format(l,e)}}var a=n(28),o=n(29),i=n(30),l=n(31);t.default=r,o.defineProperty(r,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),o.defineProperty(r,"__localeData__",{value:o.objCreate(null)}),o.defineProperty(r,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");r.__localeData__[e.locale.toLowerCase()]=e}}),o.defineProperty(r,"__parse",{value:l.default.parse}),o.defineProperty(r,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),r.prototype.resolvedOptions=function(){return{locale:this._locale}},r.prototype._compilePattern=function(e,t,n,r){return new i.default(t,n,r).compile(e)},r.prototype._findPluralRuleFunction=function(e){for(var t=r.__localeData__,n=t[e.toLowerCase()];n;){if(n.pluralRuleFunction)return n.pluralRuleFunction;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},r.prototype._format=function(e,t){var n,r,o,i,l,s="";for(n=0,r=e.length;n<r;n+=1)if("string"!=typeof(o=e[n])){if(i=o.id,!t||!a.hop.call(t,i))throw new Error("A value must be provided for: "+i);l=t[i],o.options?s+=this._format(o.getOption(l),t):s+=o.format(l)}else s+=o;return s},r.prototype._mergeFormats=function(e,t){var n,r,i={};for(n in e)a.hop.call(e,n)&&(i[n]=r=o.objCreate(e[n]),t&&a.hop.call(t,n)&&a.extend(r,t[n]));return i},r.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(r.defaultLocale);var t,n,a,o,i=r.__localeData__;for(t=0,n=e.length;t<n;t+=1)for(a=e[t].toLowerCase().split("-");a.length;){if(o=i[a.join("-")])return o.locale;a.pop()}var l=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+l)}},function(e,t){"use strict";function n(e){var t,n,a,o,i=Array.prototype.slice.call(arguments,1);for(t=0,n=i.length;t<n;t+=1)if(a=i[t])for(o in a)r.call(a,o)&&(e[o]=a[o]);return e}t.extend=n;var r=Object.prototype.hasOwnProperty;t.hop=r},function(e,t,n){"use strict";var r=n(28),a=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),o=(!a&&Object.prototype.__defineGetter__,a?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):(!r.hop.call(e,t)||"value"in n)&&(e[t]=n.value)}),i=Object.create||function(e,t){function n(){}var a,i;n.prototype=e,a=new n;for(i in t)r.hop.call(t,i)&&o(a,i,t[i]);return a};t.defineProperty=o,t.objCreate=i},function(e,t){"use strict";function n(e,t,n){this.locales=e,this.formats=t,this.pluralFn=n}function r(e){this.id=e}function a(e,t,n,r,a){this.id=e,this.useOrdinal=t,this.offset=n,this.options=r,this.pluralFn=a}function o(e,t,n,r){this.id=e,this.offset=t,this.numberFormat=n,this.string=r}function i(e,t){this.id=e,this.options=t}t.default=n,n.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},n.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,n,r,a=e.elements,o=[];for(t=0,n=a.length;t<n;t+=1)switch((r=a[t]).type){case"messageTextElement":o.push(this.compileMessageText(r));break;case"argumentElement":o.push(this.compileArgument(r));break;default:throw new Error("Message element does not have a valid type")}return o},n.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new o(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},n.prototype.compileArgument=function(e){var t=e.format;if(!t)return new r(e.id);var n,o=this.formats,l=this.locales,s=this.pluralFn;switch(t.type){case"numberFormat":return n=o.number[t.style],{id:e.id,format:new Intl.NumberFormat(l,n).format};case"dateFormat":return n=o.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(l,n).format};case"timeFormat":return n=o.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(l,n).format};case"pluralFormat":return n=this.compileOptions(e),new a(e.id,t.ordinal,t.offset,n,s);case"selectFormat":return n=this.compileOptions(e),new i(e.id,n);default:throw new Error("Message element does not have a valid format type")}},n.prototype.compileOptions=function(e){var t=e.format,n=t.options,r={};this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===t.type?e:null;var a,o,i;for(a=0,o=n.length;a<o;a+=1)r[(i=n[a]).selector]=this.compileMessage(i.value);return this.currentPlural=this.pluralStack.pop(),r},r.prototype.format=function(e){return e?"string"==typeof e?e:String(e):""},a.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},o.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},i.prototype.getOption=function(e){var t=this.options;return t[e]||t.other}},function(e,t,n){"use strict";(t=e.exports=n(32).default).default=t},function(e,t){"use strict";t.default=function(){function e(e,t,n,r,a,o){this.message=e,this.expected=t,this.found=n,this.offset=r,this.line=a,this.column=o,this.name="SyntaxError"}function t(t){function n(e){return Xe!==e&&(Xe>e&&(Xe=0,$e={line:1,column:1,seenCR:!1}),function(e,n,r){var a,o;for(a=n;a<r;a++)"\n"===(o=t.charAt(a))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}($e,Xe,e),Xe=e),$e}function r(e){Ge<Ze||(Ge>Ze&&(Ze=Ge,Je=[]),Je.push(e))}function a(r,a,o){var i=n(o),l=o<t.length?t.charAt(o):null;return null!==a&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(a),new e(null!==r?r:function(e,t){var n,r,a,o=new Array(e.length);for(a=0;a<e.length;a++)o[a]=e[a].description;return n=e.length>1?o.slice(0,-1).join(", ")+" or "+o[e.length-1]:o[0],r=t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}(t)+'"':"end of input","Expected "+n+" but "+r+" found."}(a,l),a,l,o,i.line,i.column)}function o(){return i()}function i(){var e,t,n;for(e=Ge,t=[],n=l();n!==T;)t.push(n),n=l();return t!==T&&(qe=e,t=I(t)),e=t}function l(){var e;return(e=c())===T&&(e=d()),e}function s(){var e,n,r,a,o,i;if(e=Ge,n=[],r=Ge,a=E(),a!==T&&(o=D())!==T&&(i=E())!==T?r=a=[a,o,i]:(Ge=r,r=j),r!==T)for(;r!==T;)n.push(r),r=Ge,(a=E())!==T&&(o=D())!==T&&(i=E())!==T?r=a=[a,o,i]:(Ge=r,r=j);else n=j;return n!==T&&(qe=e,n=A(n)),(e=n)===T&&(e=Ge,(n=w())!==T&&(n=t.substring(e,Ge)),e=n),e}function c(){var e,t;return e=Ge,(t=s())!==T&&(qe=e,t=R(t)),e=t}function u(){var e,n,a;if((e=O())===T){if(e=Ge,n=[],L.test(t.charAt(Ge))?(a=t.charAt(Ge),Ge++):(a=T,0===Qe&&r(F)),a!==T)for(;a!==T;)n.push(a),L.test(t.charAt(Ge))?(a=t.charAt(Ge),Ge++):(a=T,0===Qe&&r(F));else n=j;n!==T&&(n=t.substring(e,Ge)),e=n}return e}function d(){var e,n,a,o,i,l,s;return e=Ge,123===t.charCodeAt(Ge)?(n=U,Ge++):(n=T,0===Qe&&r(B)),n!==T&&E()!==T&&(a=u())!==T&&E()!==T?(o=Ge,44===t.charCodeAt(Ge)?(i=z,Ge++):(i=T,0===Qe&&r(H)),i!==T&&(l=E())!==T&&(s=f())!==T?o=i=[i,l,s]:(Ge=o,o=j),o===T&&(o=V),o!==T&&(i=E())!==T?(125===t.charCodeAt(Ge)?(l=K,Ge++):(l=T,0===Qe&&r(W)),l!==T?(qe=e,e=n=Y(a,o)):(Ge=e,e=j)):(Ge=e,e=j)):(Ge=e,e=j),e}function f(){var e;return(e=p())===T&&(e=m())===T&&(e=h())===T&&(e=v()),e}function p(){var e,n,a,o,i,l;return e=Ge,t.substr(Ge,6)===G?(n=G,Ge+=6):(n=T,0===Qe&&r(q)),n===T&&(t.substr(Ge,4)===X?(n=X,Ge+=4):(n=T,0===Qe&&r($)),n===T&&(t.substr(Ge,4)===Z?(n=Z,Ge+=4):(n=T,0===Qe&&r(J)))),n!==T&&E()!==T?(a=Ge,44===t.charCodeAt(Ge)?(o=z,Ge++):(o=T,0===Qe&&r(H)),o!==T&&(i=E())!==T&&(l=D())!==T?a=o=[o,i,l]:(Ge=a,a=j),a===T&&(a=V),a!==T?(qe=e,e=n=Q(n,a)):(Ge=e,e=j)):(Ge=e,e=j),e}function m(){var e,n,a,o;return e=Ge,t.substr(Ge,6)===ee?(n=ee,Ge+=6):(n=T,0===Qe&&r(te)),n!==T&&E()!==T?(44===t.charCodeAt(Ge)?(a=z,Ge++):(a=T,0===Qe&&r(H)),a!==T&&E()!==T&&(o=_())!==T?(qe=e,e=n=ne(o)):(Ge=e,e=j)):(Ge=e,e=j),e}function h(){var e,n,a,o;return e=Ge,t.substr(Ge,13)===re?(n=re,Ge+=13):(n=T,0===Qe&&r(ae)),n!==T&&E()!==T?(44===t.charCodeAt(Ge)?(a=z,Ge++):(a=T,0===Qe&&r(H)),a!==T&&E()!==T&&(o=_())!==T?(qe=e,e=n=oe(o)):(Ge=e,e=j)):(Ge=e,e=j),e}function v(){var e,n,a,o,i;if(e=Ge,t.substr(Ge,6)===ie?(n=ie,Ge+=6):(n=T,0===Qe&&r(le)),n!==T)if(E()!==T)if(44===t.charCodeAt(Ge)?(a=z,Ge++):(a=T,0===Qe&&r(H)),a!==T)if(E()!==T){if(o=[],(i=y())!==T)for(;i!==T;)o.push(i),i=y();else o=j;o!==T?(qe=e,e=n=se(o)):(Ge=e,e=j)}else Ge=e,e=j;else Ge=e,e=j;else Ge=e,e=j;else Ge=e,e=j;return e}function g(){var e,n,a,o;return e=Ge,n=Ge,61===t.charCodeAt(Ge)?(a=ce,Ge++):(a=T,0===Qe&&r(ue)),a!==T&&(o=O())!==T?n=a=[a,o]:(Ge=n,n=j),n!==T&&(n=t.substring(e,Ge)),(e=n)===T&&(e=D()),e}function y(){var e,n,a,o,l,s;return e=Ge,n=E(),n!==T&&(a=g())!==T&&E()!==T?(123===t.charCodeAt(Ge)?(o=U,Ge++):(o=T,0===Qe&&r(B)),o!==T&&E()!==T&&(l=i())!==T&&E()!==T?(125===t.charCodeAt(Ge)?(s=K,Ge++):(s=T,0===Qe&&r(W)),s!==T?(qe=e,e=n=de(a,l)):(Ge=e,e=j)):(Ge=e,e=j)):(Ge=e,e=j),e}function b(){var e,n,a;return e=Ge,t.substr(Ge,7)===fe?(n=fe,Ge+=7):(n=T,0===Qe&&r(pe)),n!==T&&E()!==T&&(a=O())!==T?(qe=e,e=n=me(a)):(Ge=e,e=j),e}function _(){var e,t,n,r;if(e=Ge,(t=b())===T&&(t=V),t!==T)if(E()!==T){if(n=[],(r=y())!==T)for(;r!==T;)n.push(r),r=y();else n=j;n!==T?(qe=e,e=t=he(t,n)):(Ge=e,e=j)}else Ge=e,e=j;else Ge=e,e=j;return e}function w(){var e,n;if(Qe++,e=[],ge.test(t.charAt(Ge))?(n=t.charAt(Ge),Ge++):(n=T,0===Qe&&r(ye)),n!==T)for(;n!==T;)e.push(n),ge.test(t.charAt(Ge))?(n=t.charAt(Ge),Ge++):(n=T,0===Qe&&r(ye));else e=j;return Qe--,e===T&&(n=T,0===Qe&&r(ve)),e}function E(){var e,n,a;for(Qe++,e=Ge,n=[],a=w();a!==T;)n.push(a),a=w();return n!==T&&(n=t.substring(e,Ge)),e=n,Qe--,e===T&&(n=T,0===Qe&&r(be)),e}function M(){var e;return _e.test(t.charAt(Ge))?(e=t.charAt(Ge),Ge++):(e=T,0===Qe&&r(we)),e}function C(){var e;return Ee.test(t.charAt(Ge))?(e=t.charAt(Ge),Ge++):(e=T,0===Qe&&r(Me)),e}function O(){var e,n,a,o,i,l;if(e=Ge,48===t.charCodeAt(Ge)?(n=Ce,Ge++):(n=T,0===Qe&&r(Oe)),n===T){if(n=Ge,a=Ge,Se.test(t.charAt(Ge))?(o=t.charAt(Ge),Ge++):(o=T,0===Qe&&r(De)),o!==T){for(i=[],l=M();l!==T;)i.push(l),l=M();i!==T?a=o=[o,i]:(Ge=a,a=j)}else Ge=a,a=j;a!==T&&(a=t.substring(n,Ge)),n=a}return n!==T&&(qe=e,n=ke(n)),e=n}function S(){var e,n,a,o,i,l,s,c;return xe.test(t.charAt(Ge))?(e=t.charAt(Ge),Ge++):(e=T,0===Qe&&r(Te)),e===T&&(e=Ge,t.substr(Ge,2)===Ne?(n=Ne,Ge+=2):(n=T,0===Qe&&r(Pe)),n!==T&&(qe=e,n=Ie()),(e=n)===T&&(e=Ge,t.substr(Ge,2)===je?(n=je,Ge+=2):(n=T,0===Qe&&r(Ae)),n!==T&&(qe=e,n=Re()),(e=n)===T&&(e=Ge,t.substr(Ge,2)===Le?(n=Le,Ge+=2):(n=T,0===Qe&&r(Fe)),n!==T&&(qe=e,n=Ue()),(e=n)===T&&(e=Ge,t.substr(Ge,2)===Be?(n=Be,Ge+=2):(n=T,0===Qe&&r(Ve)),n!==T&&(qe=e,n=ze()),(e=n)===T&&(e=Ge,t.substr(Ge,2)===He?(n=He,Ge+=2):(n=T,0===Qe&&r(Ke)),n!==T?(a=Ge,o=Ge,(i=C())!==T&&(l=C())!==T&&(s=C())!==T&&(c=C())!==T?o=i=[i,l,s,c]:(Ge=o,o=j),o!==T&&(o=t.substring(a,Ge)),(a=o)!==T?(qe=e,e=n=We(a)):(Ge=e,e=j)):(Ge=e,e=j)))))),e}function D(){var e,t,n;if(e=Ge,t=[],(n=S())!==T)for(;n!==T;)t.push(n),n=S();else t=j;return t!==T&&(qe=e,t=Ye(t)),e=t}var k,x=arguments.length>1?arguments[1]:{},T={},N={start:o},P=o,I=function(e){return{type:"messageFormatPattern",elements:e}},j=T,A=function(e){var t,n,r,a,o,i="";for(t=0,r=e.length;t<r;t+=1)for(n=0,o=(a=e[t]).length;n<o;n+=1)i+=a[n];return i},R=function(e){return{type:"messageTextElement",value:e}},L=/^[^ \t\n\r,.+={}#]/,F={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},U="{",B={type:"literal",value:"{",description:'"{"'},V=null,z=",",H={type:"literal",value:",",description:'","'},K="}",W={type:"literal",value:"}",description:'"}"'},Y=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2]}},G="number",q={type:"literal",value:"number",description:'"number"'},X="date",$={type:"literal",value:"date",description:'"date"'},Z="time",J={type:"literal",value:"time",description:'"time"'},Q=function(e,t){return{type:e+"Format",style:t&&t[2]}},ee="plural",te={type:"literal",value:"plural",description:'"plural"'},ne=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options}},re="selectordinal",ae={type:"literal",value:"selectordinal",description:'"selectordinal"'},oe=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options}},ie="select",le={type:"literal",value:"select",description:'"select"'},se=function(e){return{type:"selectFormat",options:e}},ce="=",ue={type:"literal",value:"=",description:'"="'},de=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t}},fe="offset:",pe={type:"literal",value:"offset:",description:'"offset:"'},me=function(e){return e},he=function(e,t){return{type:"pluralFormat",offset:e,options:t}},ve={type:"other",description:"whitespace"},ge=/^[ \t\n\r]/,ye={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},be={type:"other",description:"optionalWhitespace"},_e=/^[0-9]/,we={type:"class",value:"[0-9]",description:"[0-9]"},Ee=/^[0-9a-f]/i,Me={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Ce="0",Oe={type:"literal",value:"0",description:'"0"'},Se=/^[1-9]/,De={type:"class",value:"[1-9]",description:"[1-9]"},ke=function(e){return parseInt(e,10)},xe=/^[^{}\\\0-\x1F \t\n\r]/,Te={type:"class",value:"[^{}\\\\\\0-\\x1F \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F \\t\\n\\r]"},Ne="\\\\",Pe={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},Ie=function(){return"\\"},je="\\#",Ae={type:"literal",value:"\\#",description:'"\\\\#"'},Re=function(){return"\\#"},Le="\\{",Fe={type:"literal",value:"\\{",description:'"\\\\{"'},Ue=function(){return"{"},Be="\\}",Ve={type:"literal",value:"\\}",description:'"\\\\}"'},ze=function(){return"}"},He="\\u",Ke={type:"literal",value:"\\u",description:'"\\\\u"'},We=function(e){return String.fromCharCode(parseInt(e,16))},Ye=function(e){return e.join("")},Ge=0,qe=0,Xe=0,$e={line:1,column:1,seenCR:!1},Ze=0,Je=[],Qe=0;if("startRule"in x){if(!(x.startRule in N))throw new Error("Can't start parsing from rule \""+x.startRule+'".');P=N[x.startRule]}if((k=P())!==T&&Ge===t.length)return k;throw k!==T&&Ge<t.length&&r({type:"end",description:"end of input"}),a(null,Je,Ze)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:t}}()},function(e,t){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1),i=a&&n[0].slice(-2);return t?1==o&&11!=i?"one":2==o&&12!=i?"two":3==o&&13!=i?"few":"other":1==e&&r?"one":"other"}}},function(e,t){},function(e,t,n){"use strict";var r=n(36).default;n(41),(t=e.exports=r).default=t},function(e,t,n){"use strict";var r=n(37),a=n(40);r.default.__addLocaleData(a.default),r.default.defaultLocale="en",t.default=r.default},function(e,t,n){"use strict";function r(e,t){t=t||{},i.isArray(e)&&(e=e.concat()),i.defineProperty(this,"_locale",{value:this._resolveLocale(e)}),i.defineProperty(this,"_options",{value:{style:this._resolveStyle(t.style),units:this._isValidUnits(t.units)&&t.units}}),i.defineProperty(this,"_locales",{value:e}),i.defineProperty(this,"_fields",{value:this._findFields(this._locale)}),i.defineProperty(this,"_messages",{value:i.objCreate(null)});var n=this;this.format=function(e,t){return n._format(e,t)}}var a=n(25),o=n(38),i=n(39);t.default=r;var l=["second","minute","hour","day","month","year"],s=["best fit","numeric"];i.defineProperty(r,"__localeData__",{value:i.objCreate(null)}),i.defineProperty(r,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlRelativeFormat is missing a `locale` property value");r.__localeData__[e.locale.toLowerCase()]=e,a.default.__addLocaleData(e)}}),i.defineProperty(r,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),i.defineProperty(r,"thresholds",{enumerable:!0,value:{second:45,minute:45,hour:22,day:26,month:11}}),r.prototype.resolvedOptions=function(){return{locale:this._locale,style:this._options.style,units:this._options.units}},r.prototype._compileMessage=function(e){var t,n=this._locales,r=(this._locale,this._fields[e].relativeTime),o="",i="";for(t in r.future)r.future.hasOwnProperty(t)&&(o+=" "+t+" {"+r.future[t].replace("{0}","#")+"}");for(t in r.past)r.past.hasOwnProperty(t)&&(i+=" "+t+" {"+r.past[t].replace("{0}","#")+"}");var l="{when, select, future {{0, plural, "+o+"}}past {{0, plural, "+i+"}}}";return new a.default(l,n)},r.prototype._getMessage=function(e){var t=this._messages;return t[e]||(t[e]=this._compileMessage(e)),t[e]},r.prototype._getRelativeUnits=function(e,t){var n=this._fields[t];if(n.relative)return n.relative[e]},r.prototype._findFields=function(e){for(var t=r.__localeData__,n=t[e.toLowerCase()];n;){if(n.fields)return n.fields;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlRelativeFormat is missing `fields` for :"+e)},r.prototype._format=function(e,t){var n=t&&void 0!==t.now?t.now:i.dateNow();if(void 0===e&&(e=n),!isFinite(n))throw new RangeError("The `now` option provided to IntlRelativeFormat#format() is not in valid range.");if(!isFinite(e))throw new RangeError("The date value provided to IntlRelativeFormat#format() is not in valid range.");var r=o.default(n,e),a=this._options.units||this._selectUnits(r),l=r[a];if("numeric"!==this._options.style){var s=this._getRelativeUnits(l,a);if(s)return s}return this._getMessage(a).format({0:Math.abs(l),when:l<0?"past":"future"})},r.prototype._isValidUnits=function(e){if(!e||i.arrIndexOf.call(l,e)>=0)return!0;if("string"==typeof e){var t=/s$/.test(e)&&e.substr(0,e.length-1);if(t&&i.arrIndexOf.call(l,t)>=0)throw new Error('"'+e+'" is not a valid IntlRelativeFormat `units` value, did you mean: '+t)}throw new Error('"'+e+'" is not a valid IntlRelativeFormat `units` value, it must be one of: "'+l.join('", "')+'"')},r.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(r.defaultLocale);var t,n,a,o,i=r.__localeData__;for(t=0,n=e.length;t<n;t+=1)for(a=e[t].toLowerCase().split("-");a.length;){if(o=i[a.join("-")])return o.locale;a.pop()}var l=e.pop();throw new Error("No locale data has been added to IntlRelativeFormat for: "+e.join(", ")+", or the default locale: "+l)},r.prototype._resolveStyle=function(e){if(!e)return s[0];if(i.arrIndexOf.call(s,e)>=0)return e;throw new Error('"'+e+'" is not a valid IntlRelativeFormat `style` value, it must be one of: "'+s.join('", "')+'"')},r.prototype._selectUnits=function(e){var t,n,a;for(t=0,n=l.length;t<n&&(a=l[t],!(Math.abs(e[a])<r.thresholds[a]));t+=1);return a}},function(e,t){"use strict";function n(e){return 400*e/146097}var r=Math.round;t.default=function(e,t){var a=r((t=+t)-(e=+e)),o=r(a/1e3),i=r(o/60),l=r(i/60),s=r(l/24),c=r(s/7),u=n(s);return{millisecond:a,second:o,minute:i,hour:l,day:s,week:c,month:r(12*u),year:r(u)}}},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,a=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),o=(!a&&Object.prototype.__defineGetter__,a?Object.defineProperty:function(e,t,r){"get"in r&&e.__defineGetter__?e.__defineGetter__(t,r.get):(!n.call(e,t)||"value"in r)&&(e[t]=r.value)}),i=Object.create||function(e,t){function r(){}var a,i;r.prototype=e,a=new r;for(i in t)n.call(t,i)&&o(a,i,t[i]);return a},l=Array.prototype.indexOf||function(e,t){var n=this;if(!n.length)return-1;for(var r=t||0,a=n.length;r<a;r++)if(n[r]===e)return r;return-1},s=Array.isArray||function(e){return"[object Array]"===r.call(e)},c=Date.now||function(){return(new Date).getTime()};t.defineProperty=o,t.objCreate=i,t.arrIndexOf=l,t.isArray=s,t.dateNow=c},function(e,t){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1),i=a&&n[0].slice(-2);return t?1==o&&11!=i?"one":2==o&&12!=i?"two":3==o&&13!=i?"few":"other":1==e&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}}},function(e,t){},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,a=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r};e.exports=n(43)(a,!0)}else e.exports=n(48)()}).call(t,n(4))},function(e,t,n){(function(t){"use strict";var r=n(44),a=n(16),o=n(45),i=n(46),l=n(47);e.exports=function(e,n){function s(e){var t=e&&(C&&e[C]||e[O]);if("function"==typeof t)return t}function c(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function u(e){this.message=e,this.stack=""}function d(e){function r(r,c,d,f,p,m,h){if(f=f||S,m=m||d,h!==i)if(n)a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var v=f+":"+d;!l[v]&&s<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,f),l[v]=!0,s++)}return null==c[d]?r?new u(null===c[d]?"The "+p+" `"+m+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+p+" `"+m+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(c,d,f,p,m)}if("production"!==t.env.NODE_ENV)var l={},s=0;var c=r.bind(null,!1);return c.isRequired=r.bind(null,!0),c}function f(e){function t(t,n,r,a,o,i){var l=t[n];return w(l)!==e?new u("Invalid "+a+" `"+o+"` of type `"+E(l)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return d(t)}function p(e){function t(t,n,r,a,o){if("function"!=typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var l=t[n];if(!Array.isArray(l))return new u("Invalid "+a+" `"+o+"` of type `"+w(l)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<l.length;s++){var c=e(l,s,r,a,o+"["+s+"]",i);if(c instanceof Error)return c}return null}return d(t)}function m(e){function t(t,n,r,a,o){if(!(t[n]instanceof e)){var i=e.name||S;return new u("Invalid "+a+" `"+o+"` of type `"+M(t[n])+"` supplied to `"+r+"`, expected instance of `"+i+"`.")}return null}return d(t)}function h(e){function n(t,n,r,a,o){for(var i=t[n],l=0;l<e.length;l++)if(c(i,e[l]))return null;return new u("Invalid "+a+" `"+o+"` of value `"+i+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?d(n):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function v(e){function t(t,n,r,a,o){if("function"!=typeof e)return new u("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var l=t[n],s=w(l);if("object"!==s)return new u("Invalid "+a+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var c in l)if(l.hasOwnProperty(c)){var d=e(l,c,r,a,o+"."+c,i);if(d instanceof Error)return d}return null}return d(t)}function g(e){function n(t,n,r,a,o){for(var l=0;l<e.length;l++)if(null==(0,e[l])(t,n,r,a,o,i))return null;return new u("Invalid "+a+" `"+o+"` supplied to `"+r+"`.")}return Array.isArray(e)?d(n):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull)}function y(e){function t(t,n,r,a,o){var l=t[n],s=w(l);if("object"!==s)return new u("Invalid "+a+" `"+o+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var d=e[c];if(d){var f=d(l,c,r,a,o+"."+c,i);if(f)return f}}return null}return d(t)}function b(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(b);if(null===t||e(t))return!0;var n=s(t);if(!n)return!1;var r,a=n.call(t);if(n!==t.entries){for(;!(r=a.next()).done;)if(!b(r.value))return!1}else for(;!(r=a.next()).done;){var o=r.value;if(o&&!b(o[1]))return!1}return!0;default:return!1}}function _(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function w(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":_(t,e)?"symbol":t}function E(e){var t=w(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function M(e){return e.constructor&&e.constructor.name?e.constructor.name:S}var C="function"==typeof Symbol&&Symbol.iterator,O="@@iterator",S="<<anonymous>>",D={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:function(){return d(r.thatReturnsNull)}(),arrayOf:p,element:function(){function t(t,n,r,a,o){var i=t[n];return e(i)?null:new u("Invalid "+a+" `"+o+"` of type `"+w(i)+"` supplied to `"+r+"`, expected a single ReactElement.")}return d(t)}(),instanceOf:m,node:function(){function e(e,t,n,r,a){return b(e[t])?null:new u("Invalid "+r+" `"+a+"` supplied to `"+n+"`, expected a ReactNode.")}return d(e)}(),objectOf:v,oneOf:h,oneOfType:g,shape:y};return u.prototype=Error.prototype,D.checkPropTypes=l,D.PropTypes=D,D}}).call(t,n(4))},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){(function(t){"use strict";var r=n(44);"production"!==t.env.NODE_ENV&&function(){var e=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o="Warning: "+e.replace(/%s/g,function(){return n[a++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};r=function(t,n){if(void 0===n)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!t){for(var r=arguments.length,a=Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];e.apply(void 0,[n].concat(a))}}}(),e.exports=r}).call(t,n(4))},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){(function(t){"use strict";function r(e,n,r,s,c){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{a("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",s||"React class",r,u),d=e[u](n,u,s,r,null,i)}catch(e){d=e}if(o(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",s||"React class",r,u,typeof d),d instanceof Error&&!(d.message in l)){l[d.message]=!0;var f=c?c():"";o(!1,"Failed %s type: %s%s",r,d.message,null!=f?f:"")}}}if("production"!==t.env.NODE_ENV)var a=n(16),o=n(45),i=n(46),l={};e.exports=r}).call(t,n(4))},function(e,t,n){"use strict";var r=n(44),a=n(16);e.exports=function(){function e(){a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){(function(t){"use strict";var n=function(e,n,r,a,o,i,l,s){if("production"!==t.env.NODE_ENV&&void 0===n)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===n)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,a,o,i,l,s],d=0;(c=new Error(n.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}};e.exports=n}).call(t,n(4))},function(e,t,n){"use strict";(t=e.exports=n(51).default).default=t},function(e,t,n){"use strict";function r(e){var t=i.objCreate(null);return function(){var n=Array.prototype.slice.call(arguments),r=a(n),o=r&&t[r];return o||(o=new(i.bind.apply(e,[null].concat(n))),r&&(t[r]=o)),o}}function a(e){if("undefined"!=typeof JSON){var t,n,r,a=[];for(t=0,n=e.length;t<n;t+=1)(r=e[t])&&"object"==typeof r?a.push(o(r)):a.push(r);return JSON.stringify(a)}}function o(e){var t,n,r,a,o=[],i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);var l=i.sort();for(n=0,r=l.length;n<r;n+=1)(a={})[t=l[n]]=e[t],o[n]=a;return o}var i=n(52);t.default=r},function(e,t){"use strict";var n=Function.prototype.bind||function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},a=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),a.prototype=new r,a},r=Object.prototype.hasOwnProperty,a=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),o=(!a&&Object.prototype.__defineGetter__,a?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):(!r.call(e,t)||"value"in n)&&(e[t]=n.value)}),i=Object.create||function(e,t){function n(){}var a,i;n.prototype=e,a=new n;for(i in t)r.call(t,i)&&o(a,i,t[i]);return a};t.bind=n,t.defineProperty=o,t.objCreate=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=r(n(1)),l=r(n(9)),s=r(n(19)),c=r(n(17)),u=n(23),d=function(e){var t,n=e.decoratedActions?Object.assign({},s.default,e.decoratedActions):s.default,r=e.directory.map(function(t,n){var r=t.directories.sort(function(e,t){return e.cd===t.cd?0:e.cd>t.cd?1:-1}).map(function(n,r){return i.default.createElement("option",{key:t.id+"||"+n.cd,value:t.id+"||"+n.cd,checked:e.source.currentSource.id==t.id&&e.content.cd==n.cd},n.cd)});return i.default.createElement("optgroup",{key:t.name,label:t.name,"data-source":void 0===t.id?n:t.id},i.default.createElement("option",{value:t.id+"||/",checked:"/"==e.content.cd&&e.source.currentSource==t.id},"./"),r)}),d=i.default.createElement("input",(t={type:"hidden",name:(void 0!==e.config.storagePrefix?e.config.storagePrefix:"eureka__")+"mediaSourceId"},a(t,"name",(void 0!==e.config.storagePrefix?e.config.storagePrefix:"eureka__")+"mediaSourceId"),a(t,"value",e.config.uid),t)),f=c.default.serverSideRendering?i.default.createElement("button",{type:"submit"},i.default.createElement(u.FormattedMessage,{id:"directory.set",defaultMessage:"Set Directory"})):void 0,p=i.default.createElement("select",{role:"navigation","aria-live":"polite",value:e.source.currentSource+"||"+e.content.cd,name:"eureka__media-browser_0__browsing",id:"eureka__media-browser_0__browsing",onChange:function(t){var r=c.default.parseMediaSourceOutOfCombinedPath(t.target.value,"||"),a=o(r,2),i=a[0],s=a[1];l.default.dispatch(n.updateSource(i)),l.default.dispatch(n.updateView({fetchingContents:!0})),l.default.dispatch(n.updateContent({cd:s,contents:[]})),l.default.dispatch(n.fetchDirectoryContents(i,{path:s},e.config.headers))}},r),m=i.default.createElement("input",{type:"hidden",name:(void 0!==e.config.storagePrefix?e.config.storagePrefix:"eureka__")+"upload-dir",value:e.content.cd}),h=c.default.serverSideRendering?i.default.createElement("div",null,d,m,p,f):i.default.createElement("form",{action:"#"},d,p,f);return i.default.createElement("div",{className:"eureka__media-directory-selector"},i.default.createElement("label",{htmlFor:"eureka__media-browser_0__browsing"},i.default.createElement(u.FormattedMessage,{id:"directory.browse",defaultMessage:"Browse Directory"}),":"),"",h)};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(1)),i=r(n(55)),l=(n(23),r(n(56))),s=function(e){var t=e.intl.formatMessage,n=t(l.default.uploadFileTo,{cd:e.content.cd}),r=t(l.default.createFileInMessage,{cd:e.content.cd}),s=e.config.allowUploads?o.default.createElement("button",{title:n,onClick:function(e){try{e.target.parentNode.parentNode.querySelector(".eureka__drop-area-zone").click()}catch(e){}}},o.default.createElement("span",{className:"visually-hidden"},n),o.default.createElement(i.default,a({},e,{icon:"upload"}))):void 0,c=e.config.handlers&&e.config.handlers.createFile?o.default.createElement("a",a({},e.config.handlers.createFile(e.source.currentSource,e.content.cd),{className:"button eureka__create-file-button",title:r}),o.default.createElement("span",{className:"visually-hidden"},r),o.default.createElement(i.default,a({},e,{icon:"file-text-o"}))):void 0,u=t(l.default.createNewDirectoryIn,{cd:e.content.cd});return o.default.createElement("div",{className:"eureka__tree-bar"},o.default.createElement("button",{title:u,onClick:e.onCreateDirectory},o.default.createElement("span",{className:"visually-hidden"},u),o.default.createElement(i.default,a({},e,{icon:"plus-square"}))),c,s)};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),o=r(n(3)),i=function(e){var t=Object.assign({},{assetsBasePath:"./assets/",iconSVG:"./img/icons.svg"},e.config);return a.default.createElement("svg",{"aria-hidden":void 0===e.ariaHidden||e.ariaHidden,className:"icon icon-"+e.icon},a.default.createElement("use",{xlinkHref:o.default.join(t.assetsBasePath,t.iconSVG)+"#icon-"+e.icon}))};t.default=i},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,o=n(23);t.default=(0,o.defineMessages)((a={directory:{id:"directory.create",defaultMessage:"Create a Directory"},createNewDirectoryIn:{id:"directory.createNewIn",defaultMessage:"Create a new Directory in {cd}"},directoryCancelCreating:{id:"directory.cancelCreating",defaultMessage:"Cancel creating directory {cd}"},choose:{id:"choose",defaultMessage:"Choose"},reset:{id:"reset",defaultMessage:"Reset"},rememberThis:{id:"rememberAspectRatio",defaultMessage:"Remember Ratio"},crop:{id:"crop",defaultMessage:"Crop"},cropItem:{id:"cropItem",defaultMessage:"Crop {item}"},cropAs:{id:"cropAs",defaultMessage:"Crop as"},cropAsItem:{id:"cropAsItem",defaultMessage:"Crop as {item}"},saveAsItem:{id:"saveAsItem",defaultMessage:"Save as {item}"},croppingItem:{id:"croppingItem",defaultMessage:"Cropping {item}"},cancel:{id:"cancel",defaultMessage:"Cancel"},mediaSourceTree:{id:"mediaSourceTree",defaultMessage:"Media Source Panel"},pastImageFromClipboardMessage:{id:"pastImageFromClipboardMessage",defaultMessage:"Paste images from the clipboard to upload"},pastImageFromClipboardToMessage:{id:"pastImageFromClipboardToMessage",defaultMessage:"Paste images from the clipboard to upload to ${cd} of source ${cs}"},deleteAreYouSureMessage:{id:"deleteAreYouSureMessage",defaultMessage:"Are you sure you want to permanently delete {filename}?"},cropAreYouSureMessage:{id:"cropAreYouSureMessage",defaultMessage:"Are you sure you want to reset your crop?"},masonryLayoutMessage:{id:"masonryLayoutMessage",defaultMessage:"Masonry Layout"},close:{id:"close",defaultMessage:"Close"},open:{id:"open",defaultMessage:"Open"},rename:{id:"rename",defaultMessage:"Rename"},welcomeToEureka:{id:"welcomeToEureka",defaultMessage:"Welcome to Eureka. You found it."},delete:{id:"delete",defaultMessage:"Delete"},in:{id:"in",defaultMessage:"in"},createFile:{id:"file.create",defaultMessage:"Create File"},contentsOfBy:{id:"contents.ofby",defaultMessage:"contents of {cd} by filename, filesize, dimensions or even modification date"},filterContentsOfBy:{id:"contents.filterBy",defaultMessage:"Filter contents of {cd} by filename, filesize, dimensions or even modification date"},quickCreateFile:{id:"file.quickCreate",defaultMessage:"Quick Create Files"},cannotRename:{id:"rename.cannot",defaultMessage:"Cannot rename {filename} to the same name"},expand:{id:"expand",defaultMessage:"Expand"},chooseItem:{id:"choose.item",defaultMessage:"Choose {filename}"},renameItem:{id:"rename.item",defaultMessage:"Rename {filename}"},newName:{id:"new.name",defaultMessage:"New name"},deleteDirectory:{id:"directory.delete",defaultMessage:"Delete Directory"},fetchingContents:{id:"contents.fetchingContents",defaultMessage:"Hold tight while we fetch {cd}"},deleteItem:{id:"delete.item",defaultMessage:"Delete {filename}"},deletedItem:{id:"deleted.item",defaultMessage:"Deleted {filename}"},download:{id:"download",defaultMessage:"Download"},downloadItem:{id:"download.item",defaultMessage:"Download {filename}"},expandItem:{id:"expand.item",defaultMessage:"Expand {filename}"},refreshDirectory:{id:"directory.refresh",defaultMessage:"Refresh Directory"},uploadFiles:{id:"upload.files",defaultMessage:"Upload Files"},uploadFileTo:{id:"upload.filesTo",defaultMessage:"Upload File to {cd}"},createFileInMessage:{id:"upload.createFileIn",defaultMessage:"Create File in {cd}"},closeMediaBrowser:{id:"close.mediaBrowser",defaultMessage:"Close Media Browser"},performContextualActions:{id:"context.performActions",defaultMessage:"Perform Actions such as Expand or Choose on {filename}"}},r(a,"choose",{id:"choose",defaultMessage:"Choose"}),r(a,"item",{id:"item",defaultMessage:"item"}),r(a,"tabularLayoutDescription",{id:"layout.tabular",defaultMessage:"Tabular Layout displays image thumbnails along with Name, Description, File Size and Edited On columns"}),r(a,"thumbnailLayoutDescription",{id:"layout.thumbnail",defaultMessage:"Thumbnail layout displays a grid of medium sized thumbnails"}),r(a,"gridLayoutDescription",{id:"layout.grid",defaultMessage:"Grid View displays images a grid of large images"}),r(a,"listLayoutDescription",{id:"layout.list",defaultMessage:"List Layout displays Name, Description, File Size and Edited On columns"}),r(a,"openFileInNewTab",{id:"file.openInNewTab",defaultMessage:"Open {filename} in a new tab"}),r(a,"mediaItem",{id:"mediaItem",defaultMessage:"media item"}),r(a,"toggle",{id:"toggle",defaultMessage:"Toggle"}),r(a,"pluralItem",{id:"pluralItem",defaultMessage:"a media item"}),r(a,"pluralChoose",{id:"pluralChoose",defaultMessage:"item"}),r(a,"copyListofSelectedFiles",{id:"copyListofSelectedFiles",defaultMessage:"Copy list of selected files"}),r(a,"mediaSourceTreeMessage",{id:"media.sourceTree",defaultMessage:"Media Source Panel"}),r(a,"dragFilesUploading",{id:"upload.dragFilesUploading",defaultMessage:"Uploading files"}),r(a,"dragFilesToBeUploadedTo",{id:"upload.dragFilestoUpload",defaultMessage:"Drag files here to be uploaded to {cd}"}),r(a,"dragMode",{id:"dragMode",defaultMessage:"Drag Mode"}),r(a,"cropMove",{id:"crop.move",defaultMessage:"Move"}),r(a,"cropShowGuides",{id:"crop.showGuides",defaultMessage:"Show Guides"}),r(a,"cropHideGuides",{id:"crop.hideGuides",defaultMessage:"Hide Guides"}),r(a,"cropToggleGuides",{id:"crop.toggleGuides",defaultMessage:"Toggle Guides"}),r(a,"cropZoomIn",{id:"crop.zoomIn",defaultMessage:"Zoom In"}),r(a,"cropZoomOut",{id:"crop.cropZoomOut",defaultMessage:"Zoom Out"}),r(a,"cropMoveLeft",{id:"crop.moveLeft",defaultMessage:"Move Left"}),r(a,"cropMoveRight",{id:"crop.moveRight",defaultMessage:"Move Right"}),r(a,"cropMoveUp",{id:"crop.moveUp",defaultMessage:"Move Up"}),r(a,"cropMoveDown",{id:"crop.moveDown",defaultMessage:"Move Down"}),r(a,"cropDownload",{id:"crop.download",defaultMessage:"Download Cropped Image"}),r(a,"cropUploadImage",{id:"crop.uploadImage",defaultMessage:"Upload Image to Crop"}),r(a,"upload",{id:"crop.upload",defaultMessage:"Upload"}),r(a,"cropBoundingBox",{id:"crop.boundingBox",defaultMessage:"Bounding Box (px)"}),r(a,"cropX",{id:"crop.X",defaultMessage:"X"}),r(a,"cropY",{id:"crop.Y",defaultMessage:"Y"}),r(a,"cropWidth",{id:"crop.width",defaultMessage:"Width"}),r(a,"cropHeight",{id:"crop.height",defaultMessage:"Height"}),r(a,"cropAspectRatio",{id:"crop.aspectRatio",defaultMessage:"Aspect Ratio"}),r(a,"cropFree",{id:"crop.free",defaultMessage:"Free"}),r(a,"cropScaleRotate",{id:"crop.scaleRotate",defaultMessage:"Scale & Rotate"}),r(a,"cropRotate",{id:"crop.rotate",defaultMessage:"Rotate"}),r(a,"cropScale",{id:"crop.scale",defaultMessage:"Scale"}),a))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TreeToggle=void 0;var a=r(n(1)),o=r(n(9)),i=r(n(19)),l=(r(n(55)),r(n(56))),s=t.TreeToggle=function(e){var t=(0,e.intl.formatMessage)(l.default.mediaSourceTreeMessage);return a.default.createElement("div",null,a.default.createElement("button",{role:"button",id:"eureka__tree-toggle__button","aria-controls":"eureka__pathbrowser","aria-pressed":e.view.sourceTreeOpen,"aria-expanded":e.view.sourceTreeOpen,onClick:function(t){o.default.dispatch(i.default.updateView({sourceTreeOpen:!e.view.sourceTreeOpen}))}},""+t))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),o=r(n(9)),i=r(n(19)),l=r(n(17)),s=n(23),c=r(n(56)),u=function(e){var t=e.intl,n=t.formatMessage,r=t.formatPlural,u=n(c.default.closeMediaBrowser),d=n(c.default.choose),f=n(c.default.mediaItem),p=r(c.default.pluralItem),m=(e.content.chosenMediaItemsInverted.map(function(e){return e.filename}),e.content.chosenMediaItemsInverted.map(function(e){return a.default.createElement("input",{type:"hidden",name:"delete_file[]",key:e.filename,value:e.filename})})),h=e.content.chosenMediaItemsInverted.map(function(e){return a.default.createElement("input",{type:"hidden",name:"zip_file[]",key:e.filename,value:e.filename})}),v=e.content.chosenMediaItemsInverted.length,g=c.default.pluralChoose[r({value:v})],y=n(c.default.cancel),b=v>1&&e.view.chooseMultiple?" "+v+" "+g:a.default.createElement("span",{className:"visually-hidden"}," ",function(){try{return e.view.focusedMediaItem.filename||" "+p}catch(e){return" "+f}}()),_=v>1&&e.view.chooseMultiple&&e.config.allowDownloadMultiple?a.default.createElement("form",{encType:"multipart/form-data",method:"POST",action:"/assets/components/eureka/media/attachments/"+e.source.currentSource,onSubmit:function(e){}},a.default.createElement("input",{type:"hidden",name:"cd",value:e.content.cd}),a.default.createElement("input",{type:"hidden",name:"cs",value:e.source.currentSource}),h,a.default.createElement("button",{className:"eureka__gratious"},a.default.createElement(s.FormattedMessage,{id:"download",defaultValue:"Download"}),b)):void 0,w=e.config.allowChoose?a.default.createElement("button",{"aria-describedby":e.config.storagePrefix+"selected_file_names",id:(void 0!==e.config.storagePrefix?e.config.storagePrefix:"eureka__")+"choose-button",className:"eureka__primary",disabled:!e.view.focusedMediaItem&&!l.default.serverSideRendering,onClick:function(t){if(e.view.chooseMultiple)e.view.selectionInverted?e.config.callbacks.choose(e.content.chosenMediaItemsInverted):e.config.callbacks.choose(e.content.chosenMediaItems);else if(e.view.focusedMediaItem)try{e.config.callbacks.choose(e.view.focusedMediaItem)}catch(e){console.log(e)}}},d,b):void 0,E=n(c.default.deleteAreYouSureMessage,{filename:v+" "+c.default.pluralItem[r({value:v})]}),M=v>1&&e.view.chooseMultiple&&e.config.allowDelete?a.default.createElement("form",{encType:"multipart/form-data",onSubmit:function(t){function n(){o.default.dispatch(i.default.deleteMediaItems(e.source.currentSource,a,e.config.headers,e.content.chosenMediaItemsInverted)).then(function(){var t=function(){try{return a.getAll("delete_file[]").length}catch(t){return e.content.chosenMediaItemsInverted.length}}();o.default.dispatch(i.default.notify("Deleted "+t+" "+c.default.pluralItem[r({value:t})],l.default.DANGEROUS))})}t.preventDefault(),t.stopPropagation();var a=new FormData(t.target);e.config.confirmBeforeDelete?confirm(E)&&n():n()}},a.default.createElement("input",{type:"hidden",name:"cd",value:e.content.cd}),a.default.createElement("input",{type:"hidden",name:"cs",value:e.source.currentSource}),m,a.default.createElement("button",{className:"dangerous"},a.default.createElement(s.FormattedMessage,{id:"delete",defaultValue:"Delete"}),b)):void 0;return a.default.createElement("div",{"aria-hidden":e.ariaHidden,className:"eureka__button-bar eureka__choose-bar"},a.default.createElement("button",{className:"dangerous","aria-label":u,onClick:function(t){try{e.config.callbacks.close()}catch(e){console.log(e)}}},y),_,M,w)};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=r(s),u=r(n(9)),d=r(n(19)),f=r(n(17)),p=r(n(18)),m=n(23),h=r(n(56)),v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.searchBarPlaceholderTick=function(){n.pickRandomField()},n.state={placeholderField:"filename",lastDir:"/"},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.pickRandomField(),!f.default.serverSideRendering&&this.props.view.intervals.searchBarPlaceholder&&(this.clearSearchBarPlaceholderInterval(),this.searchBarPlaceholderInterval=setInterval(this.searchBarPlaceholderTick,this.props.view.intervals.searchBarPlaceholder))}},{key:"clearSearchBarPlaceholderInterval",value:function(){try{clearInterval(this.searchBarPlaceholderInterval)}catch(e){}}},{key:"componentWillUnmount",value:function(){this.clearSearchBarPlaceholderInterval()}},{key:"pickRandomField",value:function(){Math.random();var e=["filename","dimensions","editedOn","fileSize"];this.setState({placeholderField:e[Math.round(Math.random()*(e.length-1))]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.intl.formatMessage,r=(c.default.createElement("option",{key:"0"},"FileSystem"),function(){try{if(!t.content.contents.length)return""}catch(e){return""}var n=t.content.contents[Math.round(Math.random()*(t.content.contents.length-1))];switch(e.state.placeholderField){case"filename":return n.filename;case"dimensions":try{return n.dimensions.join("x")}catch(e){return n.filename}case"editedOn":return Math.random()<.5?new Date(n.editedOn).toLocaleString():new Date(n.editedOn).toLocaleString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});case"fileSize":return(0,p.default)(n.fileSize,{round:0})}}()),a=c.default.createElement("datalist",{id:(void 0!==t.config.storagePrefix?t.config.storagePrefix:"eureka__")+"__datalist"},t.content.contents.map(function(e){return c.default.createElement("option",{key:e.filename,value:e.filename})})),o=n(h.default.filterContentsOfBy,{cd:t.content.cd}),i=n(h.default.contentsOfBy,{cd:t.content.cd}),l=c.default.createElement(m.FormattedMessage,{id:"filter",defaultMessage:"Filter"});return f.default.serverSideRendering?c.default.createElement("div",{className:"eureka__search-bar"},c.default.createElement("label",{htmlFor:"eureka__filter",title:o},l,c.default.createElement("span",{className:"visually-hidden"}," ",i),":"),c.default.createElement("input",{list:(void 0!==t.config.storagePrefix?t.config.storagePrefix:"eureka__")+"__datalist",type:"text",name:"eureka__filter",id:"eureka__filter",placeholder:r,value:t.view.filter,onChange:function(e){u.default.dispatch(d.default.updateView({filter:e.target.value||void 0}))}}),a):c.default.createElement("form",{role:"search",className:"eureka__search-bar",onSubmit:function(e){return e.preventDefault()}},c.default.createElement("label",{htmlFor:"eureka__filter",title:o},l,c.default.createElement("span",{className:"visually-hidden"}," ",i),":"),c.default.createElement("input",{list:(void 0!==t.config.storagePrefix?t.config.storagePrefix:"eureka__")+"__datalist",type:"text",name:"eureka__filter",id:"eureka__filter",placeholder:r,value:t.view.filter,onChange:function(e){u.default.dispatch(d.default.updateView({filter:e.target.value||void 0}))}}),a)}}]),t}(s.Component);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=r(n(1)),u=r(n(9)),d=r(n(19)),f=r(n(55)),p=r(n(61)),m=n(17),h=n(23),v=r(n(56)),g=r(n(62)),y=r(n(63)),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.intl.formatMessage,r=n(v.default.tabularLayoutDescription),a=n(v.default.thumbnailLayoutDescription),o=n(v.default.gridLayoutDescription),i=n(v.default.masonryLayoutMessage),s=n(v.default.listLayoutDescription),g=y.default&&t.config.allowMasonry?c.default.createElement("div",null,c.default.createElement("input",{"aria-labelledby":(void 0!==t.config.storagePrefix?t.config.storagePrefix:"eureka__")+"view-mode-legend",type:"radio",id:"eureka__view-masonry",name:"eureka__view",onChange:function(e){return u.default.dispatch(d.default.updateView({mode:e.target.value}))},checked:"masonry"===t.view.mode,value:"masonry"}),"",c.default.createElement("label",{htmlFor:"eureka__view-masonry",title:i},c.default.createElement(f.default,l({},t,{icon:"masonry"})),c.default.createElement("span",{className:"visually-hidden"},c.default.createElement(h.FormattedMessage,{id:"layout.masonry",defaultMessage:"Masonry Layout"})))):void 0,b=t.view.allowFullscreen&&this.state.supportsFullscreen?c.default.createElement("div",null,c.default.createElement("input",{type:"checkbox",id:"eureka__fullscreen-toggle",name:"eureka__fullscreen-toggle",value:"1",onChange:function(t){var n=t.target.closest(".eureka-root"),r=!1;if(t.target.checked){try{n.requestFullscreen()}catch(e){(0,m.runPrefixMethod)(n,"RequestFullscreen")}r=!0}else try{n.exitFullscreen()}catch(e){(0,m.runPrefixMethod)(document,"ExitFullscreen"),(0,m.runPrefixMethod)(document,"CancelFullscreen")}e.setState({isFullscreen:r})}}),c.default.createElement("label",{className:(0,p.default)({"eureka__checked-active":this.state.isFullscreen}),htmlFor:"eureka__fullscreen-toggle"},c.default.createElement("span",{className:"visually-hidden"},c.default.createElement(h.FormattedMessage,{id:"layout.fullscreenMode",defaultMessage:"Fullscreen Mode"})),c.default.createElement(f.default,l({},t,{"aria-hidden":"true",icon:this.state.isFullscreen?"compress":"expand"})))):void 0;return c.default.createElement("form",{className:"eureka__layout-chooser"},c.default.createElement("fieldset",null,c.default.createElement("legend",null,"Choose a Layout Mode"),c.default.createElement("div",{className:"eureka__icon-radio-btns",role:"radiogroup"},c.default.createElement("legend",{className:"visually-hidden",id:(void 0!==t.config.storagePrefix?t.config.storagePrefix:"eureka__")+"view-mode-legend"},c.default.createElement(h.FormattedMessage,{id:"layout.viewMode",defaultMessage:"View Mode"})),c.default.createElement("div",null,c.default.createElement("input",{"aria-labelledby":(void 0!==t.config.storagePrefix?t.config.storagePrefix:"eureka__")+"view-mode-legend",type:"radio",id:"eureka__view-table",name:"eureka__view",onChange:function(e){return u.default.dispatch(d.default.updateView({mode:e.target.value}))},checked:"table"===t.view.mode,value:"table"}),"",c.default.createElement("label",{htmlFor:"eureka__view-table",title:r},c.default.createElement(f.default,l({},t,{icon:"th-list"})),c.default.createElement("span",{className:"visually-hidden"},c.default.createElement(h.FormattedMessage,{id:"layout.table",defaultMessage:"Table Layout"})))),c.default.createElement("div",null,c.default.createElement("input",{"aria-labelledby":(void 0!==t.config.storagePrefix?t.config.storagePrefix:"eureka__")+"view-mode-legend",type:"radio",id:"eureka__view-thumb",name:"eureka__view",onChange:function(e){return u.default.dispatch(d.default.updateView({mode:e.target.value}))},checked:"thumb"===t.view.mode,value:"thumb"}),"",c.default.createElement("label",{htmlFor:"eureka__view-thumb",title:a},c.default.createElement(f.default,l({},t,{icon:"th-large"})),c.default.createElement("span",{className:"visually-hidden"},c.default.createElement(h.FormattedMessage,{id:"layout.thumb",defaultMessage:"Thumbnail Layout"})))),c.default.createElement("div",null,c.default.createElement("input",{"aria-labelledby":(void 0!==t.config.storagePrefix?t.config.storagePrefix:"eureka__")+"view-mode-legend",type:"radio",id:"eureka__view-grid",name:"eureka__view",onChange:function(e){return u.default.dispatch(d.default.updateView({mode:e.target.value}))},checked:"grid"===t.view.mode,value:"grid"}),"",c.default.createElement("label",{htmlFor:"eureka__view-grid",title:o},c.default.createElement(f.default,l({},t,{icon:"square"})),c.default.createElement("span",{className:"visually-hidden"},c.default.createElement(h.FormattedMessage,{id:"layout.grid",defaultMessage:"Grid Layout"})))),g,c.default.createElement("div",null,c.default.createElement("input",{"aria-labelledby":(void 0!==t.config.storagePrefix?t.config.storagePrefix:"eureka__")+"view-mode-legend",type:"radio",id:"eureka__view-list",name:"eureka__view",onChange:function(e){return u.default.dispatch(d.default.updateView({mode:e.target.value}))},checked:"list"===t.view.mode,value:"list"}),"",c.default.createElement("label",{htmlFor:"eureka__view-list",title:s},c.default.createElement(f.default,l({},t,{icon:"list"})),c.default.createElement("span",{className:"visually-hidden"},c.default.createElement(h.FormattedMessage,{id:"layout.list",defaultMessage:"List Layout"})))),b)))}}]),t}(g.default);t.default=b},function(e,t,n){var r,a;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===a)for(var i in r)o.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:(r=[],void 0!==(a=function(){return n}.apply(t,r))&&(e.exports=a))}()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),s=(function(e){e&&e.__esModule}(l),function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={ifFullscreen:!1,supportsFullscreen:n.featureDetectFullscreen()},document.onfullscreenchange=document.onwebkitfullscreenchange=document.onmozfullscreenchange=document.onmsfullscreenchange=document.onwebkitfullscreenchange=n.handleFullScreenChange.bind(n),n}return o(t,e),i(t,[{key:"handleFullScreenChange",value:function(e){this.setState({isFullscreen:void 0!==this.getFullScreenElement()})}},{key:"featureDetectFullscreen",value:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}},{key:"getFullScreenElement",value:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||void 0}}]),t}(l.PureComponent));t.default=s},function(e,t){e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),d=r(u),f=r(n(9)),p=r(n(19)),m=r(n(65)),h=r(n(61)),v=r(n(91)),g=r(n(55)),y=r(n(17)),b=n(23),_=r(n(56)),w=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={contents:function(){try{return n.sortContents(e.content.contents,e.view)}catch(e){}return[]}(),sort:Object.assign({},{by:"filename",dir:y.default.ASCENDING,renamingItem:void 0},e.sort)},n.decoratedActions=e.decoratedActions?Object.assign({},p.default,e.decoratedActions):p.default,n}return l(t,e),c(t,[{key:"sortContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.contents,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.view;return e.sort(function(e,n){if(e[t.sort.by]===n[t.sort.by])return 0;var r=0;switch(t.sort.by){case"dimensions":try{r=e.dimensions[0]*e.dimensions[1]>n.dimensions[0]*n.dimensions[1]?1:-1}catch(e){console.log(e)}break;case"editedOn":r=new Date(e.editedOn).getTime()>new Date(n.editedOn).getTime()?1:-1;break;case"fileSize":r=e.fileSize<n.fileSize?1:-1;break;default:r=e[t.sort.by]<n[t.sort.by]?1:-1}return t.sort.dir===y.default.DESCENDING?r:0-r})}},{key:"componentDidMount",value:function(){this.setState({contents:this.sortContents(this.props.content.contents)})}},{key:"shouldComponentUpdate",value:function(e,t){return!!e.view.filter||(this.state.sort!==t.sort||(e.content.contents!==this.state.contents||(this.state.contents.length!==t.contents.length||this.state.contents!==t.contents||(e.view.chooseMultiple!==this.props.view.chooseMultiple||(e.view.sort,this.props.view.sort,!0)))))}},{key:"componentWillUpdate",value:function(e,t){this.props.view.sort!==e.view.sort||this.props.content.cd!==e.content.cd?this.setState({contents:this.sortContents(e.content.contents,e.view)}):e.content.contents!==this.props.content.contents&&this.setState({contents:e.view.filter?e.content.contents:this.sortContents(e.content.contents,e.view)})}},{key:"onDrop",value:function(e){var t=this.props,n=new FormData,r=this.decoratedActions;e.forEach(function(e){n.append("eureka__uploadFiles",e,e.name)}),f.default.dispatch(p.default.updateView({isUploading:!0})),f.default.dispatch(r.uploadFiles(t.source.currentSource,t.content.cd,n,t.config.headers))}},{key:"render",value:function(){var e,t,n,r,o,i,l=this,c=this.props,u=this.state,w=c.intl.formatMessage,E=this.decoratedActions,M=c.content.contents.length?c.content.contents.map(function(e,t){var n=c.config.allowChoose?d.default.createElement("menuitem",{label:w(_.default.chooseItem,{filename:e.filename}),onClick:function(t){document.getElementById("choose__"+y.default.cssSafe(e.filename)).click()}}):void 0,r=c.config.allowDownload?d.default.createElement("menuitem",{label:w(_.default.downloadItem,{filename:e.filename}),onClick:function(t){var n=document.createElement("a");n.setAttribute("download",e.filename),n.href=e.absoluteURL,n.classList.add("visually-hidden"),document.body.appendChild(n),n.click(),n.remove()}}):void 0;return d.default.createElement("menu",{key:"context_menu__"+e.absoluteURL,hidden:"true",type:"context",id:"context_menu__tbody-"+t},d.default.createElement("menuitem",{label:w(_.default.expandItem,{filename:e.filename}),onClick:function(t){document.getElementById("expand__"+y.default.cssSafe(e.filename)).click()}}),n,d.default.createElement("menuitem",{label:w(_.default.renameItem,{item:e.filename}),onClick:function(t){document.getElementById((void 0!==c.config.storagePrefix?c.config.storagePrefix:"eureka__")+"rename__"+y.default.cssSafe(e.filename)).click()}}),d.default.createElement("menuitem",{label:w(_.default.deleteItem,{filename:e.filename}),onClick:function(t){f.default.dispatch(E.deleteMediaItem(c.source.currentSource,e.path,c.config.headers))}}),r)}):void 0,C=y.default.serverSideRendering?d.default.createElement("th",{scope:"col",role:"columnheader"},"Select"):void 0,O=!y.default.serverSideRendering&&c.view.chooseMultiple?d.default.createElement("th",{scope:"col",role:"columnheader",className:"eureka__choose"},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(b.FormattedMessage,{id:"choose",defaultMessage:"Choose"}))):void 0,S=d.default.createElement("table",{className:"eureka__table",cellSpacing:"0",cellPadding:"0",role:"grid"},d.default.createElement("thead",{hidden:!c.content.contents.length,className:(0,h.default)(f.default.getState().view.isTableScrolling?"eureka__tbody-scrolling":void 0)},d.default.createElement("tr",null,C,O,d.default.createElement("th",(e={role:"rowheader",scope:"col"},a(e,"role","columnheader"),a(e,"className","eureka__th-media"),e),d.default.createElement(b.FormattedMessage,{id:"media",defaultMessage:"Media"})),d.default.createElement("th",(t={className:"eureka__th-filename","aria-sort":"filename"===c.view.sort.by?c.view.sort.dir:void 0,role:"rowheader",scope:"col"},a(t,"role","columnheader"),a(t,"onClick",function(e){var t=l.props.view.sort.dir;"filename"===l.props.view.sort.by&&(t=t===y.default.ASCENDING?y.default.DESCENDING:y.default.ASCENDING),f.default.dispatch(p.default.updateView({sort:{by:"filename",dir:t}}))}),t),d.default.createElement(b.FormattedMessage,{id:"name",defaultMessage:"Name"}),"",y.default.serverSideRendering?void 0:d.default.createElement(g.default,s({},c,{icon:"sort"}))),d.default.createElement("th",(n={role:"rowheader",scope:"col"},a(n,"role","columnheader"),a(n,"className","visually-hidden eureka__th-actions"),n),"Actions"),d.default.createElement("th",(r={className:"eureka__th-dimensions","aria-sort":"dimensions"===c.view.sort.by?c.view.sort.dir:void 0,role:"rowheader",scope:"col"},a(r,"role","columnheader"),a(r,"onClick",function(e){var t=l.state.sort.dir;"dimensions"===l.props.view.sort.by&&(t=t===y.default.ASCENDING?y.default.DESCENDING:y.default.ASCENDING),f.default.dispatch(p.default.updateView({sort:{by:"dimensions",dir:t}}))}),r),d.default.createElement(b.FormattedMessage,{id:"dimensions",defaultMessage:"Dimensions"}),"",y.default.serverSideRendering?void 0:d.default.createElement(g.default,s({},c,{icon:"sort"}))),d.default.createElement("th",(o={className:"eureka__th-file-size","aria-sort":"fileSize"===c.view.sort.by?c.view.sort.dir:void 0,role:"rowheader",scope:"col"},a(o,"role","columnheader"),a(o,"onClick",function(e){var t=l.state.sort.dir;"fileSize"===l.props.view.sort.by&&(t=t===y.default.ASCENDING?y.default.DESCENDING:y.default.ASCENDING),f.default.dispatch(p.default.updateView({sort:{by:"fileSize",dir:t}}))}),o),d.default.createElement(b.FormattedMessage,{id:"fileSize",defaultMessage:"File Size"}),"",y.default.serverSideRendering?void 0:d.default.createElement(g.default,s({},c,{icon:"sort"}))),d.default.createElement("th",(i={className:"eureka__th-edited-on","aria-sort":"editedOn"===c.view.sort.by?c.view.sort.dir:void 0,role:"rowheader",scope:"col"},a(i,"role","columnheader"),a(i,"onClick",function(e){var t=l.state.sort.dir;"editedOn"===l.props.view.sort.by&&(t=t===y.default.ASCENDING?y.default.DESCENDING:y.default.ASCENDING),f.default.dispatch(p.default.updateView({sort:{by:"editedOn",dir:t}}))}),i),d.default.createElement(b.FormattedMessage,{id:"editedOn",defaultMessage:"Edited On"}),"",y.default.serverSideRendering?void 0:d.default.createElement(g.default,s({},c,{icon:"sort"}))))),d.default.createElement(m.default,s({},c,{intl:c.intl,filter:c.view.filter,content:c.content,contents:u.contents,sort:this.props.sort}))),D=c.config.doDragNDrop?d.default.createElement(v.default,{onDrop:this.onDrop.bind(this),disableClick:!0,style:{}},S,M):d.default.createElement("div",null,S,M);return c.config.allowUploads&&!y.default.serverSideRendering?D:d.default.createElement("div",null,S)}}]),t}(u.Component);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=d.default.createElement(y.FormattedMessage,{id:"search.tryAnother",defaultMessage:"Try another search"});return e.view.fetchingContents?d.default.createElement("tr",{role:"row"},d.default.createElement("td",{role:"presentation",colSpan:"5",className:"comfortable"},d.default.createElement("p",{className:"alert-info eureka__notice","aria-live":"assertive"},d.default.createElement("span",{className:"spinner"},d.default.createElement(g.default,s({},e,{icon:"circle-o-notch"}))),d.default.createElement("br",null),d.default.createElement(y.FormattedMessage,{id:"contents.fetchingContents",defaultMessage:"Hold tight while we fetch {cd}",values:{cd:e.content.cd}})))):e.view.filter?d.default.createElement("tr",{role:"row"},d.default.createElement("td",{role:"presentation",colSpan:"5",className:"comfortable"},d.default.createElement("p",{className:"alert-info eureka__notice","aria-live":"assertive"},d.default.createElement(y.FormattedMessage,{id:"search.noResults",defaultMessage:'Uh oh. No results found for "{filter}"',values:{filter:e.view.filter}}),". ",d.default.createElement("a",{href:"#eureka__filter",onClick:function(e){e.preventDefault(),document.getElementById("eureka__filter").focus()}},t)," ",d.default.createElement(y.FormattedMessage,{id:"grammar.or",defaultMessage:"or"})," ",d.default.createElement("a",{href:"#eureka__filter",onClick:function(e){e.preventDefault(),p.default.dispatch(m.default.updateView({filter:void 0})),document.getElementById("eureka__filter").value=""}},d.default.createElement(y.FormattedMessage,{id:"search.clearFilter",defaultMessage:"clear the searchfilter"})),"."))):d.default.createElement("tr",{role:"row"},d.default.createElement("td",{role:"presentation",colSpan:"5",className:"comfortable"},d.default.createElement("p",{className:"alert-info eureka__notice","aria-live":"assertive"},d.default.createElement(y.FormattedMessage,{id:"directory.appearsToBeEmpty",defaultMessage:'Directory "{cd}" appears to be empty.',values:{cd:e.content.cd}}),d.default.createElement("br",null),d.default.createElement(y.FormattedMessage,{id:"perhapsYouWouldLikeTo",defaultMessage:"Perhaps you'd like to"})," ",d.default.createElement("a",{href:"#eureka__upload-form",onClick:function(e){e.preventDefault();try{document.getElementById("eureka__upload-form").click()}catch(e){document.querySelector(".eureka__drop-area-zone").click()}}},d.default.createElement(y.FormattedMessage,{id:"upload.someFiles",defaultMessage:"upload some files"}),d.default.createElement("span",{className:"visually-hidden"}," ",d.default.createElement(y.FormattedMessage,{id:"grammar.to",defaultMessage:"to"})," ",e.content.cd)),"?")))}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),d=r(u),f=r(n(66)),p=(r(n(67)),r(n(9))),m=r(n(19)),h=(r(n(18)),r(n(61))),v=r(n(17)),g=r(n(55)),y=n(23),b=(r(n(56)),r(n(63))),_=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={focusedMediaItem:void 0,filter:void 0},n}return i(t,e),c(t,[{key:"componentWillMount",value:function(){try{window.addEventListener("resize",this.handleResize,!1)}catch(e){}}},{key:"componentWillUnmount",value:function(){try{window.removeEventListener("resize",this.handleResize,!1)}catch(e){}}},{key:"handleRenameStart",value:function(e){console.log("handleRenameStart",e)}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"render",value:function(){var e=this,t=this.props,n=(this.state,t.contents);t.filter&&function(){var e=t.view.filter.toLowerCase();n=n.filter(function(t){new Date(t.editedOn);return t.filename.toLowerCase().includes(e)||function(){try{return t.dimensions.join("x")}catch(e){return""}}().toLowerCase().includes(e)||t.localString.toLowerCase().includes(e)||t.localStringVerbose.toLowerCase().includes(e)||t.fileSizeHumanReadable.toLowerCase().includes(e)||t.fileSizeHumanReadable.toLowerCase().replace(/ +?/g,"").includes(e)})}();var r=n.length?n.map(function(n,r){return[d.default.createElement(f.default,s({key:v.default.cssSafe(n.filename)},t,{intl:t.intl,focusedMediaItem:t.view.focusedMediaItem,renameStart:e.handleRenameStart,item:n,index:r,onFocus:function(e){p.default.dispatch(m.default.updateView({focusedMediaItem:n}))},onBlur:function(e){}}))]}):d.default.createElement(l,t);return"masonry"==t.view.mode?d.default.createElement(b.default,{elementType:"tbody",options:{transitionDuration:240},disableImagesLoaded:!1,updateOnEachImageLoad:!0,role:"rowgroup","aria-live":"polite",className:(0,h.default)({empty:!n.length}),ref:function(t){e.tbody=t}},r):d.default.createElement("tbody",{role:"rowgroup","aria-live":"polite",className:(0,h.default)({empty:!n.length}),ref:function(t){e.tbody=t}},r)}}]),t}(u.PureComponent);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),d=r(u),f=r(n(18)),p=r(n(67)),m=r(n(9)),h=r(n(19)),v=r(n(17)),g=(r(n(3)),r(n(61))),y=(r(n(55)),r(n(70))),b=r(n(71)),_=n(23),w=r(n(56)),E=r(n(72)),M=n(69);try{(0,E.default)()}catch(e){}var C=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={focusWithin:!1,chooseChecked:!1},n.handleKeyboardBackspace=n.handleKeyboardBackspace.bind(n),n.handleKeyboardChoose=n.handleKeyboardChoose.bind(n),n.handleKeyboardExpand=n.handleKeyboardExpand.bind(n),n.handleKeyboardRename=n.handleKeyboardRename.bind(n),n}return l(t,e),c(t,[{key:"componentWillUpdate",value:function(e,t){this.props.view.selectionInverted===e.view.selectionInverted?e.view.selectionInverted?this.props.content.chosenMediaItemsInverted.length>1&&e.content.chosenMediaItemsInverted.length<1&&this.setState({chooseChecked:!1}):this.props.content.chosenMediaItems.length>1&&e.content.chosenMediaItems.length<1&&this.setState({chooseChecked:!1}):this.setState({chooseChecked:!this.state.chooseChecked})}},{key:"shouldComponentUpdate",value:function(e,t){if(this.props.item!==e.item)return!0;if(this.state.chooseChecked!==t.chooseChecked)return!0;if(this.props.content.chosenMediaItems.length!==e.content.chosenMediaItems.length||this.props.content.chosenMediaItemsInverted.length!==e.content.chosenMediaItemsInverted.length)return!0;try{return void 0!==e.focusedMediaItem}catch(e){}return!1}},{key:"componentDidMount",value:function(){this.assignKeyboardListeners()}},{key:"assignKeyboardListeners",value:function(){y.default.bind(["backspace"],this.handleKeyboardBackspace),y.default.bind(["enter"],this.handleKeyboardChoose),y.default.bind(["alt+space"],this.handleKeyboardExpand),y.default.bind(["ctrl+r"],this.handleKeyboardRename)}},{key:"onBlur",value:function(e){this.removeKeyboardListeners()}},{key:"componentWillUnmount",value:function(){this.removeKeyboardListeners()}},{key:"removeKeyboardListeners",value:function(){y.default.unbind(["backspace"],this.handleKeyboardBackspace),y.default.unbind(["enter"],this.handleKeyboardChoose),y.default.unbind(["alt+space"],this.handleKeyboardExpand),y.default.unbind(["ctrl+r"],this.handleKeyboardRename)}},{key:"handleKeyboardRename",value:function(e){try{this.props.onRenameItem(this.props.item)}catch(e){}}},{key:"handleKeyboardChoose",value:function(e){if(e.target.matches(".eureka__focused-media-item"))try{document.getElementById("choose__"+v.default.cssSafe(this.props.item.filename)).click()}catch(e){}}},{key:"handleKeyboardExpand",value:function(e){if(e.target.matches(".eureka__focused-media-item"))try{document.getElementById("expand__"+v.default.cssSafe(this.props.item.filename)).click()}catch(e){}}},{key:"removeFocusedMediaItems",value:function(e){for(var t=e.closest("tbody").querySelectorAll('tr[role="row"]'),n=0;n<t.length;n++)t[n].getAttribute("id")!==e.getAttribute("id")&&(t[n].classList.remove("eureka__focused-media-item"),t[n].querySelector(".eureka__context-row").setAttribute("hidden","true"))}},{key:"onFocus",value:function(e){e.target.matches("tr")&&(this.assignKeyboardListeners(),this.removeFocusedMediaItems(e.target),e.target.classList.add("eureka__focused-media-item"),e.target.querySelector(".eureka__context-row").removeAttribute("hidden"),this.props.onFocus())}},{key:"handleKeyboardBackspace",value:function(e){var t=this.props,n=t.intl.formatMessage,r=t.decoratedActions?Object.assign({},h.default,t.decoratedActions):h.default,a=n(w.default.deletedItem,{filename:t.item.filename});m.default.dispatch(r.deleteMediaItem(t.source.currentSource,t.item.path,t.config.headers)).then(function(){m.default.dispatch(h.default.notify(a,v.default.DANGEROUS))})}},{key:"componentWillMount",value:function(){var e=this.props;e.content.chosenMediaItemsInverted.includes(e.item)&&this.setState({chooseChecked:!0})}},{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.item,i=r.index,l=r.intl.formatMessage,c=r.item.dimensions?function(){try{return"displays at "+r.item.dimensions.join("x")+", "}catch(e){return""}}():"",u=r.item.filename+" "+c+"weighs "+(0,f.default)(r.item.fileSize,{round:0})+", and was edited on "+new Date(r.item.editedOn).toLocaleString(r.view.locale,{weekday:"long",year:"numeric",month:"long",day:"2-digit",timeZoneName:"long"}),y="eureka__choose_multiple_"+v.default.cssSafe(r.item.filename),E=r.view.chooseMultiple?function(e){e.target.closest(".eureka").querySelector("#"+y).click()}:void 0,C=d.default.createElement(b.default,s({item:o},r,{onMediaClick:E})),O=(r.config.storagePrefix||"eureka__")+"__media__"+v.default.cssSafe(r.item.filename),S=(r.config.storagePrefix||"eureka__")+"__radio_"+v.default.cssSafe(r.item.filename),D=v.default.serverSideRendering?d.default.createElement("td",null,d.default.createElement("input",{id:S,value:r.item.filename,name:"eureka__chosen_item",type:"radio","aria-labelledby":(void 0!==r.config.storagePrefix?r.config.storagePrefix:"eureka__")+"choose-button","aria-describedby":O+" "+v.default.cssSafe(r.item.filename)}),d.default.createElement("span",{className:"visually-hidden"},"",d.default.createElement(_.FormattedMessage,{id:"select",defaultMessage:"Select"})," ",r.item.filename)):void 0,k=r.item==r.focusedMediaItem?{"eureka__focused-media-item":!0}:{},x=v.default.serverSideRendering?void 0:"0",T=function(e){switch(e.toLowerCase()){case".jpg":case".jpeg":case".gif":case".png":case".png8":case".png24":case".svg":case".bmp":case".tiff":return!0;default:return!1}}(M(r.item.absoluteURL).ext),N=(l(w.default.chooseItem,{filename:o.filename}),r.view.chooseMultiple?d.default.createElement("td",{role:"gridcell",className:"eureka__choose eureka__choose-multile"},d.default.createElement("label",{htmlFor:y},d.default.createElement("input",{value:"chosen","aria-label":"Choose "+o.filename,type:"checkbox",name:"eureka__chose_multiple",id:y,key:"eureka__choose_multiple_"+v.default.cssSafe(r.item.filename)+"__"+(this.state.chooseChecked?"checked":""),checked:this.state.chooseChecked,onChange:function(e){e.preventDefault(),e.stopPropagation(),n.setState({chooseChecked:e.target.checked}),(r.view.selectionInverted?!e.target.checked:e.target.checked)?m.default.dispatch(h.default.addMediaItemToChosenItems(r.item,r.view.selectionInverted)):m.default.dispatch(h.default.removeMediaItemFromChosenItems(r.item,r.view.selectionInverted))}}))):void 0),P=l(w.default.openFileInNewTab,{filename:r.item.fileName});v.default.serverSideRendering&&T&&(C=d.default.createElement("a",{href:r.item.absoluteURL,target:"_"+S,"aria-label":P,role:"presentation"},C)),r.view.chooseMultiple;var I=v.default.wordBreaksEvery(r.item.filename);v.default.serverSideRendering&&(I=d.default.createElement("label",{htmlFor:S},I));var j=v.default.serverSideRendering?void 0:d.default.createElement(p.default,s({className:"eureka__context-row"},r,{item:o,hidden:function(e){try{return r.focusedMediaItem.path!==e.path}catch(e){return!0}}(o),key:"cm__"+i}));return d.default.createElement("tr",(t={role:"row",className:(0,g.default)(k),id:v.default.cssSafe(r.item.filename),"aria-label":u},a(t,"role","row"),a(t,"tabIndex",x),a(t,"onFocus",this.onFocus.bind(this)),a(t,"onBlur",this.onBlur.bind(this)),a(t,"contextMenu","context_menu__tbody-"+r.index),t),N,D,d.default.createElement("td",{role:"gridcell",id:O,title:u,className:"eureka__td-media",onTouchTap:r.view.isTouch?function(e){if(v.default.isDblTouchTap(e)){if(!r.view.focusedMediaItem)return;r.config.callbacks.choose(r.item)}}:void 0,onDoubleClick:r.view.isTouch?void 0:function(e){r.view.focusedMediaItem&&r.config.callbacks.choose(r.item)}},C),d.default.createElement("td",(e={role:"gridcell",id:(void 0!==r.config.storagePrefix?r.config.storagePrefix:"eureka__")+"filename__"+v.default.cssSafe(r.item.filename)},a(e,"role","gridcell"),a(e,"className","eureka__td-filename"),a(e,"contentEditable",!1),a(e,"onBlur",function(e){try{if(!e.target.innerHTML.trim())throw e.target.innerHTML=r.item.filename,new Error("file name cannot be empty");r.onRenameItemModalSubmit(e.target.innerHTML.trim(),r.item)}catch(e){console.log(e)}}),a(e,"onKeyUp",function(e){}),a(e,"onKeyDown",function(e){13===e.keyCode&&(e.preventDefault(),e.target.blur())}),a(e,"onPaste",function(e){console.log("onPaste",e)}),a(e,"onCopy",function(e){console.log("onCopy",e)}),a(e,"onCut",function(e){console.log("onCut",e)}),e),I),j,d.default.createElement("td",{className:"eureka__dimensions",role:"gridcell"},r.item.dimensions?r.item.dimensions[0]+"x"+r.item.dimensions[1]:""),d.default.createElement("td",{className:"eureka__file-size",role:"gridcell"},(0,f.default)(r.item.fileSize)),d.default.createElement("td",{className:"eureka__edited-on",role:"gridcell",title:r.item.editedOnLongTimeZone||new Date(r.item.editedOn).toLocaleString(r.view.locale,{weekday:"long",year:"numeric",month:"long",day:"2-digit",timeZoneName:"long"})},r.item.editedOnTwoDigit||new Date(r.item.editedOn).toLocaleString(r.view.locale,{year:"2-digit",month:"2-digit",day:"2-digit"})))}}]),t}(u.PureComponent);t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(1)),i=(r(n(9)),r(n(19)),r(n(68))),l=function(e){e.item;return o.default.createElement("td",{className:e.className,hidden:void 0===e.hidden||e.hidden},o.default.createElement(i.default,a({onBlur:e.onBlur,onFirstFocus:e.onFirstFocus},e)))};t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),o=r(n(9)),i=r(n(19)),l=n(17),s=(r(n(3)),n(23),r(n(56))),c=n(69),u=function(e){var t=e.item,n=c(t.filename).ext,r=e.decoratedActions?Object.assign({},i.default,e.decoratedActions):i.default,u=e.intl.formatMessage,d=u(s.default.rename),f=u(s.default.renameItem,{item:" "+t.filename}),p=u(s.default.performContextualActions,{filename:t.filename}),m=u(s.default.expand),h=u(s.default.chooseItem,{filename:t.filename}),v=u(s.default.choose),g=u(s.default.crop),y=u(s.default.delete),b=u(s.default.deleteItem,{filename:t.filename}),_=u(s.default.deletedItem,{filename:t.filename}),w=u(s.default.expandItem,{filename:t.filename}),E=u(s.default.download),M=u(s.default.downloadItem,{filename:t.filename}),C=u(s.default.deleteAreYouSureMessage,{filename:t.filename}),O=e.config.allowChoose?a.default.createElement("button",{role:"option",id:"choose__"+e.idPrefix+(0,l.cssSafe)(t.filename),title:h,onClick:function(n){if(e.view.focusedMediaItem)try{e.config.callbacks.choose(t)}catch(e){console.log(e)}}},v,a.default.createElement("span",{className:"visually-hidden"}," ",t.filename)):void 0,S=!e.config.allowCrop||".jpg"!=n.toLowerCase()&&".jpeg"!=n.toLowerCase()&&".png"!=n.toLowerCase()&&".gif"!=n.toLowerCase()?void 0:a.default.createElement("button",{className:"eureka__crop-btn",role:"option",id:"crop__"+e.idPrefix+(0,l.cssSafe)(t.filename),title:h,onClick:e.onCropItem?e.onCropItem.bind(null,t):void 0},g,a.default.createElement("span",{className:"visually-hidden"}," ",t.filename)),D=e.config.allowRename?a.default.createElement("button",{id:(void 0!==e.config.storagePrefix?e.config.storagePrefix:"eureka__")+"rename"+e.idPrefix+"__"+(0,l.cssSafe)(t.filename),role:"option",title:f,onClick:e.onRenameItem?e.onRenameItem.bind(null,t):void 0},d,a.default.createElement("span",{className:"visually-hidden"}," ",t.filename)):void 0,k=e.config.allowDelete?a.default.createElement("button",{id:""+(void 0!==e.config.storagePrefix?e.config.storagePrefix:"eureka__")+e.idPrefix+"delete__"+(0,l.cssSafe)(t.filename),role:"option",onClick:function(n){function a(){o.default.dispatch(r.deleteMediaItem(e.source.currentSource,t.path,e.config.headers)).then(function(){o.default.dispatch(i.default.notify(_,l.DANGEROUS))})}e.config.confirmBeforeDelete?confirm(C)&&a():a()},title:b,className:"dangerous"},y,a.default.createElement("span",{className:"visually-hidden"}," ",t.filename)):void 0,x=""+(void 0!==e.config.storagePrefix?e.config.storagePrefix:"eureka__")+e.idPrefix+"download__"+(0,l.cssSafe)(t.filename),T=e.config.allowDownload?a.default.createElement("a",{download:t.filename,href:t.absoluteURL,id:x,className:"button",target:"_"+x,title:M},E,a.default.createElement("span",{className:"visually-hidden"}," ",t.filename)):void 0;return a.default.createElement("div",{className:"eureka__button-bar eureka__context-buttons",role:"listbox","aria-label":p,tabIndex:"0","aria-activedescendant":"expand__"+(0,l.cssSafe)(t.filename)},a.default.createElement("a",{onBlur:e.onBlur,role:"option",id:"expand__"+e.idPrefix+(0,l.cssSafe)(t.filename),href:t.absoluteURL,target:"_"+encodeURI(t.absoluteURL),className:"button",title:w},m,a.default.createElement("span",{className:"visually-hidden"}," ",t.filename)),O,S,D,k,T)};u.defaultProps={idPrefix:""},t.default=u},function(e,t,n){(function(t){"use strict";function n(e){var t=o.exec(e),n=(t[1]||"")+(t[2]||""),r=t[3]||"",a=i.exec(r);return[n,a[1],a[2],a[3]]}function r(e){return s.exec(e).slice(1)}var a="win32"===t.platform,o=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,i=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,l={};l.parse=function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=n(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}};var s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,c={};c.parse=function(e){if("string"!=typeof e)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=r(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},e.exports=a?l.parse:c.parse,e.exports.posix=c.parse,e.exports.win32=l.parse}).call(t,n(4))},function(e,t,n){var r;!function(a,o,i){function l(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function s(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return w[e.which]?w[e.which]:E[e.which]?E[e.which]:String.fromCharCode(e.which).toLowerCase()}function c(e,t){return e.sort().join(",")===t.sort().join(",")}function u(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function d(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function f(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function p(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function m(){if(!_){_={};for(var e in w)e>95&&e<112||w.hasOwnProperty(e)&&(_[w[e]]=e)}return _}function h(e,t,n){return n||(n=m()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function v(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}function g(e,t){var n,r,a,o=[];for(n=v(e),a=0;a<n.length;++a)r=n[a],C[r]&&(r=C[r]),t&&"keypress"!=t&&M[r]&&(r=M[r],o.push("shift")),p(r)&&o.push(r);return t=h(r,o,t),{key:r,modifiers:o,action:t}}function y(e,t){return null!==e&&e!==o&&(e===t||y(e.parentNode,t))}function b(e){function t(e){e=e||{};var t,n=!1;for(t in _)e[t]?n=!0:_[t]=0;n||(M=!1)}function n(e,t,n,r,a,o){var i,l,s=[],u=n.type;if(!v._callbacks[e])return[];for("keyup"==u&&p(e)&&(t=[e]),i=0;i<v._callbacks[e].length;++i)if(l=v._callbacks[e][i],(r||!l.seq||_[l.seq]==l.level)&&u==l.action&&("keypress"==u&&!n.metaKey&&!n.ctrlKey||c(t,l.modifiers))){var d=!r&&l.combo==a,f=r&&l.seq==r&&l.level==o;(d||f)&&v._callbacks[e].splice(i,1),s.push(l)}return s}function r(e,t,n,r){v.stopCallback(t,t.target||t.srcElement,n,r)||!1===e(t,n)&&(d(t),f(t))}function a(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=s(e);t&&("keyup"!=e.type||w!==t?v.handleKey(t,u(e),e):w=!1)}function i(){clearTimeout(y),y=setTimeout(t,1e3)}function m(e,n,a,o){function l(n){r(a,n,e),"keyup"!==o&&(w=s(n)),setTimeout(t,10)}_[e]=0;for(var c=0;c<n.length;++c){var u=c+1===n.length?l:function(t){return function(){M=t,++_[e],i()}}(o||g(n[c+1]).action);h(n[c],u,o,e,c)}}function h(e,t,r,a,o){v._directMap[e+":"+r]=t;var i,l=(e=e.replace(/\s+/g," ")).split(" ");l.length>1?m(e,l,t,r):(i=g(e,r),v._callbacks[i.key]=v._callbacks[i.key]||[],n(i.key,i.modifiers,{type:i.action},a,e,o),v._callbacks[i.key][a?"unshift":"push"]({callback:t,modifiers:i.modifiers,action:i.action,seq:a,level:o,combo:e}))}var v=this;if(e=e||o,!(v instanceof b))return new b(e);v.target=e,v._callbacks={},v._directMap={};var y,_={},w=!1,E=!1,M=!1;v._handleKey=function(e,a,o){var i,l=n(e,a,o),s={},c=0,u=!1;for(i=0;i<l.length;++i)l[i].seq&&(c=Math.max(c,l[i].level));for(i=0;i<l.length;++i)if(l[i].seq){if(l[i].level!=c)continue;u=!0,s[l[i].seq]=1,r(l[i].callback,o,l[i].combo,l[i].seq)}else u||r(l[i].callback,o,l[i].combo);var d="keypress"==o.type&&E;o.type!=M||p(e)||d||t(s),E=u&&"keydown"==o.type},v._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)h(e[r],t,n)},l(e,"keypress",a),l(e,"keydown",a),l(e,"keyup",a)}if(a){for(var _,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},E={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},M={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},C={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},O=1;O<20;++O)w[111+O]="f"+O;for(O=0;O<=9;++O)w[O+96]=O.toString();b.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},b.prototype.unbind=function(e,t){var n=this;return n.bind.call(n,e,function(){},t)},b.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},b.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},b.prototype.stopCallback=function(e,t){var n=this;return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!y(t,n.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},b.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(w[t]=e[t]);_=null},b.init=function(){var e=b(o);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),a.Mousetrap=b,void 0!==e&&e.exports&&(e.exports=b),void 0!==(r=function(){return b}.call(t,n,t,e))&&(e.exports=r)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.item.absolutePreviewURL||e.item.absoluteURL,n=e.item.alt||"",r=u(e.item.absoluteURL.split("?")[0]).ext,a=e.onMediaClick||void 0;switch(r.toLowerCase()){case".jpg":case".jpeg":case".gif":case".png":case".png8":case".png24":case".svg":case".bmp":case".tiff":return i.default.createElement("img",{src:t,alt:n,onClick:a});case".mp4":case".mov":return i.default.createElement("video",{key:t,width:"320",height:"240",controls:"list"!==e.view.mode},i.default.createElement("source",{src:t,type:"video/mp4"}),i.default.createElement(l.FormattedMessage,{id:"support.noVideo",defaultMessage:"Your browser does not support HTML5 Video."}));case".ogv":return i.default.createElement("video",{key:t,width:"320",height:"240",controls:"list"!==e.view.mode},i.default.createElement("source",{src:t,type:"video/ogg"}),i.default.createElement(l.FormattedMessage,{id:"support.noVideo",defaultMessage:"Your browser does not support HTML5 Video."}));case".webm":case".wbm":return i.default.createElement("video",{key:t,width:"320",height:"240",controls:"list"!==e.view.mode},i.default.createElement("source",{src:t,type:"video/webm"}),i.default.createElement(l.FormattedMessage,{id:"support.noVideo",defaultMessage:"Your browser does not support HTML5 Video."}));case".pdf":return i.default.createElement("embed",{key:t,src:t,width:"320",height:"240"});case".ogg":return i.default.createElement("audio",{key:t,controls:!0},i.default.createElement("source",{src:t,type:"audio/ogg"}),i.default.createElement(l.FormattedMessage,{id:"support.noAudio",defaultMessage:"Your browser does not support HTML5 Audio."}));case".mp3":return i.default.createElement("audio",{key:t,controls:!0},i.default.createElement("source",{src:t,type:"audio/mpeg"}),i.default.createElement(l.FormattedMessage,{id:"support.noAudio",defaultMessage:"Your browser does not support HTML5 Audio."}));case".wav":return i.default.createElement("audio",{key:t,controls:!0},i.default.createElement("source",{src:t,type:"audio/wav"}),i.default.createElement(l.FormattedMessage,{id:"support.noAudio",defaultMessage:"Your browser does not support HTML5 Audio."}));case".flac":return i.default.createElement("audio",{key:t,controls:!0},i.default.createElement("source",{src:t,type:"audio/flac"}),i.default.createElement(l.FormattedMessage,{id:"support.noAudio",defaultMessage:"Your browser does not support HTML5 Audio."}));default:var d=s.default.getIconByExtension(u(e.item.filename).ext);return i.default.createElement("p",{onClick:a},i.default.createElement(c.default,o({},e,{icon:d})),"",e.item.absoluteURL)}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var i=r(n(1)),l=n(23),s=(r(n(56)),r(n(17))),c=r(n(55)),u=n(69);e.exports=a},function(e,t,n){(function(t){var r=n(16),a=n(73),o=!1;e.exports=function(e){var i=(e=e||{}).shouldRejectClick||a;"production"!==t.env.NODE_ENV&&r(!o,"injectTapEventPlugin(): Can only be called once per application lifecycle.\n\n\tIt is recommended to call injectTapEventPlugin() just before you call \tReactDOM.render(). If you are using an external library which calls injectTapEventPlugin() \titself, please contact the maintainer as it shouldn't be called in library code and \tshould be injected by the application."),o=!0,n(74).injection.injectEventPluginsByName({TapEventPlugin:n(81)(i)})}}).call(t,n(4))},function(e,t){e.exports=function(e,t){if(e&&t-e<750)return!0}},function(e,t,n){(function(t){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function a(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var o=n(75),i=n(76),l=n(77),s=n(78),c=n(79),u=n(80),d=n(16),f={},p=null,m=function(e,t){e&&(l.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return m(e,!0)},v=function(e){return m(e,!1)},g=function(e){return"."+e._rootNodeID},y={injection:{injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},putListener:function(e,n,r){"function"!=typeof r&&("production"!==t.env.NODE_ENV?d(!1,"Expected %s listener to be a function, instead got type %s",n,typeof r):o("94",n,typeof r));var a=g(e);(f[n]||(f[n]={}))[a]=r;var l=i.registrationNameModules[n];l&&l.didPutListener&&l.didPutListener(e,n,r)},getListener:function(e,t){var n=f[t];if(a(t,e._currentElement.type,e._currentElement.props))return null;var r=g(e);return n&&n[r]},deleteListener:function(e,t){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=f[t];r&&delete r[g(e)]},deleteAllListeners:function(e){var t=g(e);for(var n in f)if(f.hasOwnProperty(n)&&f[n][t]){var r=i.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete f[n][t]}},extractEvents:function(e,t,n,r){for(var a,o=i.plugins,l=0;l<o.length;l++){var s=o[l];if(s){var u=s.extractEvents(e,t,n,r);u&&(a=c(a,u))}}return a},enqueueEvents:function(e){e&&(p=c(p,e))},processEventQueue:function(e){var n=p;p=null,e?u(n,h):u(n,v),p&&("production"!==t.env.NODE_ENV?d(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):o("95")),s.rethrowCaughtError()},__purge:function(){f={}},__getListenerBank:function(){return f}};e.exports=y}).call(t,n(4))},function(e,t){"use strict";function n(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var a=new Error(n);throw a.name="Invariant Violation",a.framesToPop=1,a}e.exports=n},function(e,t,n){(function(t){"use strict";function r(){if(s)for(var e in c){var n=c[e],r=s.indexOf(e);if(r>-1||("production"!==t.env.NODE_ENV?l(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e):i("96",e)),!u.plugins[r]){n.extractEvents||("production"!==t.env.NODE_ENV?l(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e):i("97",e)),u.plugins[r]=n;var o=n.eventTypes;for(var d in o)a(o[d],n,d)||("production"!==t.env.NODE_ENV?l(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",d,e):i("98",d,e))}}}function a(e,n,r){u.eventNameDispatchConfigs.hasOwnProperty(r)&&("production"!==t.env.NODE_ENV?l(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",r):i("99",r)),u.eventNameDispatchConfigs[r]=e;var a=e.phasedRegistrationNames;if(a){for(var s in a)a.hasOwnProperty(s)&&o(a[s],n,r);return!0}return!!e.registrationName&&(o(e.registrationName,n,r),!0)}function o(e,n,r){if(u.registrationNameModules[e]&&("production"!==t.env.NODE_ENV?l(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):i("100",e)),u.registrationNameModules[e]=n,u.registrationNameDependencies[e]=n.eventTypes[r].dependencies,"production"!==t.env.NODE_ENV){var a=e.toLowerCase();u.possibleRegistrationNames[a]=e,"onDoubleClick"===e&&(u.possibleRegistrationNames.ondblclick=e)}}var i=n(75),l=n(16),s=null,c={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:"production"!==t.env.NODE_ENV?{}:null,injectEventPluginOrder:function(e){s&&("production"!==t.env.NODE_ENV?l(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):i("101")),s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var n=!1;for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];c.hasOwnProperty(a)&&c[a]===o||(c[a]&&("production"!==t.env.NODE_ENV?l(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",a):i("102",a)),c[a]=o,n=!0)}n&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var a=u.registrationNameModules[n[r]];if(a)return a}}return null},_resetEventPlugins:function(){s=null;for(var e in c)c.hasOwnProperty(e)&&delete c[e];u.plugins.length=0;var n=u.eventNameDispatchConfigs;for(var r in n)n.hasOwnProperty(r)&&delete n[r];var a=u.registrationNameModules;for(var o in a)a.hasOwnProperty(o)&&delete a[o];if("production"!==t.env.NODE_ENV){var i=u.possibleRegistrationNames;for(var l in i)i.hasOwnProperty(l)&&delete i[l]}}};e.exports=u}).call(t,n(4))},function(e,t,n){(function(t){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function a(e){return"topMouseMove"===e||"topTouchMove"===e}function o(e){return"topMouseDown"===e||"topTouchStart"===e}function i(e,t,n,r){var a=e.type||"unknown-event";e.currentTarget=_.getNodeFromInstance(r),t?v.invokeGuardedCallbackWithCatch(a,n,e):v.invokeGuardedCallback(a,n,e),e.currentTarget=null}function l(e,n){var r=e._dispatchListeners,a=e._dispatchInstances;if("production"!==t.env.NODE_ENV&&m(e),Array.isArray(r))for(var o=0;o<r.length&&!e.isPropagationStopped();o++)i(e,n,r[o],a[o]);else r&&i(e,n,r,a);e._dispatchListeners=null,e._dispatchInstances=null}function s(e){var n=e._dispatchListeners,r=e._dispatchInstances;if("production"!==t.env.NODE_ENV&&m(e),Array.isArray(n)){for(var a=0;a<n.length&&!e.isPropagationStopped();a++)if(n[a](e,r[a]))return r[a]}else if(n&&n(e,r))return r;return null}function c(e){var t=s(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function u(e){"production"!==t.env.NODE_ENV&&m(e);var n=e._dispatchListeners,r=e._dispatchInstances;Array.isArray(n)&&("production"!==t.env.NODE_ENV?g(!1,"executeDirectDispatch(...): Invalid `event`."):h("103")),e.currentTarget=n?_.getNodeFromInstance(r):null;var a=n?n(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,a}function d(e){return!!e._dispatchListeners}var f,p,m,h=n(75),v=n(78),g=n(16),y=n(45),b={injectComponentTree:function(e){f=e,"production"!==t.env.NODE_ENV&&"production"!==t.env.NODE_ENV&&y(e&&e.getNodeFromInstance&&e.getInstanceFromNode,"EventPluginUtils.injection.injectComponentTree(...): Injected module is missing getNodeFromInstance or getInstanceFromNode.")},injectTreeTraversal:function(e){p=e,"production"!==t.env.NODE_ENV&&"production"!==t.env.NODE_ENV&&y(e&&e.isAncestor&&e.getLowestCommonAncestor,"EventPluginUtils.injection.injectTreeTraversal(...): Injected module is missing isAncestor or getLowestCommonAncestor.")}};"production"!==t.env.NODE_ENV&&(m=function(e){var n=e._dispatchListeners,r=e._dispatchInstances,a=Array.isArray(n),o=a?n.length:n?1:0,i=Array.isArray(r),l=i?r.length:r?1:0;"production"!==t.env.NODE_ENV&&y(i===a&&l===o,"EventPluginUtils: Invalid `event`.")});var _={isEndish:r,isMoveish:a,isStartish:o,executeDirectDispatch:u,executeDispatchesInOrder:l,executeDispatchesInOrderStopAtTrue:c,hasDispatches:d,getInstanceFromNode:function(e){return f.getInstanceFromNode(e)},getNodeFromInstance:function(e){return f.getNodeFromInstance(e)},isAncestor:function(e,t){return p.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return p.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return p.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return p.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,a){return p.traverseEnterLeave(e,t,n,r,a)},injection:b};e.exports=_}).call(t,n(4))},function(e,t,n){(function(t){"use strict";function n(e,t,n){try{t(n)}catch(e){null===r&&(r=e)}}var r=null,a={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};if("production"!==t.env.NODE_ENV&&"undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var o=document.createElement("react");a.invokeGuardedCallback=function(e,t,n){var r=t.bind(null,n),a="react-"+e;o.addEventListener(a,r,!1);var i=document.createEvent("Event");i.initEvent(a,!1,!1),o.dispatchEvent(i),o.removeEventListener(a,r,!1)}}e.exports=a}).call(t,n(4))},function(e,t,n){(function(t){"use strict";function r(e,n){return null==n&&("production"!==t.env.NODE_ENV?o(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):a("30")),null==e?n:Array.isArray(e)?Array.isArray(n)?(e.push.apply(e,n),e):(e.push(n),e):Array.isArray(n)?[e].concat(n):[e,n]}var a=n(75),o=n(16);e.exports=r}).call(t,n(4))},function(e,t){"use strict";function n(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=n},function(e,t,n){"use strict";function r(e,t){var n=u.extractSingleTouch(t);return n?n[e.page]:e.page in t?t[e.page]:t[e.client]+d[e.envScroll]}function a(e,t){var n=r(_.x,t),a=r(_.y,t);return Math.pow(Math.pow(n-e.x,2)+Math.pow(a-e.y,2),.5)}function o(e){return{tapMoveThreshold:v,ignoreMouseThreshold:g,eventTypes:M,extractEvents:function(t,n,o,i){if(!p(t)&&!m(t))return null;if(h(t))b=C();else if(e(b,C()))return null;var l=null,u=a(y,o);return m(t)&&u<v&&(l=c.getPooled(M.touchTap,n,o,i)),p(t)?(y.x=r(_.x,o),y.y=r(_.y,o)):m(t)&&(y.x=0,y.y=0),s.accumulateTwoPhaseDispatches(l),l}}}var i=n(82),l=n(77),s=n(83),c=n(84),u=n(88),d=n(89),f=n(90),p=(i.topLevelTypes,l.isStartish),m=l.isEndish,h=function(e){return["topTouchCancel","topTouchEnd","topTouchStart","topTouchMove"].indexOf(e)>=0},v=10,g=750,y={x:null,y:null},b=null,_={x:{page:"pageX",client:"clientX",envScroll:"currentPageScrollLeft"},y:{page:"pageY",client:"clientY",envScroll:"currentPageScrollTop"}},w=["topTouchStart","topTouchCancel","topTouchEnd","topTouchMove"],E=["topMouseDown","topMouseMove","topMouseUp"].concat(w),M={touchTap:{phasedRegistrationNames:{bubbled:f({onTouchTap:null}),captured:f({onTouchTapCapture:null})},dependencies:E}},C=function(){return Date.now?Date.now:function(){return+new Date}}();e.exports=o},function(e,t){"use strict";var n={topLevelTypes:{topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}};e.exports=n},function(e,t,n){(function(t){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return y(e,r)}function a(e,n,a){"production"!==t.env.NODE_ENV&&"production"!==t.env.NODE_ENV&&g(e,"Dispatching inst must not be null");var o=r(e,a,n);o&&(a._dispatchListeners=h(a._dispatchListeners,o),a._dispatchInstances=h(a._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(e._targetInst,a,e)}function i(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?m.getParentInstance(t):null;m.traverseTwoPhase(n,a,e)}}function l(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,a=y(e,r);a&&(n._dispatchListeners=h(n._dispatchListeners,a),n._dispatchInstances=h(n._dispatchInstances,e))}}function s(e){e&&e.dispatchConfig.registrationName&&l(e._targetInst,null,e)}function c(e){v(e,o)}function u(e){v(e,i)}function d(e,t,n,r){m.traverseEnterLeave(n,r,l,e,t)}function f(e){v(e,s)}var p=n(74),m=n(77),h=n(79),v=n(80),g=n(45),y=p.getListener,b={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:u,accumulateDirectDispatches:f,accumulateEnterLeaveDispatches:d};e.exports=b}).call(t,n(4))},function(e,t,n){"use strict";function r(e,t,n,r){return a.call(this,e,t,n,r)}var a=n(85),o=n(87),i={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};a.augmentClass(r,i),e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,n,r,a){"production"!==t.env.NODE_ENV&&(delete this.nativeEvent,delete this.preventDefault,delete this.stopPropagation),this.dispatchConfig=e,this._targetInst=n,this.nativeEvent=r;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){"production"!==t.env.NODE_ENV&&delete this[i];var s=o[i];s?this[i]=s(r):"target"===i?this.target=a:this[i]=r[i]}var c=null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue;return this.isDefaultPrevented=c?l.thatReturnsTrue:l.thatReturnsFalse,this.isPropagationStopped=l.thatReturnsFalse,this}function a(e,n){function r(e){return o(i?"setting the method":"setting the property","This is effectively a no-op"),e}function a(){return o(i?"accessing the method":"accessing the property",i?"This is a no-op function":"This is set to null"),n}function o(n,r){"production"!==t.env.NODE_ENV&&s(!1,"This synthetic event is reused for performance reasons. If you're seeing this, you're %s `%s` on a released/nullified synthetic event. %s. If you must keep the original synthetic event around, use event.persist(). See https://fb.me/react-event-pooling for more information.",n,e,r)}var i="function"==typeof n;return{configurable:!0,set:r,get:a}}var o=n(15),i=n(86),l=n(44),s=n(45),c=!1,u="function"==typeof Proxy,d=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"],f={type:null,target:null,currentTarget:l.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=l.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=l.thatReturnsTrue)},persist:function(){this.isPersistent=l.thatReturnsTrue},isPersistent:l.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var n in e)"production"!==t.env.NODE_ENV?Object.defineProperty(this,n,a(n,e[n])):this[n]=null;for(var r=0;r<d.length;r++)this[d[r]]=null;"production"!==t.env.NODE_ENV&&(Object.defineProperty(this,"nativeEvent",a("nativeEvent",null)),Object.defineProperty(this,"preventDefault",a("preventDefault",l)),Object.defineProperty(this,"stopPropagation",a("stopPropagation",l)))}}),r.Interface=f,"production"!==t.env.NODE_ENV&&u&&(r=new Proxy(r,{construct:function(e,t){return this.apply(e,Object.create(e.prototype),t)},apply:function(e,n,r){return new Proxy(e.apply(n,r),{set:function(e,n,r){return"isPersistent"===n||e.constructor.Interface.hasOwnProperty(n)||-1!==d.indexOf(n)||("production"!==t.env.NODE_ENV&&s(c||e.isPersistent(),"This synthetic event is reused for performance reasons. If you're seeing this, you're adding a new property in the synthetic event object. The property is never released. See https://fb.me/react-event-pooling for more information."),c=!0),e[n]=r,!0}})}})),r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),e.exports=r}).call(t,n(4))},function(e,t,n){(function(t){"use strict";var r=n(75),a=n(16),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e){var n=this;e instanceof n||("production"!==t.env.NODE_ENV?a(!1,"Trying to release an instance into a pool of a different type."):r("25")),e.destructor(),n.instancePool.length<n.poolSize&&n.instancePool.push(e)},l=o,s={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||l,n.poolSize||(n.poolSize=10),n.release=i,n},oneArgumentPooler:o,twoArgumentPooler:function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},threeArgumentPooler:function(e,t,n){var r=this;if(r.instancePool.length){var a=r.instancePool.pop();return r.call(a,e,t,n),a}return new r(e,t,n)},fourArgumentPooler:function(e,t,n,r){var a=this;if(a.instancePool.length){var o=a.instancePool.pop();return a.call(o,e,t,n,r),o}return new a(e,t,n,r)}};e.exports=s}).call(t,n(4))},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t){var n={extractSingleTouch:function(e){var t=e.touches,n=e.changedTouches,r=t&&t.length>0,a=n&&n.length>0;return!r&&a?n[0]:r?t[0]:e}};e.exports=n},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){!function(t,r){e.exports=r(n(1))}(0,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(1)),d=r(n(2)),f=r(n(3)),p="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"),m=function(e){function t(e,n){o(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onClick=r.onClick.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDrop=r.onDrop.bind(r),r.onFileDialogCancel=r.onFileDialogCancel.bind(r),r.fileAccepted=r.fileAccepted.bind(r),r.isFileDialogActive=!1,r.state={isDragActive:!1},r}return l(t,e),c(t,null,[{key:"renderChildren",value:function(e,t,n){return"function"==typeof e?e({isDragActive:t,isDragReject:n}):e}}]),c(t,[{key:"componentDidMount",value:function(){this.enterCounter=0,document.body.onfocus=this.onFileDialogCancel}},{key:"componentWillUnmount",value:function(){document.body.onfocus=null}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){e.preventDefault(),++this.enterCounter;var t=this.allFilesAccepted((0,f.default)(e,this.props.multiple));this.setState({isDragActive:t,isDragReject:!t}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect="copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){e.preventDefault(),--this.enterCounter>0||(this.setState({isDragActive:!1,isDragReject:!1}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,r=n.onDrop,a=n.onDropAccepted,o=n.onDropRejected,i=n.multiple,l=n.disablePreview,s=(0,f.default)(e,i),c=[],u=[];e.preventDefault(),this.enterCounter=0,this.isFileDialogActive=!1,s.forEach(function(e){l||(e.preview=window.URL.createObjectURL(e)),t.fileAccepted(e)&&t.fileMatchSize(e)?c.push(e):u.push(e)}),r&&r.call(this,c,u,e),u.length>0&&o&&o.call(this,u,e),c.length>0&&a&&a.call(this,c,e),this.setState({isDragActive:!1,isDragReject:!1})}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick;t.disableClick||(e.stopPropagation(),this.open(),n&&n.call(this,e))}},{key:"onFileDialogCancel",value:function(){var e=this.props.onFileDialogCancel,t=this.fileInputEl,n=this.isFileDialogActive;e&&n&&setTimeout(function(){t.files.length||(n=!1,e())},300)}},{key:"fileAccepted",value:function(e){return(0,d.default)(e,this.props.accept)}},{key:"fileMatchSize",value:function(e){return e.size<=this.props.maxSize&&e.size>=this.props.minSize}},{key:"allFilesAccepted",value:function(e){return e.every(this.fileAccepted)}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this,n=this.props,r=n.accept,o=n.activeClassName,i=n.inputProps,l=n.multiple,c=n.name,d=n.rejectClassName,f=n.children,m=a(n,["accept","activeClassName","inputProps","multiple","name","rejectClassName","children"]),h=m.activeStyle,v=m.className,g=m.rejectStyle,y=m.style,b=a(m,["activeStyle","className","rejectStyle","style"]),_=this.state,w=_.isDragActive,E=_.isDragReject;v=v||"",w&&o&&(v+=" "+o),E&&d&&(v+=" "+d),v||y||h||g||(y={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},h={borderStyle:"solid",backgroundColor:"#eee"},g={borderStyle:"solid",backgroundColor:"#ffdddd"});var M=void 0;M=h&&w?s({},y,h):g&&E?s({},y,g):s({},y);var C={accept:r,type:"file",style:{display:"none"},multiple:p&&l,ref:function(t){return e.fileInputEl=t},onChange:this.onDrop};c&&c.length&&(C.name=c);var O=["acceptedFiles","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize"],S=s({},b);return O.forEach(function(e){return delete S[e]}),u.default.createElement("div",s({className:v,style:M},S,{onClick:this.onClick,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop}),t.renderChildren(f,w,E),u.default.createElement("input",s({},i,C)))}}]),t}(u.default.Component);m.defaultProps={disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0},m.propTypes={onClick:u.default.PropTypes.func,onDrop:u.default.PropTypes.func,onDropAccepted:u.default.PropTypes.func,onDropRejected:u.default.PropTypes.func,onDragStart:u.default.PropTypes.func,onDragEnter:u.default.PropTypes.func,onDragOver:u.default.PropTypes.func,onDragLeave:u.default.PropTypes.func,children:u.default.PropTypes.oneOfType([u.default.PropTypes.node,u.default.PropTypes.func]),style:u.default.PropTypes.object,activeStyle:u.default.PropTypes.object,rejectStyle:u.default.PropTypes.object,className:u.default.PropTypes.string,activeClassName:u.default.PropTypes.string,rejectClassName:u.default.PropTypes.string,disablePreview:u.default.PropTypes.bool,disableClick:u.default.PropTypes.bool,onFileDialogCancel:u.default.PropTypes.func,inputProps:u.default.PropTypes.object,multiple:u.default.PropTypes.bool,accept:u.default.PropTypes.string,name:u.default.PropTypes.string,maxSize:u.default.PropTypes.number,minSize:u.default.PropTypes.number},t.default=m,e.exports=t.default},function(t,n){t.exports=e},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.__esModule=!0,n(8),n(9),t.default=function(e,t){if(e&&t){var n=function(){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=e.type||"",o=a.replace(/\/.*$/,"");return{v:n.some(function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?o===t.replace(/\/.*$/,""):a===t})}}();if("object"==typeof n)return n.v}return!0},e.exports=t.default},function(e,t){var n=e.exports={version:"1.2.2"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(2),a=n(1),o=n(4),i=n(19),l="prototype",s=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t,n){var u,d,f,p,m=e&c.G,h=e&c.P,v=m?r:e&c.S?r[t]||(r[t]={}):(r[t]||{})[l],g=m?a:a[t]||(a[t]={});m&&(n=t);for(u in n)d=!(e&c.F)&&v&&u in v,f=(d?v:n)[u],p=e&c.B&&d?s(f,r):h&&"function"==typeof f?s(Function.call,f):f,v&&!d&&i(v,u,f),g[u]!=f&&o(g,u,p),h&&((g[l]||(g[l]={}))[u]=f)};r.core=a,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,e.exports=c},function(e,t,n){var r=n(5),a=n(18);e.exports=n(22)?function(e,t,n){return r.setDesc(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(20)("wks"),a=n(2).Symbol;e.exports=function(e){return r[e]||(r[e]=a&&a[e]||(a||n(6))("Symbol."+e))}},function(e,t,n){n(26),e.exports=n(1).Array.some},function(e,t,n){n(25),e.exports=n(1).String.endsWith},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(10);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n(7)("match")]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(16),a=n(11),o=n(7)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==a(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(2),a=n(4),o=n(6)("src"),i="toString",l=Function[i],s=(""+l).split(i);n(1).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,i){"function"==typeof n&&(a(n,o,e[t]?""+e[t]:s.join(String(t))),"name"in n||(n.name=t)),e===r?e[t]=n:(i||delete e[t],a(e,t,n))})(Function.prototype,i,function(){return"function"==typeof this&&this[o]||l.call(this)})},function(e,t,n){var r=n(2),a="__core-js_shared__",o=r[a]||(r[a]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(17),a=n(13);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(e))}},function(e,t,n){e.exports=!n(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(23),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(3),a=n(24),o=n(21),i="endsWith",l=""[i];r(r.P+r.F*n(14)(i),"String",{endsWith:function(e){var t=o(this,e,i),n=arguments,r=n.length>1?n[1]:void 0,s=a(t.length),c=void 0===r?s:Math.min(a(r),s),u=String(e);return l?l.call(t,u,c):t.slice(c-u.length,c)===u}})},function(e,t,n){var r=n(5),a=n(3),o=n(1).Array||Array,i={},l=function(e,t){r.each.call(e.split(","),function(e){void 0==t&&e in o?i[e]=o[e]:e in[]&&(i[e]=n(12)(Function.call,[][e],t))})};l("pop,reverse,shift,keys,values,entries",1),l("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),l("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),a(a.S,"Array",i)}])},function(e,t){"use strict";function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];if(e.dataTransfer){var r=e.dataTransfer;r.files&&r.files.length?n=r.files:r.items&&r.items.length&&(n=r.items)}else e.target&&e.target.files&&(n=e.target.files);return n.length>0&&(n=t?n:[n[0]]),Array.prototype.slice.call(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),d=r(n(9)),f=r(n(19)),p=r(n(55)),m=(r(n(3)),r(n(56))),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editable:!1},n.decoratedActions=e.decoratedActions?Object.assign({},f.default,e.decoratedActions):f.default,n}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.state,n=this.props,r=n.item,a=this.decoratedActions;return u.default.createElement("span",{ref:function(t){return e.span=t},contentEditable:t.editable,onClick:function(e){e.preventDefault(),d.default.dispatch(a.updateContent({cd:r.cd})),d.default.dispatch(a.fetchDirectoryContents(n.source.currentSource,{path:r.cd},n.config.headers))},onDoubleClick:function(n){e.setState({editable:!t.editable}),t.editable?e.span.blur():e.span.focus()},onKeyDown:function(e){console.log("onKeyDown",e,e.keyCode,13===e.keyCode),13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),e.target.blur())}},r.name)}}]),t}(c.PureComponent),v=function(e){function t(r){function c(t){try{return"./"===t.cd||0===e.content.cd.indexOf(t.cd)||void 0}catch(e){return}}return r.map(function(r,f){return r.children,u.default.createElement("details",{onToggle:function(e){console.log("TOGGLE!!!",r),console.log(e.target.hasAttribute("open"))},key:e.source.currentSource+"__"+r.cd,open:c(r)},u.default.createElement("summary",{role:"treeitem",contextMenu:"context_menu__"+r.cd.replace(/^[^a-z]+|[^\w:.-]+/gi,""),className:e.content.cd===r.cd?"active":void 0},u.default.createElement(p.default,l({},e,{icon:"folder"})),u.default.createElement(p.default,l({},e,{icon:"folder-open"})),u.default.createElement(h,l({},e,{item:r,index:f,key:e.source.currentSource+"__"+r.cd+"__span"})),u.default.createElement("menu",{hidden:"true",type:"context",id:"context_menu__"+r.cd.replace(/^[^a-z]+|[^\w:.-]+/gi,"")},u.default.createElement("menuitem",{label:"Create Directory Here",onClick:function(t){e.onCreateDirectory()}}),u.default.createElement("menuitem",{label:a,onClick:function(t){console.log("rename",r),e.onRenameItem(r)}}),r.cd===e.content.cd?u.default.createElement("menuitem",{label:o,onClick:function(t){d.default.dispatch(n.fetchDirectoryContents(e.source.currentSource,{path:r.cd},e.config.headers))}}):void 0,u.default.createElement("hr",null),u.default.createElement("menuitem",{label:i,onClick:function(t){var n=e.config.handlers.createFile(e.source.currentSource,r.cd),a=n.href,o=n.target,i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("target",o),i.classList.add("visually-hidden"),t.target.closest(".eureka").appendChild(i),i.click(),i.remove()}}),u.default.createElement("menuitem",{label:s,onClick:function(t){d.default.dispatch(n.deleteMediaItem(e.source.currentSource,r.cd,e.config.headers))}}))),u.default.createElement("div",null,r.children?t(r.children):void 0))})}var n=e.decoratedActions?Object.assign({},f.default,e.decoratedActions):f.default,r=e.intl.formatMessage,a=r(m.default.rename),o=r(m.default.refreshDirectory),i=r(m.default.createFile),s=r(m.default.deleteDirectory),c=t([{cd:"./",name:"./",children:e.tree}]);return u.default.createElement("nav",{className:"eureka__tree",role:"tree"},c)};t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),d=r(n(9)),f=r(n(19)),p=r(n(17)),m=r(n(55)),h=n(23),v=(r(n(56)),n(61)),g=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.decoratedActions=e.decoratedActions?Object.assign({},f.default,e.decoratedActions):f.default,n}return i(t,e),s(t,[{key:"handleSubmit",value:function(e){console.log("handleSubmit"),e.preventDefault();var t=this.props,n=this.decoratedActions,r=new FormData(e.target);d.default.dispatch(f.default.updateView({isUploading:!0})),d.default.dispatch(n.uploadFiles(t.source.currentSource,t.content.cd,r,t.config.headers)).then(function(e){console.log(e,e.error),e.error&&(console.log(e.error),d.default.dispatch(n.notify(e.error,p.default.DANGEROUS,void 0,3e3)))})}},{key:"handleLabelKeyPress",value:function(e){switch(e.nativeEvent.code.toLowerCase()){case"space":case"enter":case"return":e.target.parentNode.querySelector('input[type="file"]').click()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.view.isUploading?u.default.createElement(h.FormattedMessage,{id:"upload.dragFilesUploading",defaultMessage:"Uploading files"}):u.default.createElement(h.FormattedMessage,{id:"upload.files",defaultMessage:"Upload files"}),r=t.view.isUploading?u.default.createElement("span",{className:"spinner"},u.default.createElement(m.default,l({},t,{icon:"circle-o-notch"}))):void 0,a=p.default.serverSideRendering?u.default.createElement("button",{type:"submit",formmethod:"post"},n):void 0,o=p.default.serverSideRendering?u.default.createElement("div",null,u.default.createElement("label",{tabIndex:"0",role:"menuitem",htmlFor:"eureka__upload-form"},n,u.default.createElement("span",{className:v({"visually-hidden":!p.default.serverSideRendering})}," to ",t.content.cd),":"),u.default.createElement("input",{id:"eureka__upload-form",multiple:"multiple",name:"eureka__uploadFiles",type:"file"}),a):u.default.createElement("form",{onSubmit:this.handleSubmit.bind(this),encType:"multipart/form-data",ref:function(t){e.form=t}},u.default.createElement("input",{hidden:t.view.isUploading,disabled:t.view.isUploading,id:"eureka__upload-form",multiple:"multiple",name:"eureka__uploadFiles",type:"file",onChange:function(t){e.form.dispatchEvent(new Event("submit"))}}),u.default.createElement("label",{onKeyPress:t.view.isUploading?void 0:this.handleLabelKeyPress,tabIndex:"0",role:"menuitem",htmlFor:t.view.isUploading?void 0:"eureka__upload-form"},r,n,u.default.createElement("span",{className:"visually-hidden"}," ",u.default.createElement(h.FormattedMessage,{id:"grammar.to",defaultMessage:"to"})," ",t.content.cd)));return u.default.createElement("div",{className:"eureka__upload-form"},o)}}]),t}(c.PureComponent);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(1)),i=r(n(55)),l=r(n(68)),s=r(n(3)),c=r(n(17)),u=r(n(71)),d=r(n(56)),f=n(69),p=function(e){var t=e.intl.formatMessage,n=e.view.focusedMediaItem?o.default.createElement(l.default,a({},e,{idPrefix:"pathbar",item:e.view.focusedMediaItem})):void 0,r=t(d.default.copyListofSelectedFiles),p=c.default.getIconByExtension(f(e.view.focusedMediaItem.filename).ext),m=e.view.chooseMultiple&&e.content.chosenMediaItems.length>1?e.view.focusedMediaItem.directory:s.default.join(e.view.focusedMediaItem.directory,e.view.focusedMediaItem.filename),h=e.content.chosenMediaItemsInverted.map(function(e){return e.filename}),v=e.view.selectionInverted?e.content.contents.length-e.content.chosenMediaItems.length:e.content.chosenMediaItems.length,g=v>1&&e.view.chooseMultiple?o.default.createElement("textarea",{"aria-live":"polite","aria-readonly":"true","aria-label":r,rows:"10",cols:"50",onClick:function(e){e.target.focus(),e.target.select()},style:{margin:"0"},readOnly:"readonly",value:h.join(", ")}):void 0,y=v<2?o.default.createElement("a",{id:e.config.storagePrefix+"selected_file_names",role:"presentation",href:e.view.focusedMediaItem.absoluteURL,target:"_"+encodeURI(e.view.focusedMediaItem.absoluteURL)},o.default.createElement(i.default,a({},e,{icon:p})),"",m,g):o.default.createElement("div",{id:e.config.storagePrefix+"selected_file_names"},o.default.createElement(i.default,a({},e,{icon:p})),"",m,g),b=v>12?o.default.createElement("details",{open:!0},o.default.createElement("summary",null,"Selected Paths"),g):g,_=o.default.createElement(u.default,a({key:e.view.focusedMediaItem.absoluteURL,item:e.view.focusedMediaItem},e));return o.default.createElement("div",{className:"eureka__pathbar"},o.default.createElement("div",{className:"eureka__hide-for-mobile-up","aria-hidden":"true"},o.default.createElement("details",null,o.default.createElement("summary",null,o.default.createElement(i.default,a({},e,{icon:p})),"",e.view.chooseMultiple?""+e.view.focusedMediaItem.directory:""+e.view.focusedMediaItem.directory+e.view.focusedMediaItem.filename),b,o.default.createElement("div",null,o.default.createElement("div",null,_),n))),o.default.createElement("div",{role:"status",className:"eureka__show-for-mobile-up"},y))};t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),d=r(n(91)),f=r(n(9)),p=r(n(19)),m=r(n(55)),h=(n(23),r(n(56))),v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.decoratedActions=e.decoratedActions?Object.assign({},p.default,e.decoratedActions):p.default,n}return i(t,e),s(t,[{key:"onDrop",value:function(e){var t=this.props,n=this.decoratedActions,r=new FormData;e.forEach(function(e){r.append("eureka__uploadFiles",e,e.name)}),f.default.dispatch(p.default.updateView({isUploading:!0})),f.default.dispatch(n.uploadFiles(t.source.currentSource,t.content.cd,r,t.config.headers))}},{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=t(h.default.pastImageFromClipboardMessage,{}),r=e.view.isUploading?t(h.default.dragFilesUploading,{cd:e.content.cd}):t(h.default.dragFilesToBeUploadedTo,{cd:e.content.cd});return u.default.createElement("div",{tabIndex:"0","aria-label":n,className:(void 0!==e.config.storagePrefix?e.config.storagePrefix:"eureka__")+"drop-area",title:r},u.default.createElement(d.default,{onDrop:this.onDrop.bind(this),className:(void 0!==e.config.storagePrefix?e.config.storagePrefix:"eureka__")+"drop-area-zone",activeClassName:(void 0!==e.config.storagePrefix?e.config.storagePrefix:"eureka__")+"drop-area-zone-active",style:{}},u.default.createElement(m.default,l({},e,{icon:e.view.isUploading?"circle-o-notch":"upload"}))))}}]),t}(c.PureComponent);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=r(n(1)),i=n(23),l=r(n(55)),s=function(e){var t=e.showSpinner?o.default.createElement("span",{className:"spinner"},o.default.createElement(l.default,a({},e,{icon:"circle-o-notch"})),""):void 0;return o.default.createElement("div",{className:"eureka__modal "+e.className,role:"dialog"},o.default.createElement("div",{className:"eureka__modal-panel"},o.default.createElement("h2",null,t,e.title),o.default.cloneElement(o.default.Children.only(e.children),e)),o.default.createElement("div",{role:"button",tabIndex:"0","aria-pressed":"false",className:"eureka__modal-scrim",onClick:e.onCancel},o.default.createElement("span",{className:"visually-hidden test"},o.default.createElement(i.FormattedMessage,{id:"modal.closeWindow",defaultMessage:"Close {title} Modal Window",values:{title:e.title}}))))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),d=r(n(3)),f=r(n(61)),p=r(n(55)),m=n(23),h=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={createDirectory:""},n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.refs.input.focus()}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,r=!t.createDirectory,a=!1,o="Create a new directory in "+d.default.join("/",n.content.cd),i=void 0;return r||(r=function(){for(var e=0;e<n.fetched.lastDirectoriesFetched.length;e++){var s=n.fetched.lastDirectoriesFetched[e];if(s===t.createDirectory)return o="&ensp;Directory "+d.default.join("/",n.content.cd,s)+" already exists",i=u.default.createElement(p.default,l({},n,{icon:"exclamation-triangle"})),a=!0,!0}return r}()),u.default.createElement("form",{onSubmit:function(t){t.preventDefault(),n.onSubmit(e.state.createDirectory)}},u.default.createElement("label",{htmlFor:"eureka__modal-panel__directory","aria-live":"polite",className:(0,f.default)({dangerous:a})},i,o),u.default.createElement("input",{ref:"input",type:"text",id:"eureka__modal-panel__directory",name:"eureka__modal-panel__directory",placeholder:"untitled folder",autoComplete:"off",value:t.createDirectory,onChange:function(t){e.setState({createDirectory:t.target.value})}}),u.default.createElement("div",{className:"flex-bar"},u.default.createElement("button",{className:"growable",type:"reset",onBlur:function(n){t.createDirectory||e.refs.input.focus()},onClick:n.onCancel},u.default.createElement(m.FormattedMessage,{id:"cancel",defaultMessage:"Cancel"})," ",u.default.createElement("span",{className:"visually-hidden"}," ",u.default.createElement(m.FormattedMessage,{id:"directory.cancelCreating",defaultMessage:"creating directory {cd}",value:{cd:t.createDirectory},values:{state:t}}))),u.default.createElement("button",{className:"growable",type:"submit",onBlur:function(t){e.refs.input.focus()},disabled:r},u.default.createElement(m.FormattedMessage,{id:"create",defaultMessage:"Create"})," ",u.default.createElement("span",{className:"visually-hidden"}," ",u.default.createElement(m.FormattedMessage,{id:"directory",defaultMessage:"directory"})," ",t.createDirectory))))}}]),t}(c.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),d=r(u),f=(r(n(3)),r(n(61))),p=r(n(55)),m=n(23),h=r(n(56)),v=r(n(17)),g=r(n(9)),y=r(n(19)),b=n(69),_=function(){try{return n(99)}catch(e){return}}(),w=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return E.call(n),n.state=n.initialState={disabled:!1,crop:{},guides:!0,dragMode:"crop",cropData:void 0,showFormControls:e.view.showAdvControls,mode:void 0,saveAs:void 0,saveAsPlaceholder:void 0,doSaveAs:!1,saveAsDirty:!0,cropAspectRatio:e.view.rememberAspectRatio&&void 0!==e.view.cropAspectRatio?e.view.cropAspectRatio:NaN},n.decoratedActions=e.decoratedActions?Object.assign({},y.default,e.decoratedActions):y.default,n}return l(t,e),c(t,[{key:"componentDidMount",value:function(){console.log("componentDidMount",this.state);var e=b(this.props.item.filename),t=e.name,n=e.ext;this.name=t,this.ext=n,this.saveAsPlaceholder=t+"_"+n,this.setState({saveAs:this.saveAsPlaceholder,saveAsPlaceholder:this.saveAsPlaceholder}),this.img=document.querySelector('tr[id="'+v.default.cssSafe(this.props.item.filename)+'"]').querySelector("img"),this.modal=document.querySelector(".eureka__crop-modal");try{this.cropper.setAspectRatio(parseFloat(this.state.cropAspectRatio))}catch(e){console.log(e)}}},{key:"componentWillUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"setDownloadDataURL",value:function(){var e=this,t=this.cropper.getCroppedCanvas();switch(b(this.props.item.filename).ext){case".jpg":case".jpeg":"image/jpeg"}t.toBlob(function(t){e.setState({dataURL:window.URL.createObjectURL(t),cropData:e.cropper.getData()})})}},{key:"doReset",value:function(){this.setDownloadDataURL(),this.cropper.reset(),this.cropper.setAspectRatio(NaN),this.setState({cropAspectRatio:NaN,doSaveAs:!1,mode:void 0}),g.default.dispatch(y.default.updateView({cropAspectRatio:NaN}))}},{key:"render",value:function(){var e,t=this;console.log("ModalCropitemForm render",this.state.crop);var n=this.state,r=this.props,o=r.intl.formatMessage,i="save_as"!==this.state.mode?d.default.createElement("button",{type:"submit",onClick:function(e){t.setState({mode:"save_as",doSaveAs:!0})},disabled:!1},d.default.createElement(m.FormattedMessage,{id:"cropAs",defaultMessage:"Crop as"})):void 0,l=this.state.doSaveAs?o(h.default.cropAsItem,{item:this.state.doSaveAs?this.state.saveAs:""}):void 0,c=d.default.createElement("button",{title:l,"aria-label":l,type:"submit",onBlur:function(e){},disabled:!1},this.state.doSaveAs?d.default.createElement(m.FormattedMessage,{id:"cropAs",defaultMessage:"Crop as"}):d.default.createElement(m.FormattedMessage,{id:"crop",defaultMessage:"Crop"})),u="save_as"===this.state.mode?d.default.createElement("div",{className:"eureka__crop-as"},d.default.createElement("div",{className:"flex-bar"},d.default.createElement("label",{htmlFor:"eureka__crop-save-as-name"},d.default.createElement(m.FormattedMessage,{id:"saveAs",defaultMessage:"Save As"})),d.default.createElement("input",{onFocus:function(e){e.target.setSelectionRange(0,e.target.value.length)},autoFocus:!0,ref:function(e){return t.saveAsName=e},id:"eureka__crop-save-as-name",name:"eureka__crop-save-as-name",style:{width:"auto"},type:"text",placeholder:this.state.saveAsPlaceholder,value:this.state.saveAs,onChange:function(e){t.setState({saveAs:e.target.value,saveAsDirty:!1})}}),d.default.createElement("div",{className:"eureka__crop-save-as-checkbox"},d.default.createElement("input",{title:o(h.default.saveAsItem,{item:this.state.saveAs}),"aria-label":o(h.default.saveAsItem,{item:this.state.saveAs}),type:"checkbox",id:"eureka__crop-save-as",name:"eureka__crop-save-as",checked:this.state.doSaveAs,onChange:function(e){t.setState({doSaveAs:e.target.checked})}})))):void 0;return d.default.createElement("div",{onChange:function(e){t.setDownloadDataURL()}},d.default.createElement("label",{htmlFor:"eureka__crop_show-adv-controls"},d.default.createElement("input",{id:"eureka__crop_show-adv-controls",name:"eureka__crop_show-adv-controls",type:"checkbox",onChange:function(e){t.setState({showFormControls:e.target.checked}),g.default.dispatch(y.default.updateView({showAdvControls:e.target.checked}))},checked:this.state.showFormControls,value:"yes"}),"",d.default.createElement(m.FormattedMessage,{id:"showAdvControls",defaultMessage:"Show Advanced Controls"})),d.default.createElement("div",null,d.default.createElement(_,{data:this.state.cropData,key:"cropper_"+(this.state.guides?"guides":"")+"_"+this.state.dragMode,ref:function(e){e&&(t.cropper=e)},src:r.view.focusedMediaItem.absoluteURL,style:{height:window.innerHeight-300,width:"100%"},guides:this.state.guides,dragMode:this.state.dragMode,crop:this.crop,cropend:this.cropend,ready:this.ready,zoomOnWheel:r.config.zoomOnWheel})),d.default.createElement("div",{className:"balanced flex-bar",hidden:!this.state.showFormControls},d.default.createElement("form",null,d.default.createElement("fieldset",null,d.default.createElement("legend",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"dragMode",defaultMessage:"Drag Mode"})),d.default.createElement("div",{className:"icon-bar flex-bar"},d.default.createElement("input",{onChange:function(e){t.setState({dragMode:e.target.value,cropData:t.cropper.getData()})},id:"eureka__crop-drag-mode-move",name:"eureka__crop-drag-mode",className:"visually-hidden",type:"radio",value:"move",checked:"move"==this.state.dragMode}),d.default.createElement("label",{htmlFor:"eureka__crop-drag-mode-move",className:"button",title:o(h.default.cropMove)},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.move",defaultMessage:"Move"})),d.default.createElement(p.default,s({},r,{icon:"arrows"}))),d.default.createElement("input",{onChange:function(e){t.setState({dragMode:e.target.value,cropData:t.cropper.getData()})},id:"eureka__crop-drag-mode-crop",name:"eureka__crop-drag-mode",className:"visually-hidden",type:"radio",value:"crop",checked:"crop"==this.state.dragMode}),d.default.createElement("label",{htmlFor:"eureka__crop-drag-mode-crop",className:"button",title:o(h.default.crop)},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop",defaultMessage:"Crop"})),d.default.createElement(p.default,s({},r,{icon:"crop"})))))),d.default.createElement("div",{className:"icon-bar flex-bar"},d.default.createElement("button",{"aria-pressed":this.state.guides,onClick:function(e){t.setState({guides:!t.state.guides,cropData:t.cropper.getData()})},title:o(h.default.cropToggleGuides)},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.showGuides",defaultMessage:"Show Guides"})),d.default.createElement(p.default,s({},r,{icon:"table"})))),d.default.createElement("div",{className:"icon-bar flex-bar"},d.default.createElement("button",{onClick:function(e){t.cropper.zoom(.1)},title:o(h.default.cropZoomIn)},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.zoomIn",defaultMessage:"Zoom In"})),d.default.createElement(p.default,s({},r,{icon:"search-plus"}))),d.default.createElement("button",{onClick:function(e){t.cropper.zoom(-.1)},title:o(h.default.cropZoomOut)},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.zoomOut",defaultMessage:"Zoom Out"})),d.default.createElement(p.default,s({},r,{icon:"search-minus"})))),d.default.createElement("div",{className:"icon-bar flex-bar"},d.default.createElement("button",{onClick:function(e){t.cropper.move(-1,0)},title:o(h.default.cropMoveLeft)},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.moveLeft",defaultMessage:"Move Left"})),d.default.createElement(p.default,s({},r,{icon:"arrow-left"}))),d.default.createElement("button",{onClick:function(e){t.cropper.move(1,0)},title:o(h.default.cropMoveRight)},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.moveRight",defaultMessage:"Move Right"})),d.default.createElement(p.default,s({},r,{icon:"arrow-right"}))),d.default.createElement("button",{onClick:function(e){t.cropper.move(0,1)},title:o(h.default.cropMoveUp)},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.moveUp",defaultMessage:"Move Up"})),d.default.createElement(p.default,s({},r,{icon:"arrow-up"}))),d.default.createElement("button",{onClick:function(e){t.cropper.move(0,-1)},title:o(h.default.cropMoveDown)},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.moveDown",defaultMessage:"Move Down"})),d.default.createElement(p.default,s({},r,{icon:"arrow-down"})))),d.default.createElement("div",{className:"icon-bar flex-bar"},d.default.createElement("a",{href:this.state.dataURL,className:"button",download:r.item.filename,title:o(h.default.cropDownload)},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.download",defaultMessage:"Download Cropped Image"})),d.default.createElement(p.default,s({},r,{icon:"download"}))),d.default.createElement("form",{className:"button",ref:function(e){t.imageUploadForm=e},onSubmit:function(e){e.preventDefault();var n=t.uploadFile.files,r=void 0,a=void 0,o=window.URL||window.webkitURL;n&&n.length&&(r=n[0],a=o.createObjectURL(r),t.cropper.replace(a)),t.setState({uploadedImageURL:a,cropData:t.cropper.getData()})}},d.default.createElement("label",{htmlFor:"eureka__crop-upload-file",title:o(h.default.cropUploadImage)},d.default.createElement(p.default,s({},r,{icon:"upload"})),d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.uploadImage",defaultMessage:"Upload Image"}))),d.default.createElement("input",{required:!0,className:(0,f.default)({"visually-hidden":r.config.autoSubmitForms}),onChange:r.config.autoSubmitForms?function(e){t.submitButton.click()}:void 0,ref:function(e){t.uploadFile=e},type:"file",multiple:"multiple",name:"eureka__crop-upload-file",id:"eureka__crop-upload-file"}),d.default.createElement("button",{hidden:r.config.autoSubmitForms,ref:function(e){t.submitButton=e},type:"submit"},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.uploadImage",defaultMessage:"Upload Image"})))))),d.default.createElement("form",{onReset:function(e){t.doReset()},onSubmit:this.onSubmit},d.default.createElement("div",{hidden:!this.state.showFormControls,className:"wrappable flex-bar"},d.default.createElement("fieldset",{className:"eureka__crop-bounding-box"},d.default.createElement("details",{open:!0},d.default.createElement("summary",null,d.default.createElement("legend",null,d.default.createElement(m.FormattedMessage,{id:"crop.boundingBox",defaultMessage:"Bounding Box (px)"}))),d.default.createElement("div",null,d.default.createElement("label",{htmlFor:"eureka__crop-x"},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.X",defaultMessage:"X"}))," ",d.default.createElement("input",{id:"eureka__crop-x",name:"x",type:"number",size:"5",value:Math.round(this.state.crop.x),onChange:function(e){t.cropper.setData(Object.assign({},t.state.crop,{x:parseInt(e.target.value)}))}})," "),d.default.createElement("label",{htmlFor:"eureka__crop-y"},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.Y",defaultMessage:"Y"}))," ",d.default.createElement("input",{id:"eureka__crop-y",name:"y",type:"number",size:"5",value:Math.round(this.state.crop.y),onChange:function(e){t.cropper.setData(Object.assign({},t.state.crop,{y:parseInt(e.target.value)}))}})," "),d.default.createElement("label",{htmlFor:"eureka__crop-width"},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.width",defaultMessage:"Width"}))," ",d.default.createElement("input",{id:"eureka__crop-width",name:"width",type:"number",size:"5",value:Math.round(this.state.crop.width),onChange:function(e){t.cropper.setData(Object.assign({},t.state.crop,{width:parseInt(e.target.value)}))}})," "),d.default.createElement("label",{htmlFor:"eureka__crop-height"},d.default.createElement("span",{className:"visually-hidden"},d.default.createElement(m.FormattedMessage,{id:"crop.height",defaultMessage:"Height"}))," ",d.default.createElement("input",{id:"eureka__crop-height",name:"height",type:"number",size:"5",value:Math.round(this.state.crop.height),onChange:function(e){t.cropper.setData(Object.assign({},t.state.crop,{height:parseInt(e.target.value)}))}})," ")))),d.default.createElement("fieldset",{className:"eureka__crop-bounding-box"},d.default.createElement("details",{open:!0},d.default.createElement("summary",null,d.default.createElement("legend",{id:"eureka__crop-aspect-ratio-label"},d.default.createElement(m.FormattedMessage,{id:"crop.aspectRatio",defaultMessage:"Aspect Ratio"}))),d.default.createElement("div",null,d.default.createElement("select",{value:this.state.cropAspectRatio,"aria-labelledby":"eureka__crop-aspect-ratio-label",name:"eureka__crop-aspect-ratio",id:"eureka__crop-aspect-ratio",onChange:function(e){t.cropper.setAspectRatio(e.target.value?parseFloat(e.target.value):NaN),t.setState({cropAspectRatio:parseFloat(e.target.value)}),t.props.view.rememberAspectRatio&&t.props.view.cropAspectRatio!=e.target.value&&g.default.dispatch(y.default.updateView({cropAspectRatio:parseFloat(e.target.value)}))}},d.default.createElement("option",{value:""},d.default.createElement(m.FormattedMessage,{id:"crop.free",defaultMessage:"Free"})),d.default.createElement("option",{value:16/9},"16:9"),d.default.createElement("option",{value:4/3},"4:3"),d.default.createElement("option",{value:1},"1:1"),d.default.createElement("option",{value:2/3},"2:3")),d.default.createElement("label",{htmlFor:"eureka__crop-aspect-ratio-remember"},d.default.createElement("input",{type:"checkbox",id:"eureka__crop-aspect-ratio-remember",name:"eureka__crop-aspect-ratio-remember",checked:this.props.view.rememberAspectRatio,onChange:function(e){g.default.dispatch(y.default.updateView({rememberAspectRatio:e.target.checked,cropAspectRatio:e.target.checked?t.state.cropAspectRatio:t.props.view.cropAspectRatio}))}}),"",d.default.createElement(m.FormattedMessage,{id:"rememberAspectRatio",defaultMessage:"Remember Ratio"}))))),d.default.createElement("fieldset",{className:"eureka__crop-bounding-box"},d.default.createElement("details",{open:!0},d.default.createElement("summary",null,d.default.createElement("legend",null,d.default.createElement(m.FormattedMessage,{id:"crop.scaleRotate",defaultMessage:"Scale & Rotate"}))),d.default.createElement("div",null,d.default.createElement("label",{htmlFor:"eureka__crop-rotate"},d.default.createElement(m.FormattedMessage,{id:"crop.rotate",defaultMessage:"Rotate"})),d.default.createElement("input",(e={list:"eureka__crop-rotate-list",id:"eureka__crop-rotate",name:"rotate",type:"range",min:"-180",max:"180",step:"1",value:"0"},a(e,"value",Math.round(this.state.crop.rotate)),a(e,"onChange",function(e){t.cropper.setData(Object.assign({},t.state.crop,{rotate:parseInt(e.target.value)}))}),e)),d.default.createElement("label",{htmlFor:"eureka__crop-scale"},d.default.createElement(m.FormattedMessage,{id:"crop.scale",defaultMessage:"Scale"})," ",d.default.createElement("input",{id:"eureka__crop-scale",name:"scale",type:"number",size:"5",min:"0",step:".125",value:this.state.crop.scaleX,onChange:function(e){t.cropper.setData(Object.assign({},t.state.crop,{scaleX:parseFloat(e.target.value),scaleY:parseFloat(e.target.value)}))}})," "),d.default.createElement("datalist",{id:"eureka__crop-rotate-list"},d.default.createElement("option",{value:"-180"}),d.default.createElement("option",{value:"-90"}),d.default.createElement("option",{value:"0"}),d.default.createElement("option",{value:"90"}),d.default.createElement("option",{value:"180"})))))),d.default.createElement("div",{className:"eureka__button-bar flex-bar"},d.default.createElement("button",{onBlur:function(e){n.createDirectory||t.refs.input.focus()},onClick:r.onCancel},d.default.createElement(m.FormattedMessage,{id:"cancel",defaultMessage:"Cancel"})," ",d.default.createElement("span",{className:"visually-hidden"}," ",d.default.createElement(m.FormattedMessage,{id:"directory.cancelCreating",defaultMessage:"Cancel creating directory {cd}",value:{cd:n.createDirectory},values:{state:n}}))),d.default.createElement("button",{className:"dangerous",hidden:!this.state.showFormControls,type:"reset",onClick:function(e){}},d.default.createElement(m.FormattedMessage,{id:"reset",defaultMessage:"Reset"})," "),i,u,c)))}}]),t}(u.Component),E=function(){var e=this;this.crop=function(t){console.log("crop",t.detail,e.cropper.getData());var n=e.name+"_"+Math.round(t.detail.width)+"x"+Math.round(t.detail.height)+e.ext;e.setState({crop:t.detail,cropData:e.cropper.getData(),saveAsPlaceholder:e.name+"_"+Math.round(t.detail.width)+"x"+Math.round(t.detail.height)+e.ext,saveAs:e.state.saveAsDirty?n:e.state.saveAs})},this.cropend=function(t){console.log("cropend"),e.setDownloadDataURL()},this.ready=function(t){e.setDownloadDataURL(),e.state.uploadedImageURL&&(URL.revokeObjectURL(e.state.uploadedImageURL),e.setState({uploadedImageURL:void 0,cropData:e.cropper.getData()}))},this.onSubmit=function(t){var n=e.props;t.preventDefault(),g.default.dispatch(y.default.updateView({isCropping:!0})),e.setState({disabled:!0}),e.cropper.getCroppedCanvas().toBlob(function(t){var r=new FormData;r.append("eureka__uploadFiles",t,e.state.doSaveAs?e.state.saveAs:e.props.item.filename),g.default.dispatch(e.decoratedActions.uploadFiles(n.source.currentSource,n.content.cd,r,n.config.headers)).then(function(){e.state.doSaveAs||e.img.setAttribute("src",e.cropper.getCroppedCanvas().toDataURL()),g.default.dispatch(y.default.updateContent({cd:n.content.cd})),n.onCancel()}).catch(function(e){return console.log(e)})})}};t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),o=r(n(100));n(100),n(!function(){var e=new Error('Cannot find module "cropperjs/dist/cropper.css"');throw e.code="MODULE_NOT_FOUND",e}());var i=a.default.createClass({displayName:"CropperJS",propTypes:{crossOrigin:a.default.PropTypes.string,src:a.default.PropTypes.string,alt:a.default.PropTypes.string,style:a.default.PropTypes.object,aspectRatio:a.default.PropTypes.number,crop:a.default.PropTypes.func,preview:a.default.PropTypes.string,strict:a.default.PropTypes.bool,responsive:a.default.PropTypes.bool,checkImageOrigin:a.default.PropTypes.bool,background:a.default.PropTypes.bool,modal:a.default.PropTypes.bool,guides:a.default.PropTypes.bool,highlight:a.default.PropTypes.bool,autoCrop:a.default.PropTypes.bool,autoCropArea:a.default.PropTypes.number,dragCrop:a.default.PropTypes.bool,movable:a.default.PropTypes.bool,cropBoxMovable:a.default.PropTypes.bool,cropBoxResizable:a.default.PropTypes.bool,doubleClickToggle:a.default.PropTypes.bool,zoomable:a.default.PropTypes.bool,mouseWheelZoom:a.default.PropTypes.bool,touchDragZoom:a.default.PropTypes.bool,rotatable:a.default.PropTypes.bool,minContainerWidth:a.default.PropTypes.number,minContainerHeight:a.default.PropTypes.number,minCanvasWidth:a.default.PropTypes.number,minCanvasHeight:a.default.PropTypes.number,minCropBoxWidth:a.default.PropTypes.number,minCropBoxHeight:a.default.PropTypes.number,build:a.default.PropTypes.func,built:a.default.PropTypes.func,cropstart:a.default.PropTypes.func,cropmove:a.default.PropTypes.func,cropend:a.default.PropTypes.func,zoom:a.default.PropTypes.func},getDefaultProps:function(){return{src:null}},componentDidMount:function(){var e={};for(var t in this.props)"src"!==t&&"alt"!==t&&"crossOrigin"!==t&&(e[t]=this.props[t]);this.cropper=new o.default(this.refs.img,e)},componentWillReceiveProps:function(e){e.src!==this.props.src&&this.replace(e.src),e.aspectRatio!==this.props.aspectRatio&&this.setAspectRatio(e.aspectRatio)},componentWillUnmount:function(){this.cropper&&this.cropper.destroy()},move:function(e,t){return this.cropper.move(e,t)},zoom:function(e){return this.cropper.zoom(e)},rotate:function(e){return this.cropper.rotate(e)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},replace:function(e){return this.cropper.replace(e)},getData:function(e){return this.cropper.getData(e)},setData:function(e){return this.cropper.setData(e)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(e){return this.cropper.setCanvasData(e)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(e){return this.cropper.setCropBoxData(e)},getCroppedCanvas:function(e){return this.cropper.getCroppedCanvas(e)},setAspectRatio:function(e){return this.cropper.setAspectRatio(e)},setDragMode:function(){return this.cropper.setDragMode()},render:function(){var e={opacity:0};return a.default.createElement("div",{style:this.props.style,src:null,crossOrigin:null,alt:null},a.default.createElement("img",{crossOrigin:this.props.crossOrigin,ref:"img",src:this.props.src,alt:void 0===this.props.alt?"picture":this.props.alt,style:e}))}});t.default=i,e.exports=t.default},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r(n(1)),l=r(n(2)),s=r(n(3)),c=r(n(5)),u=r(n(6)),d=r(n(7)),f=r(n(8)),p=r(n(9)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4)),h=/^data:/,v=void 0,g=function(){function e(t,n){a(this,e);var r=this;r.element=t,r.options=m.extend({},i.default,m.isPlainObject(n)&&n),r.loaded=!1,r.ready=!1,r.complete=!1,r.rotated=!1,r.cropped=!1,r.disabled=!1,r.replaced=!1,r.limited=!1,r.wheeling=!1,r.isImg=!1,r.originalUrl="",r.canvasData=null,r.cropBoxData=null,r.previews=null,r.init()}return o(e,[{key:"init",value:function(){var e=this,t=e.element,n=t.tagName.toLowerCase(),r=void 0;if(!m.getData(t,"cropper")){if(m.setData(t,"cropper",e),"img"===n){if(e.isImg=!0,e.originalUrl=r=t.getAttribute("src"),!r)return;r=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(r=t.toDataURL());e.load(r)}}},{key:"load",value:function(e){var t=this,n=t.options,r=t.element;if(e)if(t.url=e,t.imageData={},n.checkOrientation&&window.ArrayBuffer)if(h.test(e))t.read(m.dataURLToArrayBuffer(e));else{var a=new XMLHttpRequest;a.onerror=a.onabort=function(){t.clone()},a.onload=function(){t.read(a.response)},n.checkCrossOrigin&&m.isCrossOriginURL(e)&&r.crossOrigin&&(e=m.addTimestamp(e)),a.open("get",e),a.responseType="arraybuffer",a.send()}else t.clone()}},{key:"read",value:function(e){var t=this,n=t.options,r=m.getOrientation(e),a=t.imageData,o=0,i=1,l=1;if(r>1)switch(t.url=m.arrayBufferToDataURL(e),r){case 2:i=-1;break;case 3:o=-180;break;case 4:l=-1;break;case 5:o=90,l=-1;break;case 6:o=90;break;case 7:o=90,i=-1;break;case 8:o=-90}n.rotatable&&(a.rotate=o),n.scalable&&(a.scaleX=i,a.scaleY=l),t.clone()}},{key:"clone",value:function(){var e=this,t=e.element,n=e.url,r=void 0,a=void 0,o=void 0,i=void 0;e.options.checkCrossOrigin&&m.isCrossOriginURL(n)&&((r=t.crossOrigin)?a=n:(r="anonymous",a=m.addTimestamp(n))),e.crossOrigin=r,e.crossOriginUrl=a;var l=m.createElement("img");r&&(l.crossOrigin=r),l.src=a||n,e.image=l,e.onStart=o=m.proxy(e.start,e),e.onStop=i=m.proxy(e.stop,e),e.isImg?t.complete?e.start():m.addListener(t,"load",o):(m.addListener(l,"load",o),m.addListener(l,"error",i),m.addClass(l,"cropper-hide"),t.parentNode.insertBefore(l,t.nextSibling))}},{key:"start",value:function(e){var t=this,n=t.isImg?t.element:t.image;e&&(m.removeListener(n,"load",t.onStart),m.removeListener(n,"error",t.onStop)),m.getImageSize(n,function(e,n){m.extend(t.imageData,{naturalWidth:e,naturalHeight:n,aspectRatio:e/n}),t.loaded=!0,t.build()})}},{key:"stop",value:function(){var e=this,t=e.image;m.removeListener(t,"load",e.onStart),m.removeListener(t,"error",e.onStop),m.removeChild(t),e.image=null}},{key:"build",value:function(){var e=this,t=e.options,n=e.element,r=e.image,a=void 0,o=void 0,i=void 0,s=void 0,c=void 0,u=void 0;if(e.loaded){e.ready&&e.unbuild();var d=m.createElement("div");d.innerHTML=l.default,e.container=a=n.parentNode,e.cropper=o=m.getByClass(d,"cropper-container")[0],e.canvas=i=m.getByClass(o,"cropper-canvas")[0],e.dragBox=s=m.getByClass(o,"cropper-drag-box")[0],e.cropBox=c=m.getByClass(o,"cropper-crop-box")[0],e.viewBox=m.getByClass(o,"cropper-view-box")[0],e.face=u=m.getByClass(c,"cropper-face")[0],m.appendChild(i,r),m.addClass(n,"cropper-hidden"),a.insertBefore(o,n.nextSibling),e.isImg||m.removeClass(r,"cropper-hide"),e.initPreview(),e.bind(),t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,t.autoCrop?(e.cropped=!0,t.modal&&m.addClass(s,"cropper-modal")):m.addClass(c,"cropper-hidden"),t.guides||m.addClass(m.getByClass(c,"cropper-dashed"),"cropper-hidden"),t.center||m.addClass(m.getByClass(c,"cropper-center"),"cropper-hidden"),t.background&&m.addClass(o,"cropper-bg"),t.highlight||m.addClass(u,"cropper-invisible"),t.cropBoxMovable&&(m.addClass(u,"cropper-move"),m.setData(u,"action","all")),t.cropBoxResizable||(m.addClass(m.getByClass(c,"cropper-line"),"cropper-hidden"),m.addClass(m.getByClass(c,"cropper-point"),"cropper-hidden")),e.setDragMode(t.dragMode),e.render(),e.ready=!0,e.setData(t.data),e.completing=setTimeout(function(){m.isFunction(t.ready)&&m.addListener(n,"ready",t.ready,!0),m.dispatchEvent(n,"ready"),m.dispatchEvent(n,"crop",e.getData()),e.complete=!0},0)}}},{key:"unbuild",value:function(){var e=this;e.ready&&(e.complete||clearTimeout(e.completing),e.ready=!1,e.complete=!1,e.initialImageData=null,e.initialCanvasData=null,e.initialCropBoxData=null,e.containerData=null,e.canvasData=null,e.cropBoxData=null,e.unbind(),e.resetPreview(),e.previews=null,e.viewBox=null,e.cropBox=null,e.dragBox=null,e.canvas=null,e.container=null,m.removeChild(e.cropper),e.cropper=null)}}],[{key:"noConflict",value:function(){return window.Cropper=v,e}},{key:"setDefaults",value:function(e){m.extend(i.default,m.isPlainObject(e)&&e)}}]),e}();m.extend(g.prototype,s.default),m.extend(g.prototype,c.default),m.extend(g.prototype,u.default),m.extend(g.prototype,d.default),m.extend(g.prototype,f.default),m.extend(g.prototype,p.default),"undefined"!=typeof window&&(v=window.Cropper,window.Cropper=g),t.default=g},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4));t.default={render:function(){var e=this;e.initContainer(),e.initCanvas(),e.initCropBox(),e.renderCanvas(),e.cropped&&e.renderCropBox()},initContainer:function(){var e=this,t=e.options,n=e.element,a=e.container,o=e.cropper,i=void 0;r.addClass(o,"cropper-hidden"),r.removeClass(n,"cropper-hidden"),e.containerData=i={width:Math.max(a.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(a.offsetHeight,Number(t.minContainerHeight)||100)},r.setStyle(o,{width:i.width,height:i.height}),r.addClass(n,"cropper-hidden"),r.removeClass(o,"cropper-hidden")},initCanvas:function(){var e=this,t=e.options.viewMode,n=e.containerData,a=e.imageData,o=90===Math.abs(a.rotate),i=o?a.naturalHeight:a.naturalWidth,l=o?a.naturalWidth:a.naturalHeight,s=i/l,c=n.width,u=n.height;n.height*s>n.width?3===t?c=n.height*s:u=n.width/s:3===t?u=n.width/s:c=n.height*s;var d={naturalWidth:i,naturalHeight:l,aspectRatio:s,width:c,height:u};d.oldLeft=d.left=(n.width-c)/2,d.oldTop=d.top=(n.height-u)/2,e.canvasData=d,e.limited=1===t||2===t,e.limitCanvas(!0,!0),e.initialImageData=r.extend({},a),e.initialCanvasData=r.extend({},d)},limitCanvas:function(e,t){var n=this,r=n.options,a=r.viewMode,o=n.containerData,i=n.canvasData,l=i.aspectRatio,s=n.cropBoxData,c=n.cropped&&s,u=void 0,d=void 0,f=void 0,p=void 0;e&&(u=Number(r.minCanvasWidth)||0,d=Number(r.minCanvasHeight)||0,a>1?(u=Math.max(u,o.width),d=Math.max(d,o.height),3===a&&(d*l>u?u=d*l:d=u/l)):a>0&&(u?u=Math.max(u,c?s.width:0):d?d=Math.max(d,c?s.height:0):c&&(u=s.width,(d=s.height)*l>u?u=d*l:d=u/l)),u&&d?d*l>u?d=u/l:u=d*l:u?d=u/l:d&&(u=d*l),i.minWidth=u,i.minHeight=d,i.maxWidth=1/0,i.maxHeight=1/0),t&&(a?(f=o.width-i.width,p=o.height-i.height,i.minLeft=Math.min(0,f),i.minTop=Math.min(0,p),i.maxLeft=Math.max(0,f),i.maxTop=Math.max(0,p),c&&n.limited&&(i.minLeft=Math.min(s.left,s.left+(s.width-i.width)),i.minTop=Math.min(s.top,s.top+(s.height-i.height)),i.maxLeft=s.left,i.maxTop=s.top,2===a&&(i.width>=o.width&&(i.minLeft=Math.min(0,f),i.maxLeft=Math.max(0,f)),i.height>=o.height&&(i.minTop=Math.min(0,p),i.maxTop=Math.max(0,p))))):(i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=o.width,i.maxTop=o.height))},renderCanvas:function(e){var t=this,n=t.canvasData,a=t.imageData,o=a.rotate,i=void 0,l=void 0;t.rotated&&(t.rotated=!1,(i=(l=r.getRotatedSizes({width:a.width,height:a.height,degree:o})).width/l.height)!==n.aspectRatio&&(n.left-=(l.width-n.width)/2,n.top-=(l.height-n.height)/2,n.width=l.width,n.height=l.height,n.aspectRatio=i,n.naturalWidth=a.naturalWidth,n.naturalHeight=a.naturalHeight,o%180&&(l=r.getRotatedSizes({width:a.naturalWidth,height:a.naturalHeight,degree:o}),n.naturalWidth=l.width,n.naturalHeight=l.height),t.limitCanvas(!0,!1))),(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),t.limitCanvas(!1,!0),n.oldLeft=n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),r.setStyle(t.canvas,{width:n.width,height:n.height,left:n.left,top:n.top}),t.renderImage(),t.cropped&&t.limited&&t.limitCropBox(!0,!0),e&&t.output()},renderImage:function(e){var t=this,n=t.canvasData,a=t.imageData,o=void 0,i=void 0,l=void 0,s=void 0;a.rotate&&(o={width:l=(i=r.getRotatedSizes({width:n.width,height:n.height,degree:a.rotate,aspectRatio:a.aspectRatio},!0)).width,height:s=i.height,left:(n.width-l)/2,top:(n.height-s)/2}),r.extend(a,o||{width:n.width,height:n.height,left:0,top:0});var c=r.getTransform(a);r.setStyle(t.image,{width:a.width,height:a.height,marginLeft:a.left,marginTop:a.top,WebkitTransform:c,msTransform:c,transform:c}),e&&t.output()},initCropBox:function(){var e=this,t=e.options,n=t.aspectRatio,a=Number(t.autoCropArea)||.8,o=e.canvasData,i={width:o.width,height:o.height};n&&(o.height*n>o.width?i.height=i.width/n:i.width=i.height*n),e.cropBoxData=i,e.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*a),i.height=Math.max(i.minHeight,i.height*a),i.oldLeft=i.left=o.left+(o.width-i.width)/2,i.oldTop=i.top=o.top+(o.height-i.height)/2,e.initialCropBoxData=r.extend({},i)},limitCropBox:function(e,t){var n=this,r=n.options,a=r.aspectRatio,o=n.containerData,i=n.canvasData,l=n.cropBoxData,s=n.limited,c=void 0,u=void 0,d=void 0,f=void 0;e&&(c=Number(r.minCropBoxWidth)||0,u=Number(r.minCropBoxHeight)||0,c=Math.min(c,o.width),u=Math.min(u,o.height),d=Math.min(o.width,s?i.width:o.width),f=Math.min(o.height,s?i.height:o.height),a&&(c&&u?u*a>c?u=c/a:c=u*a:c?u=c/a:u&&(c=u*a),f*a>d?f=d/a:d=f*a),l.minWidth=Math.min(c,d),l.minHeight=Math.min(u,f),l.maxWidth=d,l.maxHeight=f),t&&(s?(l.minLeft=Math.max(0,i.left),l.minTop=Math.max(0,i.top),l.maxLeft=Math.min(o.width,i.left+i.width)-l.width,l.maxTop=Math.min(o.height,i.top+i.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=o.width-l.width,l.maxTop=o.height-l.height))},renderCropBox:function(){var e=this,t=e.options,n=e.containerData,a=e.cropBoxData;(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),e.limitCropBox(!1,!0),a.oldLeft=a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.oldTop=a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),t.movable&&t.cropBoxMovable&&r.setData(e.face,"action",a.width===n.width&&a.height===n.height?"move":"all"),r.setStyle(e.cropBox,{width:a.width,height:a.height,left:a.left,top:a.top}),e.cropped&&e.limited&&e.limitCanvas(!0,!0),e.disabled||e.output()},output:function(){var e=this;e.preview(),e.complete&&r.dispatchEvent(e.element,"crop",e.getData())}}},function(e,t){"use strict";function n(e){return ne.call(e).slice(8,-1).toLowerCase()}function r(e){return"number"==typeof e&&!isNaN(e)}function a(e){return void 0===e}function o(e){return"object"===(void 0===e?"undefined":W(e))&&null!==e}function i(e){if(!o(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&re.call(n,"isPrototypeOf")}catch(e){return!1}}function l(e){return"function"===n(e)}function s(e){return Array.isArray?Array.isArray(e):"array"===n(e)}function c(e,t){return t=t>=0?t:0,Array.from?Array.from(e).slice(t):ae.call(e,t)}function u(e){return"string"==typeof e&&(e=e.trim?e.trim():e.replace(Z,"$1")),e}function d(e,t){if(e&&l(t)){var n=void 0;if(s(e)||r(e.length)){var a=e.length;for(n=0;n<a&&!1!==t.call(e,e[n],n,e);n++);}else o(e)&&Object.keys(e).forEach(function(n){t.call(e,e[n],n,e)})}return e}function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=!0===t[0],a=r?t[1]:t[0];return t.length>1&&(t.shift(),t.forEach(function(e){o(e)&&Object.keys(e).forEach(function(t){r&&o(a[t])?f(!0,a[t],e[t]):a[t]=e[t]})})),a}function p(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return function(){for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return e.apply(t,r.concat(a))}}function m(e,t){var n=e.style;d(t,function(e,t){$.test(t)&&r(e)&&(e+="px"),n[t]=e})}function h(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function v(e,t){if(r(e.length))d(e,function(e){v(e,t)});else if(e.classList)e.classList.add(t);else{var n=u(e.className);n?n.indexOf(t)<0&&(e.className=n+" "+t):e.className=t}}function g(e,t){r(e.length)?d(e,function(e){g(e,t)}):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}function y(e,t,n){r(e.length)?d(e,function(e){y(e,t,n)}):n?v(e,t):g(e,t)}function b(e){return e.replace(G,"$1-$2").toLowerCase()}function _(e,t){return o(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+b(t))}function w(e,t,n){o(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-"+b(t),n)}function E(e,t){o(e[t])?delete e[t]:e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+b(t))}function M(e,t,n){var r=u(t).split(X);r.length>1?d(r,function(t){M(e,t,n)}):e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function C(e,t,n,r){var a=u(t).split(X),o=n;a.length>1?d(a,function(t){C(e,t,n)}):(r&&(n=function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return M(e,t,n),o.apply(e,a)}),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on${type}",n))}function O(e,t,n){if(e.dispatchEvent){var r=void 0;return l(Event)&&l(CustomEvent)?r=a(n)?new Event(t,{bubbles:!0,cancelable:!0}):new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):a(n)?(r=document.createEvent("Event")).initEvent(t,!0,!0):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}return!e.fireEvent||e.fireEvent("on"+t)}function S(e){var t=e||window.event;if(t.target||(t.target=t.srcElement||document),!r(t.pageX)&&r(t.clientX)){var n=e.target.ownerDocument||document,a=n.documentElement,o=n.body;t.pageX=t.clientX+((a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0)),t.pageY=t.clientY+((a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0))}return t}function D(e){var t=document.documentElement,n=e.getBoundingClientRect();return{left:n.left+((window.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0)),top:n.top+((window.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0))}}function k(e){var t=e.length,n=0,r=0;return t&&(d(e,function(e){n+=e.pageX,r+=e.pageY}),n/=t,r/=t),{pageX:n,pageY:r}}function x(e,t){return e.getElementsByTagName(t)}function T(e,t){return e.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}function N(e){return document.createElement(e)}function P(e,t){e.appendChild(t)}function I(e){e.parentNode&&e.parentNode.removeChild(e)}function j(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function A(e){var t=e.match(q);return t&&(t[1]!==location.protocol||t[2]!==location.hostname||t[3]!==location.port)}function R(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function L(e,t){if(!e.naturalWidth||ee){var n=N("img");n.onload=function(){t(this.width,this.height)},n.src=e.src}else t(e.naturalWidth,e.naturalHeight)}function F(e){var t=[],n=e.rotate,a=e.scaleX,o=e.scaleY;return r(n)&&0!==n&&t.push("rotate("+n+"deg)"),r(a)&&1!==a&&t.push("scaleX("+a+")"),r(o)&&1!==o&&t.push("scaleY("+o+")"),t.length?t.join(" "):"none"}function U(e,t){var n=Math.abs(e.degree)%180,r=(n>90?180-n:n)*Math.PI/180,a=Math.sin(r),o=Math.cos(r),i=e.width,l=e.height,s=e.aspectRatio,c=void 0,u=void 0;return t?u=(c=i/(o+a/s))/s:(c=i*o+l*a,u=i*a+l*o),{width:c,height:u}}function B(e,t){var n=N("canvas"),a=n.getContext("2d"),o=0,i=0,l=t.naturalWidth,s=t.naturalHeight,c=t.rotate,u=t.scaleX,d=t.scaleY,f=r(u)&&r(d)&&(1!==u||1!==d),p=r(c)&&0!==c,m=p||f,h=l*Math.abs(u||1),v=s*Math.abs(d||1),g=void 0,y=void 0,b=void 0;return f&&(g=h/2,y=v/2),p&&(g=(h=(b=U({width:h,height:v,degree:c})).width)/2,y=(v=b.height)/2),n.width=h,n.height=v,m&&(o=-l/2,i=-s/2,a.save(),a.translate(g,y)),p&&a.rotate(c*Math.PI/180),f&&a.scale(u,d),a.drawImage(e,Math.floor(o),Math.floor(i),Math.floor(l),Math.floor(s)),m&&a.restore(),n}function V(e,t,n){var r="",a=t;for(n+=t;a<n;a++)r+=oe(e.getUint8(a));return r}function z(e){var t=new DataView(e),n=t.byteLength,r=void 0,a=void 0,o=void 0,i=void 0,l=void 0,s=void 0,c=void 0,u=void 0,d=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(u=2;u<n;){if(255===t.getUint8(u)&&225===t.getUint8(u+1)){s=u;break}u++}if(s&&(a=s+10,"Exif"===V(t,s+4,4)&&((i=18761===(l=t.getUint16(a)))||19789===l)&&42===t.getUint16(a+2,i)&&(o=t.getUint32(a+4,i))>=8&&(c=a+o)),c)for(n=t.getUint16(c,i),d=0;d<n;d++)if(u=c+12*d+2,274===t.getUint16(u,i)){u+=8,r=t.getUint16(u,i),ee&&t.setUint16(u,1,i);break}return r}function H(e){var t=e.replace(Y,""),n=atob(t),r=n.length,a=new ArrayBuffer(r),o=new Uint8Array(a),i=void 0;for(i=0;i<r;i++)o[i]=n.charCodeAt(i);return a}function K(e){var t=new Uint8Array(e),n=t.length,r="",a=void 0;for(a=0;a<n;a++)r+=oe(t[a]);return"data:image/jpeg;base64,"+btoa(r)}Object.defineProperty(t,"__esModule",{value:!0});var W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.typeOf=n,t.isNumber=r,t.isUndefined=a,t.isObject=o,t.isPlainObject=i,t.isFunction=l,t.isArray=s,t.toArray=c,t.trim=u,t.each=d,t.extend=f,t.proxy=p,t.setStyle=m,t.hasClass=h,t.addClass=v,t.removeClass=g,t.toggleClass=y,t.hyphenate=b,t.getData=_,t.setData=w,t.removeData=E,t.removeListener=M,t.dispatchEvent=O,t.getEvent=S,t.getOffset=D,t.getTouchesCenter=k,t.getByTag=x,t.getByClass=T,t.createElement=N,t.appendChild=P,t.removeChild=I,t.empty=j,t.isCrossOriginURL=A,t.addTimestamp=R,t.getImageSize=L,t.getTransform=F,t.getRotatedSizes=U,t.getSourceCanvas=B,t.getStringFromCharCode=V,t.getOrientation=z,t.dataURLToArrayBuffer=H,t.arrayBufferToDataURL=K;var Y=/^data:([^;]+);base64,/,G=/([a-z\d])([A-Z])/g,q=/^(https?:)\/\/([^:\/\?#]+):?(\d*)/i,X=/\s+/,$=/^(width|height|left|top|marginLeft|marginTop)$/,Z=/^\s+(.*)\s+$/,J=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,Q=window.navigator,ee=Q&&J.test(Q.userAgent),te=Object.prototype,ne=te.toString,re=te.hasOwnProperty,ae=Array.prototype.slice,oe=String.fromCharCode;t.addListener=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4));t.default={initPreview:function(){var e=this,t=e.options.preview,n=r.createElement("img"),a=e.crossOrigin,o=a?e.crossOriginUrl:e.url;if(a&&(n.crossOrigin=a),n.src=o,r.appendChild(e.viewBox,n),e.image2=n,t){var i=document.querySelectorAll(t);e.previews=i,r.each(i,function(e){var t=r.createElement("img");r.setData(e,"preview",{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),a&&(t.crossOrigin=a),t.src=o,t.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',r.empty(e),r.appendChild(e,t)})}},resetPreview:function(){r.each(this.previews,function(e){var t=r.getData(e,"preview");r.setStyle(e,{width:t.width,height:t.height}),e.innerHTML=t.html,r.removeData(e,"preview")})},preview:function(){var e=this,t=e.imageData,n=e.canvasData,a=e.cropBoxData,o=a.width,i=a.height,l=t.width,s=t.height,c=a.left-n.left-t.left,u=a.top-n.top-t.top,d=r.getTransform(t),f={WebkitTransform:d,msTransform:d,transform:d};e.cropped&&!e.disabled&&(r.setStyle(e.image2,r.extend({width:l,height:s,marginLeft:-c,marginTop:-u},f)),r.each(e.previews,function(e){var t=r.getData(e,"preview"),n=t.width,a=t.height,d=n,p=a,m=1;o&&(p=i*(m=n/o)),i&&p>a&&(d=o*(m=a/i),p=a),r.setStyle(e,{width:d,height:p}),r.setStyle(r.getByTag(e,"img")[0],r.extend({width:l*m,height:s*m,marginLeft:-c*m,marginTop:-u*m},f))}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4)),a="mouseup touchend touchcancel pointerup pointercancel MSPointerUp MSPointerCancel";t.default={bind:function(){var e=this,t=e.options,n=e.element,o=e.cropper;r.isFunction(t.cropstart)&&r.addListener(n,"cropstart",t.cropstart),r.isFunction(t.cropmove)&&r.addListener(n,"cropmove",t.cropmove),r.isFunction(t.cropend)&&r.addListener(n,"cropend",t.cropend),r.isFunction(t.crop)&&r.addListener(n,"crop",t.crop),r.isFunction(t.zoom)&&r.addListener(n,"zoom",t.zoom),r.addListener(o,"mousedown touchstart pointerdown MSPointerDown",e.onCropStart=r.proxy(e.cropStart,e)),t.zoomable&&t.zoomOnWheel&&r.addListener(o,"wheel mousewheel DOMMouseScroll",e.onWheel=r.proxy(e.wheel,e)),t.toggleDragModeOnDblclick&&r.addListener(o,"dblclick",e.onDblclick=r.proxy(e.dblclick,e)),r.addListener(document,"mousemove touchmove pointermove MSPointerMove",e.onCropMove=r.proxy(e.cropMove,e)),r.addListener(document,a,e.onCropEnd=r.proxy(e.cropEnd,e)),t.responsive&&r.addListener(window,"resize",e.onResize=r.proxy(e.resize,e))},unbind:function(){var e=this,t=e.options,n=e.element,o=e.cropper;r.isFunction(t.cropstart)&&r.removeListener(n,"cropstart",t.cropstart),r.isFunction(t.cropmove)&&r.removeListener(n,"cropmove",t.cropmove),r.isFunction(t.cropend)&&r.removeListener(n,"cropend",t.cropend),r.isFunction(t.crop)&&r.removeListener(n,"crop",t.crop),r.isFunction(t.zoom)&&r.removeListener(n,"zoom",t.zoom),r.removeListener(o,"mousedown touchstart pointerdown MSPointerDown",e.onCropStart),t.zoomable&&t.zoomOnWheel&&r.removeListener(o,"wheel mousewheel DOMMouseScroll",e.onWheel),t.toggleDragModeOnDblclick&&r.removeListener(o,"dblclick",e.onDblclick),r.removeListener(document,"mousemove touchmove pointermove MSPointerMove",e.onCropMove),r.removeListener(document,a,e.onCropEnd),t.responsive&&r.removeListener(window,"resize",e.onResize)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REGEXP_ACTIONS=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4)),a=t.REGEXP_ACTIONS=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/;t.default={resize:function(){var e=this,t=e.options.restore,n=e.container,a=e.containerData;if(!e.disabled&&a){var o=n.offsetWidth/a.width,i=void 0,l=void 0;1===o&&n.offsetHeight===a.height||(t&&(i=e.getCanvasData(),l=e.getCropBoxData()),e.render(),t&&(e.setCanvasData(r.each(i,function(e,t){i[t]=e*o})),e.setCropBoxData(r.each(l,function(e,t){l[t]=e*o}))))}},dblclick:function(){var e=this;e.disabled||e.setDragMode(r.hasClass(e.dragBox,"cropper-crop")?"move":"crop")},wheel:function(e){var t=this,n=r.getEvent(e),a=Number(t.options.wheelZoomRatio)||.1,o=1;t.disabled||(n.preventDefault(),t.wheeling||(t.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),n.deltaY?o=n.deltaY>0?1:-1:n.wheelDelta?o=-n.wheelDelta/120:n.detail&&(o=n.detail>0?1:-1),t.zoom(-o*a,n)))},cropStart:function(e){var t=this,n=t.options,o=r.getEvent(e),i=o.touches,l=void 0,s=void 0,c=void 0;if(!t.disabled){if(i){if((l=i.length)>1){if(!n.zoomable||!n.zoomOnTouch||2!==l)return;s=i[1],t.startX2=s.pageX,t.startY2=s.pageY,c="zoom"}s=i[0]}if(c=c||r.getData(o.target,"action"),a.test(c)){if(!1===r.dispatchEvent(t.element,"cropstart",{originalEvent:o,action:c}))return;o.preventDefault(),t.action=c,t.cropping=!1,t.startX=s?s.pageX:o.pageX,t.startY=s?s.pageY:o.pageY,"crop"===c&&(t.cropping=!0,r.addClass(t.dragBox,"cropper-modal"))}}},cropMove:function(e){var t=this,n=t.options,a=r.getEvent(e),o=a.touches,i=t.action,l=void 0,s=void 0;if(!t.disabled){if(o){if((l=o.length)>1){if(!n.zoomable||!n.zoomOnTouch||2!==l)return;s=o[1],t.endX2=s.pageX,t.endY2=s.pageY}s=o[0]}if(i){if(!1===r.dispatchEvent(t.element,"cropmove",{originalEvent:a,action:i}))return;a.preventDefault(),t.endX=s?s.pageX:a.pageX,t.endY=s?s.pageY:a.pageY,t.change(a.shiftKey,"zoom"===i?a:null)}}},cropEnd:function(e){var t=this,n=t.options,a=r.getEvent(e),o=t.action;t.disabled||o&&(a.preventDefault(),t.cropping&&(t.cropping=!1,r.toggleClass(t.dragBox,"cropper-modal",t.cropped&&n.modal)),t.action="",r.dispatchEvent(t.element,"cropend",{originalEvent:a,action:o}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4));t.default={change:function(e,t){var n=this,a=n.options,o=n.containerData,i=n.canvasData,l=n.cropBoxData,s=a.aspectRatio,c=n.action,u=l.width,d=l.height,f=l.left,p=l.top,m=f+u,h=p+d,v=0,g=0,y=o.width,b=o.height,_=!0,w=void 0;!s&&e&&(s=u&&d?u/d:1),n.limited&&(v=l.minLeft,g=l.minTop,y=v+Math.min(o.width,i.width,i.left+i.width),b=g+Math.min(o.height,i.height,i.top+i.height));var E={x:n.endX-n.startX,y:n.endY-n.startY};switch(s&&(E.X=E.y*s,E.Y=E.x/s),c){case"all":f+=E.x,p+=E.y;break;case"e":if(E.x>=0&&(m>=y||s&&(p<=g||h>=b))){_=!1;break}u+=E.x,s&&(d=u/s,p-=E.Y/2),u<0&&(c="w",u=0);break;case"n":if(E.y<=0&&(p<=g||s&&(f<=v||m>=y))){_=!1;break}d-=E.y,p+=E.y,s&&(u=d*s,f+=E.X/2),d<0&&(c="s",d=0);break;case"w":if(E.x<=0&&(f<=v||s&&(p<=g||h>=b))){_=!1;break}u-=E.x,f+=E.x,s&&(d=u/s,p+=E.Y/2),u<0&&(c="e",u=0);break;case"s":if(E.y>=0&&(h>=b||s&&(f<=v||m>=y))){_=!1;break}d+=E.y,s&&(u=d*s,f-=E.X/2),d<0&&(c="n",d=0);break;case"ne":if(s){if(E.y<=0&&(p<=g||m>=y)){_=!1;break}d-=E.y,p+=E.y,u=d*s}else E.x>=0?m<y?u+=E.x:E.y<=0&&p<=g&&(_=!1):u+=E.x,E.y<=0?p>g&&(d-=E.y,p+=E.y):(d-=E.y,p+=E.y);u<0&&d<0?(c="sw",d=0,u=0):u<0?(c="nw",u=0):d<0&&(c="se",d=0);break;case"nw":if(s){if(E.y<=0&&(p<=g||f<=v)){_=!1;break}d-=E.y,p+=E.y,u=d*s,f+=E.X}else E.x<=0?f>v?(u-=E.x,f+=E.x):E.y<=0&&p<=g&&(_=!1):(u-=E.x,f+=E.x),E.y<=0?p>g&&(d-=E.y,p+=E.y):(d-=E.y,p+=E.y);u<0&&d<0?(c="se",d=0,u=0):u<0?(c="ne",u=0):d<0&&(c="sw",d=0);break;case"sw":if(s){if(E.x<=0&&(f<=v||h>=b)){_=!1;break}u-=E.x,f+=E.x,d=u/s}else E.x<=0?f>v?(u-=E.x,f+=E.x):E.y>=0&&h>=b&&(_=!1):(u-=E.x,f+=E.x),E.y>=0?h<b&&(d+=E.y):d+=E.y;u<0&&d<0?(c="ne",d=0,u=0):u<0?(c="se",u=0):d<0&&(c="nw",d=0);break;case"se":if(s){if(E.x>=0&&(m>=y||h>=b)){_=!1;break}d=(u+=E.x)/s}else E.x>=0?m<y?u+=E.x:E.y>=0&&h>=b&&(_=!1):u+=E.x,E.y>=0?h<b&&(d+=E.y):d+=E.y;u<0&&d<0?(c="nw",d=0,u=0):u<0?(c="sw",u=0):d<0&&(c="ne",d=0);break;case"move":n.move(E.x,E.y),_=!1;break;case"zoom":n.zoom(function(e,t,n,r){var a=Math.sqrt(e*e+t*t);return(Math.sqrt(n*n+r*r)-a)/a}(Math.abs(n.startX-n.startX2),Math.abs(n.startY-n.startY2),Math.abs(n.endX-n.endX2),Math.abs(n.endY-n.endY2)),t),n.startX2=n.endX2,n.startY2=n.endY2,_=!1;break;case"crop":if(!E.x||!E.y){_=!1;break}w=r.getOffset(n.cropper),f=n.startX-w.left,p=n.startY-w.top,u=l.minWidth,d=l.minHeight,E.x>0?c=E.y>0?"se":"ne":E.x<0&&(f-=u,c=E.y>0?"sw":"nw"),E.y<0&&(p-=d),n.cropped||(r.removeClass(n.cropBox,"cropper-hidden"),n.cropped=!0,n.limited&&n.limitCropBox(!0,!0))}_&&(l.width=u,l.height=d,l.left=f,l.top=p,n.action=c,n.renderCropBox()),n.startX=n.endX,n.startY=n.endY}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4));t.default={crop:function(){var e=this;return e.ready&&!e.disabled&&(e.cropped||(e.cropped=!0,e.limitCropBox(!0,!0),e.options.modal&&a.addClass(e.dragBox,"cropper-modal"),a.removeClass(e.cropBox,"cropper-hidden")),e.setCropBoxData(e.initialCropBoxData)),e},reset:function(){var e=this;return e.ready&&!e.disabled&&(e.imageData=a.extend({},e.initialImageData),e.canvasData=a.extend({},e.initialCanvasData),e.cropBoxData=a.extend({},e.initialCropBoxData),e.renderCanvas(),e.cropped&&e.renderCropBox()),e},clear:function(){var e=this;return e.cropped&&!e.disabled&&(a.extend(e.cropBoxData,{left:0,top:0,width:0,height:0}),e.cropped=!1,e.renderCropBox(),e.limitCanvas(),e.renderCanvas(),a.removeClass(e.dragBox,"cropper-modal"),a.addClass(e.cropBox,"cropper-hidden")),e},replace:function(e,t){var n=this;return!n.disabled&&e&&(n.isImg&&(n.element.src=e),t?(n.url=e,n.image.src=e,n.ready&&(n.image2.src=e,a.each(n.previews,function(t){a.getByTag(t,"img")[0].src=e}))):(n.isImg&&(n.replaced=!0),n.options.data=null,n.load(e))),n},enable:function(){var e=this;return e.ready&&(e.disabled=!1,a.removeClass(e.cropper,"cropper-disabled")),e},disable:function(){var e=this;return e.ready&&(e.disabled=!0,a.addClass(e.cropper,"cropper-disabled")),e},destroy:function(){var e=this,t=e.element,n=e.image;return e.loaded?(e.isImg&&e.replaced&&(t.src=e.originalUrl),e.unbuild(),a.removeClass(t,"cropper-hidden")):e.isImg?a.removeListener(t,"load",e.start):n&&a.removeChild(n),a.removeData(t,"cropper"),e},move:function(e,t){var n=this,r=n.canvasData;return n.moveTo(a.isUndefined(e)?e:r.left+Number(e),a.isUndefined(t)?t:r.top+Number(t))},moveTo:function(e,t){var n=this,r=n.canvasData,o=!1;return a.isUndefined(t)&&(t=e),e=Number(e),t=Number(t),n.ready&&!n.disabled&&n.options.movable&&(a.isNumber(e)&&(r.left=e,o=!0),a.isNumber(t)&&(r.top=t,o=!0),o&&n.renderCanvas(!0)),n},zoom:function(e,t){var n=this,r=n.canvasData;return e=Number(e),e=e<0?1/(1-e):1+e,n.zoomTo(r.width*e/r.naturalWidth,t)},zoomTo:function(e,t){var n=this,r=n.options,o=n.canvasData,i=o.width,l=o.height,s=o.naturalWidth,c=o.naturalHeight,u=void 0,d=void 0,f=void 0,p=void 0;if((e=Number(e))>=0&&n.ready&&!n.disabled&&r.zoomable){if(u=s*e,d=c*e,!1===a.dispatchEvent(n.element,"zoom",{originalEvent:t,oldRatio:i/s,ratio:u/s}))return n;t?(f=a.getOffset(n.cropper),p=t.touches?a.getTouchesCenter(t.touches):{pageX:t.pageX,pageY:t.pageY},o.left-=(u-i)*((p.pageX-f.left-o.left)/i),o.top-=(d-l)*((p.pageY-f.top-o.top)/l)):(o.left-=(u-i)/2,o.top-=(d-l)/2),o.width=u,o.height=d,n.renderCanvas(!0)}return n},rotate:function(e){var t=this;return t.rotateTo((t.imageData.rotate||0)+Number(e))},rotateTo:function(e){var t=this;return e=Number(e),a.isNumber(e)&&t.ready&&!t.disabled&&t.options.rotatable&&(t.imageData.rotate=e%360,t.rotated=!0,t.renderCanvas(!0)),t},scale:function(e,t){var n=this,r=n.imageData,o=!1;return a.isUndefined(t)&&(t=e),e=Number(e),t=Number(t),n.ready&&!n.disabled&&n.options.scalable&&(a.isNumber(e)&&(r.scaleX=e,o=!0),a.isNumber(t)&&(r.scaleY=t,o=!0),o&&n.renderImage(!0)),n},scaleX:function(e){var t=this,n=t.imageData.scaleY;return t.scale(e,a.isNumber(n)?n:1)},scaleY:function(e){var t=this,n=t.imageData.scaleX;return t.scale(a.isNumber(n)?n:1,e)},getData:function(e){var t=this,n=t.options,r=t.imageData,o=t.canvasData,i=t.cropBoxData,l=void 0,s=void 0;return t.ready&&t.cropped?(s={x:i.left-o.left,y:i.top-o.top,width:i.width,height:i.height},l=r.width/r.naturalWidth,a.each(s,function(t,n){t/=l,s[n]=e?Math.round(t):t})):s={x:0,y:0,width:0,height:0},n.rotatable&&(s.rotate=r.rotate||0),n.scalable&&(s.scaleX=r.scaleX||1,s.scaleY=r.scaleY||1),s},setData:function(e){var t=this,n=t.options,r=t.imageData,o=t.canvasData,i={},l=void 0,s=void 0,c=void 0;return a.isFunction(e)&&(e=e.call(t.element)),t.ready&&!t.disabled&&a.isPlainObject(e)&&(n.rotatable&&a.isNumber(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,t.rotated=l=!0),n.scalable&&(a.isNumber(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,s=!0),a.isNumber(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,s=!0)),l?t.renderCanvas():s&&t.renderImage(),c=r.width/r.naturalWidth,a.isNumber(e.x)&&(i.left=e.x*c+o.left),a.isNumber(e.y)&&(i.top=e.y*c+o.top),a.isNumber(e.width)&&(i.width=e.width*c),a.isNumber(e.height)&&(i.height=e.height*c),t.setCropBoxData(i)),t},getContainerData:function(){var e=this;return e.ready?e.containerData:{}},getImageData:function(){var e=this;return e.loaded?e.imageData:{}},getCanvasData:function(){var e=this,t=e.canvasData,n={};return e.ready&&a.each(["left","top","width","height","naturalWidth","naturalHeight"],function(e){n[e]=t[e]}),n},setCanvasData:function(e){var t=this,n=t.canvasData,r=n.aspectRatio;return a.isFunction(e)&&(e=e.call(t.element)),t.ready&&!t.disabled&&a.isPlainObject(e)&&(a.isNumber(e.left)&&(n.left=e.left),a.isNumber(e.top)&&(n.top=e.top),a.isNumber(e.width)?(n.width=e.width,n.height=e.width/r):a.isNumber(e.height)&&(n.height=e.height,n.width=e.height*r),t.renderCanvas(!0)),t},getCropBoxData:function(){var e=this,t=e.cropBoxData,n=void 0;return e.ready&&e.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(e){var t=this,n=t.cropBoxData,r=t.options.aspectRatio,o=void 0,i=void 0;return a.isFunction(e)&&(e=e.call(t.element)),t.ready&&t.cropped&&!t.disabled&&a.isPlainObject(e)&&(a.isNumber(e.left)&&(n.left=e.left),a.isNumber(e.top)&&(n.top=e.top),a.isNumber(e.width)&&(o=!0,n.width=e.width),a.isNumber(e.height)&&(i=!0,n.height=e.height),r&&(o?n.height=n.width/r:i&&(n.width=n.height*r)),t.renderCropBox()),t},getCroppedCanvas:function(e){var t=this;if(!t.ready||!window.HTMLCanvasElement)return null;if(!t.cropped)return a.getSourceCanvas(t.image,t.imageData);a.isPlainObject(e)||(e={});var n=t.getData(),o=n.width,i=n.height,l=o/i,s=void 0,c=void 0,u=void 0;a.isPlainObject(e)&&(s=e.width,c=e.height,s?(c=s/l,u=s/o):c&&(s=c*l,u=c/i));var d=Math.floor(s||o),f=Math.floor(c||i),p=a.createElement("canvas"),m=p.getContext("2d");p.width=d,p.height=f,e.fillColor&&(m.fillStyle=e.fillColor,m.fillRect(0,0,d,f));var h=function(){var e=a.getSourceCanvas(t.image,t.imageData),r=e.width,l=e.height,s=t.canvasData,c=[e],d=n.x+s.naturalWidth*(Math.abs(n.scaleX||1)-1)/2,f=n.y+s.naturalHeight*(Math.abs(n.scaleY||1)-1)/2,p=void 0,m=void 0,h=void 0,v=void 0,g=void 0,y=void 0;return d<=-o||d>r?d=p=h=g=0:d<=0?(h=-d,d=0,p=g=Math.min(r,o+d)):d<=r&&(h=0,p=g=Math.min(o,r-d)),p<=0||f<=-i||f>l?f=m=v=y=0:f<=0?(v=-f,f=0,m=y=Math.min(l,i+f)):f<=l&&(v=0,m=y=Math.min(i,l-f)),c.push(Math.floor(d),Math.floor(f),Math.floor(p),Math.floor(m)),u&&(h*=u,v*=u,g*=u,y*=u),g>0&&y>0&&c.push(Math.floor(h),Math.floor(v),Math.floor(g),Math.floor(y)),c}();return m.drawImage.apply(m,r(h)),p},setAspectRatio:function(e){var t=this,n=t.options;return t.disabled||a.isUndefined(e)||(n.aspectRatio=Math.max(0,e)||NaN,t.ready&&(t.initCropBox(),t.cropped&&t.renderCropBox())),t},setDragMode:function(e){var t=this,n=t.options,r=t.dragBox,o=t.face,i=void 0,l=void 0;return t.loaded&&!t.disabled&&(i="crop"===e,l=n.movable&&"move"===e,e=i||l?e:"none",a.setData(r,"action",e),a.toggleClass(r,"cropper-crop",i),a.toggleClass(r,"cropper-move",l),n.cropBoxMovable||(a.setData(o,"action",e),a.toggleClass(o,"cropper-crop",i),a.toggleClass(o,"cropper-move",l))),t}}}])})},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),d=r(n(3)),f=r(n(61)),p=r(n(55)),m=n(23),h=r(n(56)),v=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={newName:void 0},n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.refs.input.focus()}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,r=n.intl.formatMessage,a=n.item.filename||n.item.name,o=!1,i=!1,s=r(h.default.newName),c=void 0,v=r(h.default.cannotRename,{filename:a});return t.newName===(n.item.filename||n.item.name)&&(o=!0,i=!0,s=""+v,c=u.default.createElement(p.default,l({},n,{icon:"exclamation-triangle"}))),u.default.createElement("form",{onSubmit:function(e){e.preventDefault(),n.onSubmit(t.newName,n.item),console.log("submitted item")}},u.default.createElement("label",{htmlFor:"eureka__modal-panel__directory","aria-live":"polite",className:(0,f.default)({dangerous:i})},c,"",s),u.default.createElement("input",{ref:"input",type:"text",id:"eureka__modal-panel__directory",name:"eureka__modal-panel__directory",placeholder:"foo"+d.default.extname(n.item.filename),autoComplete:"off",value:t.newName,onChange:function(t){e.setState({newName:t.target.value})}}),u.default.createElement("div",{className:"flex-bar"},u.default.createElement("button",{className:"growable",type:"reset",onBlur:function(n){t.newName||e.refs.input.focus()},onClick:n.onCancel},u.default.createElement(m.FormattedMessage,{id:"cancel",defaultMessage:"Cancel"})," ",u.default.createElement("span",{className:"visually-hidden"}," ",u.default.createElement(m.FormattedMessage,{id:"renamingItem",defaultMessage:"renaming item {filename}",values:{filename:a}}))),u.default.createElement("button",{className:"growable",type:"submit",onBlur:function(t){e.refs.input.focus()},disabled:o},"Rename ",u.default.createElement("span",{className:"visually-hidden"}," item ",n.item.filename||n.item.name," to ",t.newName))))}}]),t}(c.PureComponent);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),o=(r(n(3)),n(23)),i=(r(n(56)),r(n(17))),l=r(n(9)),s=r(n(19)),c=function(e){var t=e.intl;t.formatMessage,t.formatDate;return a.default.createElement("form",{className:"eureka__sort-select"},a.default.createElement("label",{htmlFor:"eureka__sort-select"},a.default.createElement(o.FormattedMessage,{id:"sortBy",defaultMessage:"Sort by"}),":"),a.default.createElement("select",{value:e.sort.by,name:"eureka__sort-select",id:"eureka__sort-select",onChange:function(t){l.default.dispatch(s.default.updateView({sort:Object.assign({},e.view.sort,{by:t.target.value})}))}},a.default.createElement("option",{value:"filename"},"Name"),a.default.createElement("option",{value:"dimensions"},"Dimensions"),a.default.createElement("option",{value:"fileSize"},"File Size"),a.default.createElement("option",{value:"editedOn"},"Edited On")),a.default.createElement("label",{htmlFor:"eureka__sort-direction"},"Sort Direction:"),a.default.createElement("select",{value:e.sort.dir,name:"eureka__sort-direction",id:"eureka__sort-direction",onChange:function(t){l.default.dispatch(s.default.updateView({sort:Object.assign({},e.view.sort,{dir:t.target.value})}))}},a.default.createElement("option",{checked:e.sort.dir==i.default.ASCENDING,value:i.default.ASCENDING},"Ascending"),a.default.createElement("option",{checked:e.sort.dir==i.default.DESCENDING,value:i.default.DESCENDING},"Descending")))};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Notification=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),u=r(c),d=r(n(55)),f=n(23),p=r(n(70)),m=t.Notification=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h.call(n),n.state={hidden:!0,dismissed:!1},n}return i(t,e),s(t,[{key:"slideInOut",value:function(){setTimeout(this.show,60),this.props.dismissAfter&&setTimeout(this.dismiss,this.props.dismissAfter)}},{key:"componentDidMount",value:function(){this.slideInOut(),this.assignKeyboardListeners()}},{key:"componentWillUnmount",value:function(){this.removeKeyboardListeners()}},{key:"assignKeyboardListeners",value:function(){p.default.bind(["esc"],this.dismiss)}},{key:"removeKeyboardListeners",value:function(){p.default.unbind(["esc"],this.dismiss)}},{key:"componentWillUpdate",value:function(e,t){this.props.id!==e.id&&(this.setState({hidden:!0,dismissed:!1}),this.slideInOut()),this.props.dismissAfter!==e.dismissAfter&&e.dismissAfter&&setTimeout(this.dismiss,this.props.dismissAfter)}},{key:"render",value:function(){var e=this,t=this.props,n="",r=t.learnMore?u.default.createElement("br",null):void 0,a=t.learnMore?u.default.createElement("a",{href:t.learnMore,target:"_blank"},u.default.createElement(f.FormattedMessage,{id:"welcome.learnMore",defaultMessage:"Learn more"})):void 0,o=function(){switch(t.type){case"dangerous":return n="eureka__dangerous",u.default.createElement(d.default,l({},t,{"aria-hidden":"true",icon:"exclamation-triangle"}));default:return u.default.createElement(d.default,l({},t,{"aria-hidden":"true",icon:"info-circle"}))}}();return u.default.createElement("div",{className:"eureka__notification-wrapper ","aria-hidden":this.state.hidden},u.default.createElement("div",{className:n},u.default.createElement("p",null,o,"",t.message," ",r,a),u.default.createElement("button",{"aria-hidden":"true","aria-label":"Dismiss Notification",onClick:this.state.dismissed?void 0:function(t){e.dismiss()}},u.default.createElement(d.default,l({},t,{icon:"times"})))))}}]),t}(c.Component),h=function(){var e=this;this.show=function(){e.setState({hidden:!1})},this.dismiss=function(){var t=e.props;e.setState({dismissed:!0,hidden:!0}),t.onDismiss&&setTimeout(function(){t.onDismiss(t.id)},420)}};m.defaultProps={dismissAfter:6e3},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.view.chooseMultiple&&e.config.allowInvertSelection?o.default.createElement("label",{htmlFor:"eureka__invert_selection"},"",o.default.createElement("input",{checked:e.view.selectionInverted,onChange:function(e){i.default.dispatch(l.default.updateView({selectionInverted:e.target.checked}))},type:"checkbox",id:e.storagePrefix+"invert_selection",name:"eureka__invert_selection"}),"Invert",o.default.createElement("span",{className:"visually-hidden"}," Selection"),""):o.default.createElement("span",null,""),n=e.view.chooseMultiple?void 0:o.default.createElement("span",null,"");return o.default.createElement("div",{className:"eureka__choose-radio"},o.default.createElement("div",null,o.default.createElement("div",{role:"radiogroup",className:"eureka__fieldset"},o.default.createElement("legend",{id:"eureka__choose-radio-legend"},"Choose Items:"),o.default.createElement("input",{"aria-labelledby":"eureka__choose-radio-legend",onChange:function(e){i.default.dispatch(l.default.updateView({chooseMultiple:!1}))},checked:!e.view.chooseMultiple,type:"radio",name:e.storagePrefix+"__choose_items",id:e.storagePrefix+"__choose_item"}),o.default.createElement("label",{htmlFor:e.storagePrefix+"__choose_item"},"Single"),o.default.createElement("input",{"aria-labelledby":"eureka__choose-radio-legend",onChange:function(e){i.default.dispatch(l.default.updateView({chooseMultiple:!0}))},checked:e.view.chooseMultiple,type:"radio",name:e.storagePrefix+"__choose_items",id:e.storagePrefix+"__choose_items"}),o.default.createElement("label",{htmlFor:e.storagePrefix+"__choose_items"},"Multiple",n))),t)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(1)),i=r(n(9)),l=r(n(19));t.default=a},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";return[{locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1),i=a&&n[0].slice(-2);return t?1==o&&11!=i?"one":2==o&&12!=i?"two":3==o&&13!=i?"few":"other":1==e&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}},{locale:"en-001",parentLocale:"en"},{locale:"en-150",parentLocale:"en-001"},{locale:"en-AG",parentLocale:"en-001"},{locale:"en-AI",parentLocale:"en-001"},{locale:"en-AS",parentLocale:"en"},{locale:"en-AT",parentLocale:"en-150"},{locale:"en-AU",parentLocale:"en-001"},{locale:"en-BB",parentLocale:"en-001"},{locale:"en-BE",parentLocale:"en-001"},{locale:"en-BI",parentLocale:"en"},{locale:"en-BM",parentLocale:"en-001"},{locale:"en-BS",parentLocale:"en-001"},{locale:"en-BW",parentLocale:"en-001"},{locale:"en-BZ",parentLocale:"en-001"},{locale:"en-CA",parentLocale:"en-001"},{locale:"en-CC",parentLocale:"en-001"},{locale:"en-CH",parentLocale:"en-150"},{locale:"en-CK",parentLocale:"en-001"},{locale:"en-CM",parentLocale:"en-001"},{locale:"en-CX",parentLocale:"en-001"},{locale:"en-CY",parentLocale:"en-001"},{locale:"en-DE",parentLocale:"en-150"},{locale:"en-DG",parentLocale:"en-001"},{locale:"en-DK",parentLocale:"en-150"},{locale:"en-DM",parentLocale:"en-001"},{locale:"en-Dsrt",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-ER",parentLocale:"en-001"},{locale:"en-FI",parentLocale:"en-150"},{locale:"en-FJ",parentLocale:"en-001"},{locale:"en-FK",parentLocale:"en-001"},{locale:"en-FM",parentLocale:"en-001"},{locale:"en-GB",parentLocale:"en-001"},{locale:"en-GD",parentLocale:"en-001"},{locale:"en-GG",parentLocale:"en-001"},{locale:"en-GH",parentLocale:"en-001"},{locale:"en-GI",parentLocale:"en-001"},{locale:"en-GM",parentLocale:"en-001"},{locale:"en-GU",parentLocale:"en"},{locale:"en-GY",parentLocale:"en-001"},{locale:"en-HK",parentLocale:"en-001"},{locale:"en-IE",parentLocale:"en-001"},{locale:"en-IL",parentLocale:"en-001"},{locale:"en-IM",parentLocale:"en-001"},{locale:"en-IN",parentLocale:"en-001"},{locale:"en-IO",parentLocale:"en-001"},{locale:"en-JE",parentLocale:"en-001"},{locale:"en-JM",parentLocale:"en-001"},{locale:"en-KE",parentLocale:"en-001"},{locale:"en-KI",parentLocale:"en-001"},{locale:"en-KN",parentLocale:"en-001"},{locale:"en-KY",parentLocale:"en-001"},{locale:"en-LC",parentLocale:"en-001"},{locale:"en-LR",parentLocale:"en-001"},{locale:"en-LS",parentLocale:"en-001"},{locale:"en-MG",parentLocale:"en-001"},{locale:"en-MH",parentLocale:"en"},{locale:"en-MO",parentLocale:"en-001"},{locale:"en-MP",parentLocale:"en"},{locale:"en-MS",parentLocale:"en-001"},{locale:"en-MT",parentLocale:"en-001"},{locale:"en-MU",parentLocale:"en-001"},{locale:"en-MW",parentLocale:"en-001"},{locale:"en-MY",parentLocale:"en-001"},{locale:"en-NA",parentLocale:"en-001"},{locale:"en-NF",parentLocale:"en-001"},{locale:"en-NG",parentLocale:"en-001"},{locale:"en-NL",parentLocale:"en-150"},{locale:"en-NR",parentLocale:"en-001"},{locale:"en-NU",parentLocale:"en-001"},{locale:"en-NZ",parentLocale:"en-001"},{locale:"en-PG",parentLocale:"en-001"},{locale:"en-PH",parentLocale:"en-001"},{locale:"en-PK",parentLocale:"en-001"},{locale:"en-PN",parentLocale:"en-001"},{locale:"en-PR",parentLocale:"en"},{locale:"en-PW",parentLocale:"en-001"},{locale:"en-RW",parentLocale:"en-001"},{locale:"en-SB",parentLocale:"en-001"},{locale:"en-SC",parentLocale:"en-001"},{locale:"en-SD",parentLocale:"en-001"},{locale:"en-SE",parentLocale:"en-150"},{locale:"en-SG",parentLocale:"en-001"},{locale:"en-SH",parentLocale:"en-001"},{locale:"en-SI",parentLocale:"en-150"},{locale:"en-SL",parentLocale:"en-001"},{locale:"en-SS",parentLocale:"en-001"},{locale:"en-SX",parentLocale:"en-001"},{locale:"en-SZ",parentLocale:"en-001"},{locale:"en-Shaw",pluralRuleFunction:function(e,t){return"other"},fields:{year:{displayName:"Year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{other:"+{0} y"},past:{other:"-{0} y"}}},month:{displayName:"Month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{other:"+{0} m"},past:{other:"-{0} m"}}},day:{displayName:"Day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{other:"+{0} d"},past:{other:"-{0} d"}}},hour:{displayName:"Hour",relativeTime:{future:{other:"+{0} h"},past:{other:"-{0} h"}}},minute:{displayName:"Minute",relativeTime:{future:{other:"+{0} min"},past:{other:"-{0} min"}}},second:{displayName:"Second",relative:{0:"now"},relativeTime:{future:{other:"+{0} s"},past:{other:"-{0} s"}}}}},{locale:"en-TC",parentLocale:"en-001"},{locale:"en-TK",parentLocale:"en-001"},{locale:"en-TO",parentLocale:"en-001"},{locale:"en-TT",parentLocale:"en-001"},{locale:"en-TV",parentLocale:"en-001"},{locale:"en-TZ",parentLocale:"en-001"},{locale:"en-UG",parentLocale:"en-001"},{locale:"en-UM",parentLocale:"en"},{locale:"en-US",parentLocale:"en"},{locale:"en-VC",parentLocale:"en-001"},{locale:"en-VG",parentLocale:"en-001"},{locale:"en-VI",parentLocale:"en"},{locale:"en-VU",parentLocale:"en-001"},{locale:"en-WS",parentLocale:"en-001"},{locale:"en-ZA",parentLocale:"en-001"},{locale:"en-ZM",parentLocale:"en-001"},{locale:"en-ZW",parentLocale:"en-001"}]})},function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n(108));e.exports={en:r.default}},function(e,t){e.exports={"close.mediaBrowser":"Close Media Browser",choose:"Choose",item:"item",mediaItem:"media item",pluralItem:"a media item","rename.item":"Rename Item{item}",media:"Media",name:"Name",dimensions:"Dimensions",fileSize:"File Size",editedOn:"Edited On","search.tryAnother":"Try another search","contents.fetchingContents":"Hold tight while we fetch {cd}","search.noResults":'Uh oh. No results found for "{filter}"',"grammar.or":"or","search.clearFilter":"clear the searchfilter","directory.appearsToBeEmpty":'Directory "{cd}" appears to be empty.',perhapsYouWouldLikeTo:"Perhaps you'd like to","upload.someFiles":"upload some files","grammar.to":"to","directory.set":"Set Directory","directory.browse":"Browse Directory","support.noVideo":"Your browser does not support HTML5 Video.","support.noAudio":"Your browser does not support HTML5 Audio.",select:"Select","grammar.a":"a","media.source":"Media Source","modal.closeWindow":"Close {title} Modal Window",cancel:"Cancel","directory.cancelCreating":"creating directory {cd}",create:"Create",directory:"directory",cropAs:"Crop as",crop:"Crop",saveAs:"Save As",showAdvControls:"Show Advanced Controls",dragMode:"Drag Mode","crop.move":"Move","crop.showGuides":"Show Guides","crop.zoomIn":"Zoom In","crop.zoomOut":"Zoom Out","crop.moveLeft":"Move Left","crop.moveRight":"Move Right","crop.moveUp":"Move Up","crop.moveDown":"Move Down","crop.download":"Download Cropped Image","crop.uploadImage":"Upload Image","crop.boundingBox":"Bounding Box (px)","crop.X":"X","crop.Y":"Y","crop.width":"Width","crop.height":"Height","crop.aspectRatio":"Aspect Ratio","crop.free":"Free",rememberAspectRatio:"Remember Ratio","crop.scaleRotate":"Scale & Rotate","crop.rotate":"Rotate","crop.scale":"Scale",reset:"Reset",renamingItem:"renaming item {filename}","welcome.learnMore":"Learn more",filter:"Filter",sortBy:"Sort by","upload.files":"Upload files","upload.dragFilesUploading":"Uploading files","layout.masonry":"Masonry Layout","layout.fullscreenMode":"Fullscreen Mode","layout.viewMode":"View Mode","layout.table":"Table Layout","layout.thumb":"Thumbnail Layout","layout.grid":"Grid Layout","layout.list":"List Layout","media.browse":"Browse","media.contents":"Media Content","directory.create":"Create a Directory","directory.createNewIn":"Create a new Directory in {cd}",cropItem:"Crop {item}",cropAsItem:"Crop as {item}",saveAsItem:"Save as {item}",croppingItem:"Cropping {item}",mediaSourceTree:"Media Source Panel",pastImageFromClipboardMessage:"Paste images from the clipboard to upload",pastImageFromClipboardToMessage:"Paste images from the clipboard to upload to ${cd} of source ${cs}",deleteAreYouSureMessage:"Are you sure you want to permanently delete {filename}?",cropAreYouSureMessage:"Are you sure you want to reset your crop?",masonryLayoutMessage:"Masonry Layout",close:"Close",open:"Open",rename:"Rename",welcomeToEureka:"Welcome to Eureka. You found it.",delete:"Delete",in:"in","file.create":"Create File","contents.ofby":"contents of {cd} by filename, filesize, dimensions or even modification date","contents.filterBy":"Filter contents of {cd} by filename, filesize, dimensions or even modification date","file.quickCreate":"Quick Create Files","rename.cannot":"Cannot rename {filename} to the same name",expand:"Expand","choose.item":"Choose {filename}","new.name":"New name","directory.delete":"Delete Directory","delete.item":"Delete {filename}","deleted.item":"Deleted {filename}",download:"Download","download.item":"Download {filename}","expand.item":"Expand {filename}","directory.refresh":"Refresh Directory","upload.filesTo":"Upload File to {cd}","upload.createFileIn":"Create File in {cd}","context.performActions":"Perform Actions such as Expand or Choose on {filename}","layout.tabular":"Tabular Layout displays image thumbnails along with Name, Description, File Size and Edited On columns","layout.thumbnail":"Thumbnail layout displays a grid of medium sized thumbnails","file.openInNewTab":"Open {filename} in a new tab",toggle:"Toggle",pluralChoose:"item",copyListofSelectedFiles:"Copy list of selected files","media.sourceTree":"Media Source Panel","upload.dragFilestoUpload":"Drag files here to be uploaded to {cd}","crop.hideGuides":"Hide Guides","crop.toggleGuides":"Toggle Guides","crop.cropZoomOut":"Zoom Out","crop.upload":"Upload"}}])});